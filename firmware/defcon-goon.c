/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2017 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD *__fastcall sub_240(_DWORD *result, _DWORD *a2, unsigned int a3);
_DWORD *__fastcall sub_256(_DWORD *result, unsigned int a2);
int __fastcall sub_410(int a1, int a2, int a3, unsigned int a4);
int sub_42C(int a1, ...);
char *(__fastcall *__fastcall sub_464(char *(__fastcall *result)(unsigned __int8 *a1, int a2, int a3), int a2, unsigned int a3))(unsigned __int8 *a1, int a2, int a3);
int sub_4EC();
char *__fastcall sub_520(unsigned __int8 *a1, int a2, int a3);
int __fastcall sub_580(unsigned __int8 *a1, int a2);
signed int __fastcall sub_598(unsigned __int8 *a1);
int __fastcall sub_5BC(_BYTE *a1, int a2, int a3, void (__fastcall *a4)(int, int *, signed int, signed int));
signed int sub_ADC();
int __fastcall sub_B80(int a1);
int __fastcall sub_C20(_BYTE *a1);
signed int sub_D20();
signed int __fastcall sub_DD4(unsigned int a1);
int *__fastcall sub_E88(int *result);
signed int sub_EDC();
signed int __fastcall sub_F30(int a1);
signed int __fastcall sub_1010(unsigned int a1, int a2, __int16 a3);
int sub_113C();
int __fastcall sub_118C(int result);
int sub_11B8();
int __fastcall sub_1268(unsigned int a1, unsigned int a2);
int sub_1304();
int __fastcall sub_1338(int result);
unsigned int sub_134C();
int __fastcall sub_13C0(int result, int a2, int a3);
int sub_142C();
signed int __fastcall sub_1458(int a1, int a2);
int sub_1580();
signed int __fastcall sub_159C(unsigned int a1, int a2);
int sub_1748();
int sub_18B0();
int __fastcall sub_1934(char a1, char a2);
int sub_19C0();
int sub_19F0();
int sub_1A1C();
signed int sub_1AA8();
int __fastcall sub_1B8C(__int64 a1);
signed int __fastcall sub_1BD8(int a1);
int sub_1C6C();
void __fastcall sub_1CCC(int a1);
void sub_1E0C();
signed int sub_1FC0();
int sub_2430();
void __fastcall __noreturn sub_27AC(int a1, int a2, int a3, int a4);
int sub_2D48();
signed int __fastcall sub_2D7C(unsigned int a1);
int sub_2D9C();
unsigned int sub_2DC8();
signed int __fastcall sub_2E18(unsigned __int8 *a1);
unsigned int sub_2E44();
signed int sub_2E64();
unsigned int sub_2E8C();
signed int __fastcall sub_2EDC(int a1);
int __fastcall sub_2F50(_BYTE *a1);
int __fastcall sub_2FFC(unsigned int *a1);
int sub_305C();
_DWORD *__fastcall sub_3090(_DWORD *a1);
signed int __fastcall sub_30A0(int a1);
signed int __fastcall sub_30C4(_BYTE *a1);
int __fastcall sub_311C(int a1);
signed int __fastcall sub_3134(int a1);
signed int __fastcall sub_3168(int a1);
_DWORD *__fastcall sub_317C(_DWORD *a1);
signed int __fastcall sub_318C(_DWORD *a1);
signed int __fastcall sub_31BC(int a1, unsigned int a2, int a3, int a4);
signed int __fastcall sub_3230(int a1, unsigned int a2, unsigned __int8 *a3, int a4);
signed int __fastcall sub_32C8(int a1, unsigned int a2, int a3, unsigned __int8 *a4, unsigned __int8 a5, _DWORD *a6, _DWORD *a7);
signed int __fastcall sub_335C(int a1, _DWORD *a2);
int __fastcall sub_33AC(int a1, int a2, unsigned int a3, char a4);
signed int __fastcall sub_33DC(int a1, int a2, _DWORD *a3);
unsigned int __fastcall sub_3460(int a1);
_DWORD *__fastcall sub_348C(_DWORD *result, char a2, _BYTE *a3);
int __fastcall sub_34D0(int a1);
void __fastcall sub_34EC(int a1, int a2);
signed int __fastcall sub_3508(int a1, char a2);
int __fastcall sub_3528(_DWORD, _DWORD); // weak
unsigned int __fastcall sub_3554(int a1);
signed int __fastcall sub_3580(int a1);
unsigned int __fastcall sub_35B4(unsigned int result, unsigned int a2, unsigned int a3);
unsigned int __fastcall sub_3640(int a1, int a2, unsigned int a3);
signed int __fastcall sub_36E0(int a1);
signed int __fastcall sub_3708(int a1, char a2, int a3);
signed int __fastcall sub_375C(int a1, char a2, int a3);
signed int __fastcall sub_37D0(_BYTE *a1, _BYTE *a2, int a3, char a4);
signed int __fastcall sub_3874(_BYTE *a1, _BYTE *a2, int a3, char a4);
signed int __fastcall sub_3928(int a1, int a2);
int sub_3ADC();
int sub_3AF4();
int __fastcall sub_3B0C(int *a1);
int __fastcall sub_3B34(int *a1, unsigned __int8 *a2);
unsigned int __fastcall sub_3B9C(int a1);
char *(__fastcall *__fastcall sub_3BC8(unsigned int *a1, unsigned int *a2, unsigned int a3))(unsigned __int8 *a1, int a2, int a3);
int __fastcall sub_3D84(int result);
void *__fastcall sub_3DB0(int a1, unsigned int a2);
int __fastcall sub_3DF8(int result, unsigned __int8 *a2, int a3);
char *__fastcall sub_3E20(int a1, _BYTE *a2, int a3);
int sub_3EA8();
int sub_3EC4();
signed int sub_3EE0();
signed int sub_3F0C();
signed int __fastcall sub_3F30(int a1);
unsigned int __fastcall sub_3F68(int a1);
signed int __fastcall sub_3F94(int a1, _BYTE *a2);
signed int __fastcall sub_4054(_BYTE *a1, unsigned __int8 *a2, unsigned int a3, int a4, unsigned int a5, unsigned int a6);
int __fastcall sub_4170(int a1, signed int a2, int a3, int a4);
unsigned int __fastcall sub_41D8(int a1);
signed int __fastcall sub_4204(_BYTE *a1, unsigned int *a2, unsigned int a3);
int __fastcall sub_4324(int result);
signed int __fastcall sub_4348(int a1, _BYTE *a2, int a3);
signed int sub_43A8();
signed int sub_4430();
signed int sub_444C();
unsigned int sub_448C();
void sub_44A8();
signed int sub_44B8();
int sub_44F4();
signed int sub_4524();
int sub_46E4();
void __fastcall __noreturn sub_4710(_BYTE *a1);
int *__fastcall sub_475C(int *result);
signed int __fastcall sub_479C(unsigned __int8 a1, int *a2);
int __fastcall sub_48E8(int *a1);
int __fastcall sub_4944(int a1, int a2, _DWORD *a3);
int __fastcall sub_49AC(int a1);
int __fastcall sub_4A78(int a1);
signed int __fastcall sub_4A98(int *a1, int a2, int a3);
int __fastcall sub_4B88(_DWORD *a1);
unsigned __int64 __fastcall sub_4BD0(unsigned int a1);
int __fastcall sub_4C4C(int a1, int a2);
int __fastcall sub_4C7C(unsigned __int8 *a1, int *a2, int a3);
signed int __fastcall sub_4D48(_DWORD *a1, _WORD ***a2, __int16 a3, int a4, int a5);
signed int __fastcall sub_4F0C(_DWORD *a1, unsigned __int8 *a2, int a3);
int __fastcall sub_5850(unsigned __int8 *a1, int *a2, int a3);
signed int __fastcall sub_58DC(int *a1, int a2, int a3, signed int a4);
unsigned int __fastcall sub_5924(unsigned int result, unsigned int a2);
int __fastcall sub_5968(_BYTE *a1);
void __fastcall sub_59C0(int a1, int a2);
signed int __fastcall sub_59F8(int a1);
signed int __fastcall sub_5B80(int a1);
int *__fastcall sub_5BC0(int a1, unsigned __int8 *a2, int *a3);
int __fastcall sub_5C34(__int64 a1, int *a2);
signed int __fastcall sub_5CB4(__int64 a1, int a2);
signed int __fastcall sub_5D0C(int *a1);
int __fastcall sub_5D68(int *a1);
void *__fastcall sub_5DAC(unsigned int a1);
int __fastcall sub_5DC0(int *a1);
unsigned int __fastcall sub_5E04(unsigned int a1, int a2, unsigned int a3, int a4);
unsigned int __fastcall sub_5F88(__int64 a1, unsigned __int64 a2);
int __fastcall sub_60D0(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __fastcall sub_628C(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int a4);
signed int __fastcall sub_63B4(unsigned int a1, unsigned int a2);
BOOL __fastcall sub_6414(__int64 a1, int a2, int a3);
BOOL __fastcall sub_6444(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __fastcall sub_64A4(int result, int *a2, unsigned __int8 a3, int a4);
int sub_64E2();
int sub_64EA();
BOOL __fastcall sub_64FE(unsigned __int8 *a1);
int __fastcall sub_6512(int a1, char a2, int a3, unsigned int a4);
int sub_6530();
int __fastcall sub_653A(unsigned __int8 *a1, int a2);
signed int __fastcall sub_6554(_BYTE *a1, unsigned __int64 *a2, int a3, signed int a4, char a5);
BOOL __fastcall sub_6664(int a1, char a2, int a3, char a4);
BOOL __fastcall sub_66A4(int a1, char a2, int a3, int a4);
BOOL __fastcall sub_66E2(int a1, char a2, int a3, int a4);
int __fastcall sub_671E(int result, int a2, unsigned int a3, int a4);
int __fastcall sub_6754(char a1);
int __fastcall sub_678A(char a1);
int __fastcall sub_67C0(char a1);
int __fastcall sub_67F6(char a1);
int __fastcall sub_682C(char a1);
int __fastcall sub_6862(char a1);
int sub_6898();
int __fastcall sub_68A0(int a1, int a2);
signed int __fastcall sub_68B0(int a1);
signed int __fastcall sub_68EA(int a1, unsigned int a2, int a3, int a4);
int __fastcall sub_6920(unsigned __int8 *a1);
int __fastcall sub_6944(int result);
int __fastcall sub_696C(unsigned int a1, unsigned int a2);
signed int __fastcall sub_6980(int a1, unsigned int a2, int a3, _BYTE *a4);
signed int __fastcall sub_69CC(int a1, int a2);
signed int __fastcall sub_69F8(int a1);
signed int __fastcall sub_6B64(int a1, unsigned int a2, int a3, int a4);
signed int __fastcall sub_6BAE(int a1, unsigned int a2, unsigned __int8 *a3, int a4);
signed int __fastcall sub_6BFA(int a1, unsigned int a2, int a3, unsigned __int8 *a4, unsigned __int8 a5, _DWORD *a6, _DWORD *a7);
signed int __fastcall sub_6C60(int a1, _DWORD *a2);
int __fastcall sub_6C68(int a1);
void __fastcall sub_6C88(_DWORD *a1, int a2);
int __fastcall sub_6CA4(int a1);
int __fastcall sub_6CA8(int a1);
int __fastcall sub_6CB2(int result, _BYTE *a2, int a3);
signed int sub_6CCE();
int sub_6CD6();
int sub_6CF2();
signed int sub_6CFA();
int nullsub_1(void); // weak
void __fastcall __noreturn sub_6D04(unsigned int a1);
int __fastcall sub_6D10(_DWORD); // weak
_DWORD *__fastcall sub_6D12(_DWORD *a1, int *a2, unsigned int a3);
unsigned int *__fastcall sub_6D1A(unsigned int *a1, unsigned int a2, unsigned int a3);
_DWORD *__fastcall sub_6D22(_DWORD *result);
signed int __fastcall sub_6D4E(_BYTE *a1, int *a2);
signed int sub_6D7C(_BYTE *a1, unsigned __int8 *a2, ...);
int __fastcall sub_6DB8(int a1, _BYTE *a2, int a3);
signed int __fastcall sub_6DDC(_BYTE *a1);
int __fastcall sub_6DEE(int a1, int a2);
int __fastcall sub_6DF4(unsigned int a1, unsigned int a2);
int __fastcall sub_6E66(unsigned __int64 a1, unsigned __int64 a2);
int __fastcall sub_6EC0(unsigned __int64 a1, signed __int64 a2);
int __fastcall nullsub_2(_DWORD); // weak
__int64 __fastcall sub_6EF4(unsigned int a1, int a2);
__int64 __fastcall sub_6F52(signed int a1);
unsigned __int64 __fastcall sub_6F6A(unsigned int a1, int a2, unsigned int a3, int a4);
_DWORD *__fastcall sub_6F98(_DWORD *a1, int *a2, unsigned int a3);
unsigned int *__fastcall sub_6FC4(unsigned int *a1, unsigned int a2, unsigned int a3);
signed int sub_6FEE();
signed int sub_6FF4();
signed int sub_6FFA();
int __fastcall sub_7000(int a1, int a2, int a3);
signed int sub_7004();
signed int sub_700A();
signed int sub_7010();
signed int sub_7016();
int __fastcall sub_701C(int a1, int a2, int a3);
int sub_7028(); // weak
_DWORD *__fastcall sub_78D4(_DWORD *result, _DWORD *a2, unsigned int a3);
_DWORD *__fastcall sub_78EA(_DWORD *result, unsigned int a2);
int __fastcall nullsub_3(_DWORD, _DWORD); // weak
int __fastcall sub_795E(int result, _BYTE *a2);
int __fastcall sub_7970(char a1, char a2, char a3, int a4);
void sub_799C();
int __fastcall sub_79D2(int result);
int __fastcall sub_79DA(_BYTE *a1);
int sub_79FA();
signed int __fastcall sub_7A24(unsigned int a1, _BYTE *a2);
void sub_7C4C();
void sub_7C7A();
unsigned int __fastcall sub_7CA8(int a1, int a2);
void __fastcall sub_7D0C(int a1);
int __fastcall sub_7D7C(unsigned int a1, _BYTE *a2, int a3);
void sub_809C();
int sub_8198();
signed int sub_820C();
signed int sub_8278();
unsigned int sub_82D4();
int sub_82EC();
signed int sub_8350();
void sub_83E6();
signed int sub_855E();
int sub_85B0();
int __fastcall sub_877A(int a1, int a2, _WORD *a3);
signed int sub_8836();
int __fastcall sub_899C(int a1);
signed int sub_8A40();
void *sub_8A68();
void *__fastcall sub_8A72(unsigned int a1);
unsigned int sub_8B96();
signed int sub_8CBE();
int __fastcall sub_8CF8(int a1);
void sub_8F1A();
signed int __fastcall sub_8FD2(unsigned int a1);
unsigned int __fastcall sub_9018(int a1);
int __fastcall sub_9020(_WORD *a1);
int sub_9028();
void *__fastcall sub_903C(int a1);
void *sub_904A();
void *__fastcall sub_9060(int a1);
int __fastcall sub_9076(int a1, int a2, int a3, int a4);
void sub_908E();
int __fastcall sub_90A2(int a1);
void sub_9164();
int __fastcall sub_9198(int result);
signed int sub_91A0();
signed int sub_9306();
int sub_9316();
int sub_9338();
void sub_93D0();
int __fastcall sub_943E(int a1);
int sub_9568();
signed int __fastcall sub_9590(int a1, int a2, int a3, int a4, int a5);
signed int __fastcall sub_95AA(int a1, __int16 a2);
int __fastcall sub_95C4(int a1);
int __fastcall sub_95D2(int a1);
signed int sub_9702();
int __fastcall sub_9718(int a1, int a2);
unsigned int __fastcall sub_972E(int a1);
int *sub_9778();
void __fastcall sub_988E(char a1);
signed int sub_997A();
void sub_99A4();
int __fastcall sub_99D8(int a1, _WORD *a2, _WORD *a3);
signed int __fastcall sub_9A02(int a1, _BYTE *a2);
int __fastcall sub_9A24(int a1, int a2);
signed int sub_9B56();
signed int __fastcall sub_9C16(int a1);
int __fastcall sub_9C32(char a1);
void sub_9C50();
void sub_9C96();
int __fastcall sub_9CAC(int a1, int a2);
int __fastcall sub_9D30(__int16 a1);
int __fastcall sub_9D44(__int16 a1);
int __fastcall sub_9D5A(int a1);
int __fastcall sub_9D82(int a1);
BOOL sub_9D90();
unsigned int __fastcall sub_9DA8(int a1);
int __fastcall sub_9DCE(unsigned int a1);
int __fastcall sub_9E68(_WORD *a1);
signed int sub_9E84();
signed int sub_9F28();
void sub_9F46();
void __fastcall sub_A52E(int a1);
void sub_A630();
int sub_D1A8(); // weak
int *__fastcall sub_D1B0(int *result, int a2, char a3, int a4);
int sub_D1CC(); // weak

//-------------------------------------------------------------------------
// Data declarations

int dword_0[11] = { 536883200, 233, 309, 11549, 0, 0, 0, 0, 0, 0, 0 }; // weak
_UNKNOWN unk_51A; // weak
int *off_51C = &dword_1FFFF180; // weak
int dword_DB4 = 3275539260; // weak
_UNKNOWN loc_1D48; // weak
_UNKNOWN locret_3502; // weak
_UNKNOWN loc_3544; // weak
_UNKNOWN loc_3582; // weak
_UNKNOWN loc_4854; // weak
int *off_4BCC = &dword_1FFFFCD4; // weak
_UNKNOWN loc_4E00; // weak
_UNKNOWN loc_4F02; // weak
_UNKNOWN loc_59DE; // weak
int dword_60C8 = 4292870144; // weak
_UNKNOWN loc_6298; // weak
_UNKNOWN loc_6470; // weak
_UNKNOWN loc_6906; // weak
_UNKNOWN loc_6A90; // weak
_UNKNOWN loc_6B18; // weak
_UNKNOWN loc_6C42; // weak
_UNKNOWN loc_6C4A; // weak
_UNKNOWN loc_6C54; // weak
_UNKNOWN loc_6C5E; // weak
_UNKNOWN loc_6C70; // weak
_UNKNOWN loc_6C7A; // weak
_UNKNOWN loc_6C84; // weak
_UNKNOWN loc_6C8E; // weak
_UNKNOWN loc_6C98; // weak
_UNKNOWN loc_6CAC; // weak
_UNKNOWN loc_6E38; // weak
_UNKNOWN loc_6E8A; // weak
_UNKNOWN unk_70A0; // weak
_UNKNOWN unk_70CC; // weak
_UNKNOWN unk_7234; // weak
_UNKNOWN unk_7390; // weak
int dword_7474 = 2100490; // weak
int dword_7478 = 4278215461; // weak
_UNKNOWN unk_747C; // weak
_UNKNOWN unk_7654; // weak
_UNKNOWN unk_76B4; // weak
_UNKNOWN unk_77CC; // weak
_UNKNOWN loc_9F7C; // weak
_UNKNOWN loc_A7AE; // weak
_UNKNOWN loc_B2E0; // weak
_UNKNOWN loc_B30C; // weak
_UNKNOWN loc_B338; // weak
int dword_C928 = 49; // weak
_UNKNOWN unk_C92C; // weak
_UNKNOWN unk_CD9C; // weak
_UNKNOWN unk_CDE4; // weak
_UNKNOWN unk_D260; // weak
_UNKNOWN unk_D2E4; // weak
int dword_D2F8[5] = { 1074040832, 1074044928, 1074049024, 1074053120, 1074057216 }; // weak
_UNKNOWN unk_D3A8; // weak
int dword_D3B0[2] = { 271843334, 271843335 }; // weak
int dword_D3B8[32] =
{
  1441812,
  1703960,
  1966108,
  2621474,
  2097180,
  2621476,
  3145772,
  4456504,
  3670064,
  4718656,
  5767248,
  8388712,
  6291536,
  8388720,
  10485904,
  15728832,
  12583072,
  16777440,
  20971808,
  31457664,
  25166144,
  33554880,
  41943616,
  62915328,
  50332288,
  67109760,
  83887232,
  125830656,
  100664576,
  134219520,
  167774464,
  251661312
}; // weak
_UNKNOWN unk_D5AC; // weak
int dword_D5B4[2] = { 272105492, 272105493 }; // weak
_UNKNOWN unk_D708; // weak
int dword_D714[3] = { 272367640, 272367641, 272367642 }; // weak
int dword_D7F8[2] = { 0, 0 }; // weak
int dword_D804[2] = { 0, 0 }; // weak
int dword_D810[2] = { 66049, 4294901760 }; // weak
_UNKNOWN unk_D818; // weak
int dword_D820 = 0; // weak
_UNKNOWN unk_D828; // weak
void *off_D834 = (void *)0x300; // weak
_UNKNOWN unk_D83C; // weak
int dword_D848[2] = { 16777216, 0 }; // weak
char byte_D854 = '\x04'; // weak
int dword_D858 = 115200; // weak
char byte_D915[3] = { '@', '@', '@' }; // weak
int dword_FFC8[14] =
{
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295
}; // weak
int dword_1FFFF080; // weak
_DWORD dword_1FFFF084[59]; // idb
int dword_1FFFF170; // weak
int dword_1FFFF174; // weak
int dword_1FFFF178; // weak
char byte_1FFFF17C; // weak
int dword_1FFFF180; // weak
char byte_1FFFF184; // weak
int dword_1FFFF188; // weak
int dword_1FFFF18C; // weak
int dword_1FFFF190; // weak
int dword_1FFFF194; // weak
int dword_1FFFF198; // weak
int dword_1FFFF19C; // weak
int dword_1FFFF1A0; // weak
unsigned __int8 byte_1FFFF1A4[2048]; // idb
int dword_1FFFF9A4; // weak
int dword_1FFFF9A8; // weak
int dword_1FFFF9AC; // weak
int dword_1FFFF9B0; // weak
int dword_1FFFF9B4; // weak
int dword_1FFFF9B8; // weak
int dword_1FFFF9BC; // weak
_UNKNOWN unk_1FFFF9C0; // weak
_UNKNOWN unk_1FFFF9C8; // weak
int dword_1FFFFA2C; // weak
int dword_1FFFFA30; // weak
_DWORD dword_1FFFFA34[2]; // idb
int (__fastcall *dword_1FFFFA3C[2])(_DWORD); // idb
_DWORD dword_1FFFFA44[2]; // idb
_UNKNOWN unk_1FFFFA4C; // weak
_UNKNOWN unk_1FFFFA8C; // weak
int dword_1FFFFACC; // weak
int dword_1FFFFAD0; // weak
int dword_1FFFFADC; // weak
int dword_1FFFFAE0; // weak
int (__fastcall *dword_1FFFFAE4)(_DWORD, _DWORD); // weak
int dword_1FFFFAE8; // weak
int dword_1FFFFAEC[15]; // idb
_UNKNOWN unk_1FFFFB28; // weak
int dword_1FFFFB64; // weak
int dword_1FFFFB6C; // weak
int dword_1FFFFCCC; // weak
int dword_1FFFFCD0; // weak
int dword_1FFFFCD4; // weak
__int16 word_1FFFFCD8; // weak
__int16 word_1FFFFCDA; // weak
char byte_1FFFFCDC; // weak
char byte_1FFFFCDD; // weak
char byte_1FFFFCDE; // weak
char byte_1FFFFCDF; // weak
char byte_1FFFFCE0; // weak
char byte_1FFFFCE1; // weak
char byte_1FFFFCE2; // weak
char byte_1FFFFCE3; // weak
char byte_1FFFFCE4; // weak
char byte_1FFFFCE5; // weak
char byte_1FFFFCE6; // weak
char byte_1FFFFCE7; // weak
_UNKNOWN unk_1FFFFCE8; // weak
_UNKNOWN unk_200000E8; // weak
int dword_40001800; // weak
int dword_4000344C; // weak
int dword_40008858; // weak
_UNKNOWN unk_40008C00; // weak
int dword_40008C04; // weak
int dword_40008C10; // weak
int dword_40008C18; // weak
int dword_40008C1C; // weak
int dword_40008C28; // weak
int dword_40008C30; // weak
int dword_40008C34; // weak
_UNKNOWN unk_40008C40; // weak
int dword_40008C50; // weak
int dword_40008C5C; // weak
int dword_40008C60; // weak
int dword_40008C6C; // weak
int dword_40008C7C; // weak
int dword_40008C94; // weak
int dword_40009000; // weak
int dword_4000A000; // weak
char byte_40020000; // weak
char byte_40020002; // weak
int dword_40020004; // weak
int dword_40020008; // weak
int dword_4002000C; // weak
int dword_40038000; // weak
_UNKNOWN unk_40039000; // weak
_UNKNOWN unk_4003A000; // weak
int dword_40040000; // weak
int dword_40040008; // weak
int dword_40047000; // weak
_UNKNOWN unk_40048004; // weak
_UNKNOWN unk_40048010; // weak
_UNKNOWN unk_40048024; // weak
int dword_40048038; // weak
_UNKNOWN unk_40048044; // weak
_UNKNOWN unk_4004804C; // weak
_UNKNOWN unk_40048058; // weak
_UNKNOWN unk_4004805C; // weak
int dword_40048060; // weak
int dword_40048100; // weak
int dword_40049000; // weak
int dword_40049004; // weak
int dword_40049008; // weak
int dword_4004900C; // weak
int dword_40049010; // weak
int dword_40049048; // weak
int dword_4004904C; // weak
int dword_40049050; // weak
int dword_4004A000; // weak
int dword_4004A004; // weak
int dword_4004B004; // weak
int dword_4004B008; // weak
int dword_4004B00C; // weak
int dword_4004B010; // weak
int dword_4004B014; // weak
int dword_4004B018; // weak
int dword_4004B01C; // weak
int dword_4004C010; // weak
int dword_4004C01C; // weak
int dword_4004D000; // weak
int dword_4004D058; // weak
int dword_4004D05C; // weak
unsigned int dword_40054000[3]; // idb
_UNKNOWN unk_40055000; // weak
char byte_40064000; // weak
char byte_40064001; // weak
char byte_40064006; // weak
char byte_40064008; // weak
char byte_40064018; // weak
char byte_40065000; // weak
_UNKNOWN unk_40066000; // weak
_UNKNOWN unk_40067000; // weak
_UNKNOWN unk_4006C000; // weak
char byte_4007D002; // weak
char byte_4007E000; // weak
_UNKNOWN unk_400FF040; // weak
int dword_400FF044; // weak
int dword_400FF048; // weak
_UNKNOWN unk_400FF080; // weak
int dword_400FF084; // weak
int dword_400FF088; // weak
_UNKNOWN unk_400FF100; // weak
int dword_400FF110; // weak
int dword_E000E010; // weak
int dword_E000E014; // weak
int dword_E000E018; // weak
int dword_E000E100; // weak
int dword_E000E180; // weak
int dword_E000E40C; // weak
int dword_E000ED0C; // weak
int dword_E000ED10; // weak
int dword_E000ED20; // weak


//----- (00000240) --------------------------------------------------------
_DWORD *__fastcall sub_240(_DWORD *result, _DWORD *a2, unsigned int a3)
{
  unsigned int v3; // r3

  v3 = 0;
  while ( v3 < a3 )
  {
    *a2 = *result;
    v3 += 4;
    ++result;
    ++a2;
  }
  return result;
}

//----- (00000256) --------------------------------------------------------
_DWORD *__fastcall sub_256(_DWORD *result, unsigned int a2)
{
  unsigned int v2; // r3

  v2 = 0;
  while ( v2 < a2 )
  {
    *result = 0;
    v2 += 4;
    ++result;
  }
  return result;
}

//----- (00000410) --------------------------------------------------------
int __fastcall sub_410(int a1, int a2, int a3, unsigned int a4)
{
  if ( !a3 )
    sub_4710(sub_7028);
  return sub_6512(a1, a3, a2, a4);
}
// 7028: using guessed type int sub_7028();

//----- (0000042C) --------------------------------------------------------
int sub_42C(int a1, ...)
{
  _BYTE *v1; // r5
  int v2; // r0
  unsigned int v4[32]; // [sp+4h] [bp-A4h]
  va_list v5; // [sp+84h] [bp-24h]
  int varg_r0; // [sp+98h] [bp-10h]
  va_list varg_r1; // [sp+9Ch] [bp-Ch]

  va_start(varg_r1, a1);
  varg_r0 = a1;
  v1 = (_BYTE *)a1;
  sub_6D1A(v4, 0, 0x80u);
  va_copy(v5, varg_r1);
  v2 = sub_5BC(v1, (int)varg_r1, (int)v4, (void (__fastcall *)(int, int *, signed int, signed int))sub_64A4);
  return sub_580((unsigned __int8 *)v4, v2);
}

//----- (00000464) --------------------------------------------------------
char *(__fastcall *__fastcall sub_464(char *(__fastcall *result)(unsigned __int8 *a1, int a2, int a3), int a2, unsigned int a3))(unsigned __int8 *a1, int a2, int a3)
{
  int v3; // r5
  unsigned int v4; // r4
  int v5; // r3
  int v6; // r3
  int v7; // [sp+4h] [bp-1Ch]

  v3 = a2;
  v4 = a3;
  if ( !result )
    sub_4710("../utilities/fsl_io.c:255 : NULL != io");
  byte_1FFFF184 = *((_BYTE *)result + 4);
  dword_1FFFF180 = *(_DWORD *)result;
  if ( byte_1FFFF184 == 2 )
  {
    sub_3D84((int)&v7);
    v7 = v3;
    result = sub_3BC8((unsigned int *)dword_1FFFF180, (unsigned int *)&v7, v4);
    v6 = dword_1FFFF180;
    *(_DWORD *)(dword_1FFFF180 + 8) |= 0x80000u;
    *(_DWORD *)(v6 + 8) |= 0x40000u;
  }
  else if ( byte_1FFFF184 == 6 || byte_1FFFF184 == 1 )
  {
    sub_4324((int)&v7);
    v7 = v3;
    result = (char *(__fastcall *)(unsigned __int8 *, int, int))sub_4204(
                                                                  (_BYTE *)dword_1FFFF180,
                                                                  (unsigned int *)&v7,
                                                                  v4);
    v5 = dword_1FFFF180;
    *(_BYTE *)(dword_1FFFF180 + 3) |= 8u;
    *(_BYTE *)(v5 + 3) |= 4u;
  }
  return result;
}
// 1FFFF180: using guessed type int dword_1FFFF180;
// 1FFFF184: using guessed type char byte_1FFFF184;

//----- (000004EC) --------------------------------------------------------
int sub_4EC()
{
  if ( byte_1FFFF184 == 1 )
  {
    while ( !(sub_6CA8(dword_1FFFF180) & 0x40) )
      ;
  }
  else if ( byte_1FFFF184 == 2 )
  {
    while ( !(sub_6CA4(dword_1FFFF180) & 0x400000) )
      ;
  }
  return 0;
}
// 51C: using guessed type int *off_51C;
// 1FFFF180: using guessed type int dword_1FFFF180;
// 1FFFF184: using guessed type char byte_1FFFF184;

//----- (00000520) --------------------------------------------------------
char *__fastcall sub_520(unsigned __int8 *a1, int a2, int a3)
{
  char *result; // r0

  if ( byte_1FFFF184 == 2 )
  {
    if ( a3 )
    {
      sub_3DF8(dword_1FFFF180, a1, a2);
      result = 0;
    }
    else
    {
      result = sub_3E20(dword_1FFFF180, a1, a2);
    }
  }
  else if ( byte_1FFFF184 == 6 || byte_1FFFF184 == 1 )
  {
    if ( a3 )
    {
      sub_6CB2(dword_1FFFF180, a1, a2);
      result = 0;
    }
    else
    {
      result = (char *)sub_4348(dword_1FFFF180, a1, a2);
    }
  }
  else
  {
    result = (_BYTE *)(dword_0 + 1);
  }
  return result;
}
// 0: using guessed type int dword_0[11];
// 1FFFF180: using guessed type int dword_1FFFF180;
// 1FFFF184: using guessed type char byte_1FFFF184;

//----- (00000580) --------------------------------------------------------
int __fastcall sub_580(unsigned __int8 *a1, int a2)
{
  if ( !a1 )
    sub_4710(&unk_70A0);
  return sub_653A(a1, a2);
}

//----- (00000598) --------------------------------------------------------
signed int __fastcall sub_598(unsigned __int8 *a1)
{
  signed int result; // r0

  if ( !a1 )
    sub_4710(&unk_70CC);
  if ( sub_64FE(a1) )
    result = -1;
  else
    result = 1;
  return result;
}

//----- (000005BC) --------------------------------------------------------
int __fastcall sub_5BC(_BYTE *a1, int a2, int a3, void (__fastcall *a4)(int, int *, signed int, signed int))
{
  _BYTE *v4; // r4
  void (__fastcall *v5)(int, int *, signed int, signed int); // r7
  int v6; // r11
  char *v7; // r8
  int v8; // r5
  signed int v9; // r0
  int v10; // r6
  signed int v11; // r0
  int v12; // r3
  int *v13; // r3
  int v14; // r2
  signed int v15; // r9
  int v16; // r3
  int v17; // r2
  int v18; // r2
  int v19; // r10
  unsigned __int8 *v20; // r3
  signed int v21; // r1
  int v22; // r0
  int v23; // r3
  int *v24; // r3
  bool v25; // r9
  int *v26; // r3
  int v27; // r2
  int v28; // r3
  __int64 *v29; // r3
  signed int v30; // r0
  signed int v31; // r9
  signed int *v32; // r3
  int *v33; // r3
  int v34; // r2
  int v35; // r3
  signed int v36; // r0
  signed int v37; // r2
  signed int v38; // r2
  int *v39; // r3
  signed int v40; // r2
  int *v41; // r3
  signed int v42; // r3
  signed int v43; // r0
  _BYTE *v44; // r3
  char *v45; // r4
  _BYTE *v46; // r8
  _BYTE *v47; // r3
  _BYTE **v48; // r3
  _BYTE *v49; // r10
  int v50; // r5
  int v52; // [sp+Ch] [bp-6Ch]
  signed int v53; // [sp+10h] [bp-68h]
  signed int v54; // [sp+10h] [bp-68h]
  int v55; // [sp+14h] [bp-64h]
  int v56; // [sp+18h] [bp-60h]
  int v57; // [sp+1Ch] [bp-5Ch]
  __int64 v58; // [sp+20h] [bp-58h]
  int v59; // [sp+28h] [bp-50h]
  char v60; // [sp+2Ch] [bp-4Ch]

  v4 = a1;
  v55 = a2;
  v52 = a3;
  v5 = a4;
  v59 = 0;
  v56 = 0;
  v57 = 0;
  v6 = 0;
  v7 = 0;
  while ( *v4 )
  {
    if ( *v4 == 37 )
    {
      v8 = 0;
      v9 = 0;
      while ( !v9 )
      {
        switch ( (unsigned __int8)(v4[1] - 32) )
        {
          case 0u:
            v8 |= 4u;
            goto LABEL_3;
          case 3u:
            v8 |= 0x10u;
            goto LABEL_3;
          case 0xBu:
            v8 |= 2u;
            goto LABEL_3;
          case 0xDu:
            v8 |= 1u;
            goto LABEL_3;
          case 0x10u:
            v8 |= 8u;
LABEL_3:
            ++v4;
            break;
          default:
            v9 = 1;
            break;
        }
      }
      v10 = 0;
      v11 = 0;
      while ( !v11 )
      {
        v12 = (unsigned __int8)v4[1];
        if ( (unsigned int)(v12 - 48) > 9 )
        {
          if ( v12 == 42 )
          {
            v13 = (int *)v55;
            v55 += 4;
            v10 = *v13;
            ++v4;
          }
          else
          {
            v11 = 1;
          }
        }
        else
        {
          v10 = v12 + 10 * v10 - 48;
          ++v4;
        }
      }
      v14 = (int)(v4 + 1);
      if ( v4[1] == 46 )
      {
        v23 = 0;
        v53 = 0;
        v21 = 0;
        while ( !v21 )
        {
          v22 = *(unsigned __int8 *)(v14 + 1);
          if ( (unsigned int)(v22 - 48) > 9 )
          {
            if ( v22 == 42 )
            {
              v24 = (int *)v55;
              v55 += 4;
              v23 = *v24;
              ++v14;
              v53 = 1;
            }
            else
            {
              v21 = 1;
            }
          }
          else
          {
            v23 = v22 + 10 * v23 - 48;
            ++v14;
            v53 = 1;
          }
        }
        v15 = v23;
        v4 = (_BYTE *)v14;
      }
      else
      {
        v53 = 0;
        v15 = 6;
      }
      v16 = (int)(v4 + 1);
      v17 = (unsigned __int8)v4[1];
      if ( v17 == 104 )
      {
        if ( v4[2] == 104 )
        {
          LOWORD(v8) = v8 | 0x20;
          v16 = (int)(v4 + 2);
        }
        else
        {
          LOWORD(v8) = v8 | 0x40;
        }
      }
      else if ( v17 == 108 )
      {
        if ( v4[2] == 108 )
        {
          LOWORD(v8) = v8 | 0x100;
          v16 = (int)(v4 + 2);
        }
        else
        {
          LOWORD(v8) = v8 | 0x80;
        }
      }
      else
      {
        v16 = (int)v4;
      }
      v4 = (_BYTE *)(v16 + 1);
      v18 = *(unsigned __int8 *)(v16 + 1);
      v19 = v18;
      switch ( v18 )
      {
        case 100:
        case 105:
        case 102:
        case 70:
        case 120:
        case 88:
        case 111:
        case 98:
        case 112:
        case 117:
          if ( v18 == 100 || v18 == 105 )
          {
            if ( v8 & 0x100 )
            {
              v29 = (__int64 *)((v55 + 7) & 0xFFFFFFF8);
              v55 = (int)(v29 + 1);
              v58 = *v29;
            }
            else
            {
              v32 = (signed int *)v55;
              v55 += 4;
              v58 = *v32;
            }
            v30 = sub_6554(&v60, (unsigned __int64 *)&v58, 1, 10, 1);
            v6 = v30;
            v7 = &v60 + v30;
            if ( v58 < 0 )
            {
              v6 = v30 + 1;
              v31 = 45;
            }
            else if ( v8 & 2 )
            {
              v6 = v30 + 1;
              v31 = 43;
            }
            else if ( v8 & 4 )
            {
              v6 = v30 + 1;
              v31 = 32;
            }
            else
            {
              v31 = 0;
            }
            if ( v8 & 8 )
            {
              if ( v31 )
                v5(v52, &v59, (unsigned __int8)v31, 1);
              v5(v52, &v59, 48, v10 - v6);
              v6 = v10;
            }
            else if ( v8 & 1 )
            {
              if ( v31 )
                v5(v52, &v59, (unsigned __int8)v31, 1);
            }
            else
            {
              v5(v52, &v59, 32, v10 - v6);
              if ( v31 )
                v5(v52, &v59, (unsigned __int8)v31, 1);
            }
          }
          if ( v19 == 88 || v19 == 120 )
          {
            v25 = v19 != 120;
            if ( v8 & 0x100 )
            {
              v33 = (int *)((v55 + 7) & 0xFFFFFFF8);
              v55 = (int)(v33 + 2);
              v34 = *v33;
              v35 = v33[1];
              v56 = v34;
              v57 = v35;
            }
            else
            {
              v39 = (int *)v55;
              v55 += 4;
              v56 = *v39;
              v57 = 0;
            }
            v36 = sub_6554(&v60, (unsigned __int64 *)&v56, 0, 16, v25);
            v6 = v36;
            v7 = &v60 + v36;
            if ( v8 & 8 )
            {
              if ( v8 & 0x10 )
              {
                v5(v52, &v59, 48, 1);
                if ( v19 != 120 )
                  v37 = 88;
                else
                  v37 = 120;
                v5(v52, &v59, v37, 1);
                v54 = 1;
              }
              else
              {
                v54 = 0;
              }
              v5(v52, &v59, 48, v10 - v6);
              v6 = v10;
            }
            else if ( v8 & 1 )
            {
              v54 = 0;
            }
            else
            {
              if ( v8 & 0x10 )
                v6 = v36 + 2;
              v5(v52, &v59, 32, v10 - v6);
              if ( v8 & 0x10 )
              {
                v5(v52, &v59, 48, 1);
                if ( v19 != 120 )
                  v40 = 88;
                else
                  v40 = 120;
                v5(v52, &v59, v40, 1);
                v54 = 1;
              }
              else
              {
                v54 = 0;
              }
            }
            if ( v8 & 0x10 && !v54 )
            {
              v5(v52, &v59, 48, 1);
              if ( v19 != 120 )
                v38 = 88;
              else
                v38 = 120;
              v5(v52, &v59, v38, 1);
              v6 += 2;
            }
          }
          else
          {
            v25 = 1;
          }
          if ( v19 == 111 || v19 == 98 || v19 == 112 || v19 == 117 )
          {
            if ( v8 & 0x100 )
            {
              v26 = (int *)((v55 + 7) & 0xFFFFFFF8);
              v55 = (int)(v26 + 2);
              v27 = *v26;
              v28 = v26[1];
              v56 = v27;
              v57 = v28;
            }
            else
            {
              v41 = (int *)v55;
              v55 += 4;
              v56 = *v41;
              v57 = 0;
            }
            switch ( v19 )
            {
              case 111:
                v42 = 8;
                break;
              case 98:
                v42 = 2;
                break;
              case 112:
                v42 = 16;
                break;
              default:
                v42 = 10;
                break;
            }
            v43 = sub_6554(&v60, (unsigned __int64 *)&v56, 0, v42, v25);
            v6 = v43;
            v7 = &v60 + v43;
            if ( v8 & 8 )
            {
              v5(v52, &v59, 48, v10 - v43);
              v6 = v10;
            }
            else if ( !(v8 & 1) )
            {
              v5(v52, &v59, 32, v10 - v43);
            }
          }
          if ( v7 )
          {
            v44 = v4;
            v45 = v7;
            v46 = v44;
            while ( *v45 )
            {
              --v45;
              ((void (__fastcall *)(int, int *))v5)(v52, &v59);
            }
            v47 = v46;
            v7 = v45;
            v4 = v47;
          }
          if ( v8 & 1 )
            v5(v52, &v59, 32, v10 - v6);
          break;
        case 99:
          v20 = (unsigned __int8 *)v55;
          v55 += 4;
          v5(v52, &v59, *v20, 1);
          break;
        case 115:
          v48 = (_BYTE **)v55;
          v55 += 4;
          v49 = *v48;
          if ( *v48 )
          {
            if ( v53 )
              v6 = v15;
            else
              v6 = sub_5968(v49);
            v50 = v8 & 1;
            if ( !v50 )
              v5(v52, &v59, 32, v10 - v6);
            if ( v53 )
            {
              while ( *v49 && v6 > 0 )
              {
                ++v49;
                ((void (__fastcall *)(int, int *))v5)(v52, &v59);
                --v6;
              }
              v6 = v15 - v6;
            }
            else
            {
              while ( *v49 )
              {
                ++v49;
                ((void (__fastcall *)(int, int *))v5)(v52, &v59);
              }
            }
            if ( v50 )
              v5(v52, &v59, 32, v10 - v6);
          }
          break;
        default:
          ((void (__fastcall *)(int, int *))v5)(v52, &v59);
          break;
      }
    }
    else
    {
      ((void (__fastcall *)(int, int *))v5)(v52, &v59);
    }
    ++v4;
  }
  return v59;
}

//----- (00000ADC) --------------------------------------------------------
signed int sub_ADC()
{
  signed int result; // r0

  switch ( (unsigned __int8)dword_1FFFF9A8 )
  {
    case 1u:
      if ( byte_1FFFFCE6 & 0x20 )
      {
        result = 0;
      }
      else
      {
        byte_1FFFFCE6 |= 0x20u;
        result = 1;
      }
      break;
    case 2u:
      if ( byte_1FFFFCE6 & 2 )
      {
        result = 0;
      }
      else
      {
        byte_1FFFFCE6 |= 2u;
        result = 1;
      }
      break;
    case 5u:
      if ( byte_1FFFFCE6 & 4 )
      {
        result = 0;
      }
      else
      {
        byte_1FFFFCE6 |= 4u;
        result = 1;
      }
      break;
    case 6u:
      if ( byte_1FFFFCE6 & 8 )
      {
        result = 0;
      }
      else
      {
        byte_1FFFFCE6 |= 8u;
        result = 1;
      }
      break;
    case 7u:
      if ( byte_1FFFFCE6 & 0x10 )
      {
        result = 0;
      }
      else
      {
        byte_1FFFFCE6 |= 0x10u;
        result = 1;
      }
      break;
    default:
      result = 0;
      break;
  }
  return result;
}
// 1FFFF9A8: using guessed type int dword_1FFFF9A8;
// 1FFFFCE6: using guessed type char byte_1FFFFCE6;

//----- (00000B80) --------------------------------------------------------
int __fastcall sub_B80(int a1)
{
  switch ( a1 )
  {
    case 0:
      sub_42C((int)"Human");
      break;
    case 1:
      sub_42C((int)"Goon");
      break;
    case 2:
      sub_42C((int)"Speaker");
      break;
    case 3:
      sub_42C((int)"Vendor");
      break;
    case 4:
      sub_42C((int)"Press");
      break;
    case 5:
      sub_42C((int)"Village");
      break;
    case 6:
      sub_42C((int)"Contest");
      break;
    case 7:
      sub_42C((int)"Artist");
      break;
    case 8:
      sub_42C((int)"CFP");
      break;
    case 9:
      sub_42C((int)"Uber");
      break;
    default:
      sub_42C((int)"Unknown");
      break;
  }
  return sub_42C((int)"\n\r");
}

//----- (00000C20) --------------------------------------------------------
int __fastcall sub_C20(_BYTE *a1)
{
  _BYTE *v1; // r4
  int v2; // r0
  int v4; // r3
  int v5; // r2
  char v6[120]; // [sp+4h] [bp-9Ch]
  int v7; // [sp+7Ch] [bp-24h]
  unsigned int v8; // [sp+80h] [bp-20h]
  int v9; // [sp+84h] [bp-1Ch]
  int v10; // [sp+88h] [bp-18h]
  unsigned int v11; // [sp+8Ch] [bp-14h]
  unsigned int i; // [sp+90h] [bp-10h]
  unsigned int j; // [sp+94h] [bp-Ch]

  v1 = a1;
  v11 = sub_5968(a1);
  for ( i = 0; ; ++i )
  {
    v2 = sub_6DF4(0x43u, v11);
    if ( v2 + 1 <= i )
      break;
    for ( j = 0; j < v11; ++j )
      v6[v11 * i + j] = v1[j];
  }
  v10 = 0;
  v8 = 0;
  v7 = 0;
  while ( v8 && v8 <= 0x43 )
  {
LABEL_16:
    v4 = v7++;
    v5 = *((unsigned __int8 *)&unk_7390 + v4);
    *v1 = v5;
    v8 += v5;
    if ( v9 )
    {
      for ( j = v8 - v5 - 1; v8 - 1 > j; ++j )
        sub_42C((int)&dword_7478, (unsigned __int8)v6[j]);
      v9 = 0;
    }
    else
    {
      for ( j = 0; (unsigned __int8)*v1 > j; ++j )
        sub_42C((int)" ");
      v9 = 1;
    }
  }
  v8 = 1;
  v9 = 0;
  if ( ++v10 != 35 )
  {
    sub_42C((int)&dword_7474);
    goto LABEL_16;
  }
  return sub_42C((int)"\n\r");
}
// 7474: using guessed type int dword_7474;
// 7478: using guessed type int dword_7478;
// C20: using guessed type char var_9C[120];

//----- (00000D20) --------------------------------------------------------
signed int sub_D20()
{
  int v1; // [sp+4h] [bp-14h]

  v1 = -1019428036;
  sub_6D1A((unsigned int *)&unk_1FFFF9C8, 0, 0x64u);
  sub_6D1A((unsigned int *)&unk_1FFFF9C0, 0, 8u);
  if ( sub_69F8((int)&unk_1FFFF9C8) )
    return 1;
  if ( sub_30A0((int)&unk_1FFFF9C0) )
    return 1;
  if ( sub_6C60((int)&unk_1FFFF9C8, &v1) )
    return 1;
  if ( v1 != -1019428036 )
    return 1;
  sub_33DC((int)&unk_1FFFF9C8, 4, &dword_1FFFF9B4);
  sub_33DC((int)&unk_1FFFF9C8, 1, &dword_1FFFF9BC);
  sub_33DC((int)&unk_1FFFF9C8, 0, &dword_1FFFF9B8);
  sub_42C((int)"\n\r-> Memory Size = %dKB [0x%X]\n\r", (unsigned int)dword_1FFFF9BC >> 10);
  sub_42C((int)"-> Sector Size = %dKB [0x%X]\n\r", (unsigned int)dword_1FFFF9B8 >> 10);
  return 0;
}
// DB4: using guessed type int dword_DB4;
// 1FFFF9B4: using guessed type int dword_1FFFF9B4;
// 1FFFF9B8: using guessed type int dword_1FFFF9B8;
// 1FFFF9BC: using guessed type int dword_1FFFF9BC;

//----- (00000DD4) --------------------------------------------------------
signed int __fastcall sub_DD4(unsigned int a1)
{
  unsigned int v1; // r5
  unsigned int v2; // r4
  unsigned int i; // r3
  signed int result; // r0
  char v5; // [sp+10h] [bp-28h]
  char v6; // [sp+14h] [bp-24h]
  char v7; // [sp+18h] [bp-20h]

  v1 = a1;
  __disable_irq();
  sub_68A0((int)&unk_1FFFF9C0, 1);
  v2 = dword_1FFFF9BC - dword_1FFFF9B8 + dword_1FFFF9B4;
  if ( sub_6B64((int)&unk_1FFFF9C8, v2, dword_1FFFF9B8, 1801807467) )
  {
    __enable_irq();
    result = 1;
  }
  else
  {
    for ( i = 0; i <= 3; ++i )
      *((_DWORD *)&v7 + i) = (v1 >> (-8 * i + 24)) & 0xFF;
    if ( sub_6BAE((int)&unk_1FFFF9C8, v2, (unsigned __int8 *)&v7, 16) )
    {
      __enable_irq();
      result = 1;
    }
    else if ( sub_6BFA((int)&unk_1FFFF9C8, v2, 16, (unsigned __int8 *)&v7, 1u, &v6, &v5) )
    {
      __enable_irq();
      result = 1;
    }
    else
    {
      sub_68A0((int)&unk_1FFFF9C0, 0);
      __enable_irq();
      result = 0;
    }
  }
  return result;
}
// 1FFFF9B4: using guessed type int dword_1FFFF9B4;
// 1FFFF9B8: using guessed type int dword_1FFFF9B8;
// 1FFFF9BC: using guessed type int dword_1FFFF9BC;

//----- (00000E88) --------------------------------------------------------
int *__fastcall sub_E88(int *result)
{
  int v1; // r1
  unsigned int i; // r3
  unsigned int j; // r2
  int v4; // [sp+0h] [bp-20h]

  v1 = dword_1FFFF9BC - dword_1FFFF9B8 + dword_1FFFF9B4;
  for ( i = 0; i <= 3; ++i )
    *(&v4 + i) = *(_DWORD *)(4 * i + v1);
  for ( j = 0; j <= 3; ++j )
    *result = (*result << 8) | *(&v4 + j) & 0xFF;
  return result;
}
// 1FFFF9B4: using guessed type int dword_1FFFF9B4;
// 1FFFF9B8: using guessed type int dword_1FFFF9B8;
// 1FFFF9BC: using guessed type int dword_1FFFF9BC;

//----- (00000EDC) --------------------------------------------------------
signed int sub_EDC()
{
  signed int result; // r0

  if ( !byte_1FFFFCE0 || byte_1FFFFCE0 == 7 )
    dword_40040000 = dword_40040000 & 0xFFFFFF7F | 1;
  dword_E000E010 = 5;
  sub_3EE0();
  sub_3F30((int)&byte_4007E000);
  result = sub_3F0C();
  dword_E000E010 = 7;
  dword_40040000 &= 0xFFFFFF7E;
  return result;
}
// 1FFFFCE0: using guessed type char byte_1FFFFCE0;
// 40040000: using guessed type int dword_40040000;
// 4007E000: using guessed type char byte_4007E000;
// E000E010: using guessed type int dword_E000E010;

//----- (00000F30) --------------------------------------------------------
signed int __fastcall sub_F30(int a1)
{
  int v1; // r1
  int v2; // r1
  int v3; // r4
  unsigned int i; // r1
  unsigned int v6; // [sp+0h] [bp-30h]
  char v7; // [sp+4h] [bp-2Ch]
  char v8; // [sp+5h] [bp-2Bh]
  char v9; // [sp+6h] [bp-2Ah]
  char v10; // [sp+7h] [bp-29h]
  char v11[2]; // [sp+Ch] [bp-24h]

  do
  {
    if ( word_1FFFFCD8 == word_1FFFFCDA )
      return 1;
    v1 = byte_1FFFF1A4[(unsigned __int16)word_1FFFFCDA++];
    word_1FFFFCDA &= 0x7FFu;
  }
  while ( v1 != 66 );
  v2 = 0;
  while ( 1 )
  {
    v3 = byte_1FFFF1A4[(unsigned __int16)word_1FFFFCDA];
    if ( v3 == 69 )
      break;
    if ( word_1FFFFCD8 == word_1FFFFCDA )
      return 1;
    v11[v2++] = v3;
    ++word_1FFFFCDA;
    word_1FFFFCDA &= 0x7FFu;
  }
  for ( i = 0; i <= 7; ++i )
    *((_BYTE *)&v6 + i) = v11[2 * i + 1] & 0xF | 16 * v11[2 * i];
  *(_DWORD *)a1 = _byteswap_ulong(v6);
  *(_BYTE *)(a1 + 4) = v7;
  *(_BYTE *)(a1 + 5) = v8;
  *(_BYTE *)(a1 + 6) = v9;
  *(_BYTE *)(a1 + 7) = v10;
  return 0;
}
// 1FFFFCD8: using guessed type __int16 word_1FFFFCD8;
// 1FFFFCDA: using guessed type __int16 word_1FFFFCDA;

//----- (00001010) --------------------------------------------------------
signed int __fastcall sub_1010(unsigned int a1, int a2, __int16 a3)
{
  int v3; // r11
  unsigned int i; // r8
  int v5; // r6
  unsigned int v6; // r5
  unsigned int v8; // [sp+4h] [bp-144h]
  __int16 v9; // [sp+8h] [bp-140h]
  int v10; // [sp+Ch] [bp-13Ch]
  unsigned __int8 v11; // [sp+10h] [bp-138h]
  unsigned __int8 v12; // [sp+11h] [bp-137h]
  unsigned __int8 v13; // [sp+12h] [bp-136h]
  unsigned __int8 v14; // [sp+13h] [bp-135h]
  char v15; // [sp+98h] [bp-B0h]
  char v16; // [sp+99h] [bp-AFh]
  char v17; // [sp+9Ah] [bp-AEh]
  unsigned __int16 v18; // [sp+9Bh] [bp-ADh]
  __int16 v19; // [sp+9Dh] [bp-ABh]
  __int16 v20; // [sp+9Fh] [bp-A9h]
  char v21; // [sp+A1h] [bp-A7h]
  char v22; // [sp+A2h] [bp-A6h]
  char v23; // [sp+A3h] [bp-A5h]

  v8 = a1;
  v10 = a2;
  v9 = a3;
  v3 = 0;
  for ( i = 0; ; i += v5 )
  {
    if ( i >= v8 )
      return 0;
    LOWORD(v5) = v8 - i;
    if ( v8 - i > 0x80 )
      LOWORD(v5) = 128;
    v15 = 12;
    v16 = 15;
    v17 = 0;
    v18 = (i >> 2) + v9;
    v6 = (unsigned int)v18 >> 8;
    v19 = v5;
    sub_66E2((int)&unk_40066000, 16, (int)&v15, 7);
    if ( !sub_66A4((int)&unk_40066000, 16, (int)&v11, 4) )
      v3 = v14 | v13 | v11 | v12;
    if ( v3 )
      break;
    v15 = 10;
    v16 = 15;
    v17 = 0;
    LOBYTE(v18) = (i >> 2) + v9;
    HIBYTE(v18) = v6;
    v19 = 0;
    v20 = v5;
    v21 = 0;
    v22 = 0;
    v5 = (unsigned __int16)v5;
    sub_6D12(&v23, (int *)(v10 + i), (unsigned __int16)v5);
    sub_66E2((int)&unk_40066000, 16, (int)&v15, (unsigned __int16)v5 + 11);
    if ( !sub_66A4((int)&unk_40066000, 16, (int)&v11, 4) )
      v3 = v14 | v13 | v11 | v12;
    if ( v3 )
      return 1;
  }
  return 1;
}

//----- (0000113C) --------------------------------------------------------
int sub_113C()
{
  char v0; // r1

  v0 = byte_1FFFFCE5 < 0;
  if ( byte_1FFFFCE5 & 0x20 )
    v0 ^= 1u;
  if ( byte_1FFFFCE5 & 0x10 )
    v0 ^= 1u;
  if ( byte_1FFFFCE5 & 4 )
    v0 ^= 1u;
  byte_1FFFFCE5 *= 2;
  byte_1FFFFCE5 |= v0;
  return (unsigned __int8)byte_1FFFFCE5;
}
// 1FFFFCE5: using guessed type char byte_1FFFFCE5;

//----- (0000118C) --------------------------------------------------------
int __fastcall sub_118C(int result)
{
  int v1; // r5
  unsigned int i; // r4

  v1 = result;
  for ( i = 128; i; i >>= 1 )
  {
    if ( v1 & i )
      result = sub_42C((int)&dword_C928);
    else
      result = sub_42C((int)&unk_C92C);
  }
  return result;
}
// C928: using guessed type int dword_C928;

//----- (000011B8) --------------------------------------------------------
int sub_11B8()
{
  sub_42C((int)"[*] Badge State = ");
  switch ( byte_1FFFFCE0 )
  {
    case 1:
      sub_42C((int)"D");
      break;
    case 2:
      sub_42C((int)"E");
      break;
    case 3:
      sub_42C((int)"F");
      break;
    case 4:
      sub_42C((int)"C");
      break;
    case 5:
      sub_42C((int)"O");
      break;
    case 6:
      sub_42C((int)"N");
      break;
    case 7:
      sub_42C((int)"Hax0r");
      break;
    default:
      sub_42C((int)"Attract");
      break;
  }
  sub_42C((int)"\n\r");
  sub_42C((int)"[*] Game Flags = ");
  sub_118C((unsigned __int8)byte_1FFFFCE6);
  return sub_42C((int)"\n\r");
}
// 1FFFFCE0: using guessed type char byte_1FFFFCE0;
// 1FFFFCE6: using guessed type char byte_1FFFFCE6;

//----- (00001268) --------------------------------------------------------
int __fastcall sub_1268(unsigned int a1, unsigned int a2)
{
  int v2; // ST20_4
  int v3; // r7
  int v4; // r5
  int v5; // r4

  v2 = a1;
  v3 = (unsigned __int8)a2;
  v4 = BYTE1(a2);
  v5 = BYTE2(a2);
  sub_42C(
    (int)"0x%02X%02X%02X%02X%02X%02X%02X%02X\n\r",
    a1 >> 24,
    BYTE2(a1),
    BYTE1(a1),
    (unsigned __int8)a1,
    (unsigned __int8)a2,
    BYTE1(a2),
    BYTE2(a2),
    a2 >> 24);
  sub_42C((int)"-> Unique ID: 0x%08X\n\r", v2);
  sub_42C((int)"-> Badge Type: ");
  sub_B80(v3);
  sub_42C((int)"-> Magic Token: ");
  if ( v4 )
    sub_42C((int)"Yes");
  else
    sub_42C((int)"No");
  sub_42C((int)"\n\r-> Game Flags: ");
  sub_118C(v5);
  return sub_42C((int)"\n\r");
}

//----- (00001304) --------------------------------------------------------
int sub_1304()
{
  int result; // r0

  sub_1268(dword_1FFFF9A4, dword_1FFFF9A8);
  result = sub_42C((int)"\n\r");
  if ( !(byte_1FFFFCE6 & 1) )
    byte_1FFFFCE6 |= 1u;
  return result;
}
// 1FFFF9A4: using guessed type int dword_1FFFF9A4;
// 1FFFF9A8: using guessed type int dword_1FFFF9A8;
// 1FFFFCE6: using guessed type char byte_1FFFFCE6;

//----- (00001338) --------------------------------------------------------
int __fastcall sub_1338(int result)
{
  dword_1FFFF188 = result;
  while ( dword_1FFFF188 )
    ;
  return result;
}
// 1FFFF188: using guessed type int dword_1FFFF188;

//----- (0000134C) --------------------------------------------------------
unsigned int sub_134C()
{
  unsigned int v0; // r5
  char v2; // [sp+4h] [bp-14h]
  char v3; // [sp+5h] [bp-13h]

  v2 = 0;
  v3 = 0;
  sub_348C(&unk_400FF100, 23, &v2);
  dword_4004D05C = dword_4004D05C & 0xFFFFF8FF | 0x100;
  dword_4004D05C = dword_4004D05C & 0xFEFFFFFC | 2;
  sub_1338(10);
  v0 = ((unsigned int)dword_400FF110 >> 23) & 1;
  dword_4004D05C &= 0xFFF0FFFF;
  dword_4004D05C = dword_4004D05C & 0xFFFFF8FF | 0x400;
  sub_1338(10);
  return v0;
}
// 0: using guessed type int dword_0[11];
// 38: using guessed type int dword_38[40];
// 4004D05C: using guessed type int dword_4004D05C;
// 400FF110: using guessed type int dword_400FF110;

//----- (000013C0) --------------------------------------------------------
int __fastcall sub_13C0(int result, int a2, int a3)
{
  int v3; // r4
  int v4; // r6

  v3 = a2;
  v4 = a3;
  if ( result )
  {
    sub_4054(&dword_40038000, (unsigned __int8 *)&byte_D854, 1u, 0, result, 0x7A1200u);
    result = sub_4170((int)&dword_40038000, 4, 0, v4);
    dword_40038000 = dword_40038000 & 0xFFFFFFE7 | 8;
  }
  if ( v3 )
    result = sub_1338(v3);
  dword_40038000 &= 0xFFFFFFE7;
  while ( dword_40038000 & 0x18 )
    ;
  return result;
}
// D854: using guessed type char byte_D854;
// 40038000: using guessed type int dword_40038000;

//----- (0000142C) --------------------------------------------------------
int sub_142C()
{
  unsigned int i; // r4
  int result; // r0

  for ( i = 0; i <= 5; ++i )
  {
    sub_13C0(
      *((_DWORD *)&unk_CD9C + 3 * i),
      *((_DWORD *)&unk_CD9C + 3 * i + 1),
      *((unsigned __int8 *)&unk_CD9C + 12 * i + 8));
    result = sub_1338(10);
  }
  return result;
}

//----- (00001458) --------------------------------------------------------
signed int __fastcall sub_1458(int a1, int a2)
{
  unsigned int i; // r3
  char v3; // r2
  unsigned int j; // r4
  int v5; // r1
  int v6; // r1
  int v8; // [sp+0h] [bp-40h]
  int v9; // [sp+4h] [bp-3Ch]
  int v10; // [sp+8h] [bp-38h]
  int v11; // [sp+Ch] [bp-34h]
  int v12; // [sp+10h] [bp-30h]
  int v13; // [sp+14h] [bp-2Ch]
  __int16 v14; // [sp+18h] [bp-28h]
  char v15[17]; // [sp+1Ch] [bp-24h]
  char v16; // [sp+2Dh] [bp-13h]

  v8 = a1;
  v9 = a2;
  v15[0] = 66;
  v16 = 69;
  for ( i = 0; i <= 7; v15[2 * i] = v3 - 48 )
  {
    v15[2 * i + 1] = (*((_BYTE *)&v8 + i) >> 4) - 48;
    v3 = *((_BYTE *)&v8 + i++) & 0xF;
  }
  v10 = 84412160;
  v11 = 17040134;
  v12 = 185207042;
  v13 = 252579084;
  v14 = 4368;
  sub_671E((int)v15, (int)&v10, 0x12u, 4368);
  sub_42C((int)"[*] Loading Data: 0x");
  for ( j = 1; j <= 0x10; ++j )
    sub_42C((int)"%02X", (unsigned __int8)v15[j]);
  sub_42C((int)"\n\r");
  dword_400FF084 = 2;
  sub_1338(100);
  dword_400FF088 = 2;
  sub_1338(100);
  do
  {
    if ( word_1FFFFCD8 == word_1FFFFCDA )
      return 1;
    v5 = byte_1FFFF1A4[(unsigned __int16)word_1FFFFCDA++];
    word_1FFFFCDA &= 0x7FFu;
  }
  while ( v5 != 82 );
  if ( word_1FFFFCD8 == word_1FFFFCDA )
    return 1;
  v6 = byte_1FFFF1A4[(unsigned __int16)word_1FFFFCDA++];
  word_1FFFFCDA &= 0x7FFu;
  if ( v6 != 79 )
    return 1;
  sub_3DF8((int)dword_40054000, (unsigned __int8 *)v15, 18);
  return 0;
}
// 0: using guessed type int dword_0[11];
// 1FFFFCD8: using guessed type __int16 word_1FFFFCD8;
// 1FFFFCDA: using guessed type __int16 word_1FFFFCDA;
// 400FF084: using guessed type int dword_400FF084;
// 400FF088: using guessed type int dword_400FF088;
// 1458: using guessed type char var_24[17];

//----- (00001580) --------------------------------------------------------
int sub_1580()
{
  dword_400FF088 = 16;
  sub_1338(250);
  dword_400FF084 = 16;
  return sub_1338(10);
}
// 0: using guessed type int dword_0[11];
// 400FF084: using guessed type int dword_400FF084;
// 400FF088: using guessed type int dword_400FF088;

//----- (0000159C) --------------------------------------------------------
signed int __fastcall sub_159C(unsigned int a1, int a2)
{
  unsigned int v2; // r4
  int v3; // r7
  signed int v4; // r4
  unsigned int v6; // [sp+8h] [bp-38h]
  int v7; // [sp+Ch] [bp-34h]
  unsigned __int8 v8; // [sp+10h] [bp-30h]
  unsigned __int8 v9; // [sp+11h] [bp-2Fh]
  unsigned __int8 v10; // [sp+12h] [bp-2Eh]
  unsigned __int8 v11; // [sp+13h] [bp-2Dh]
  unsigned __int8 v12; // [sp+15h] [bp-2Bh]
  unsigned __int8 v13; // [sp+16h] [bp-2Ah]
  unsigned __int8 v14; // [sp+17h] [bp-29h]
  unsigned __int8 v15; // [sp+18h] [bp-28h]
  char v16; // [sp+1Ch] [bp-24h]
  char v17; // [sp+1Dh] [bp-23h]
  char v18; // [sp+1Eh] [bp-22h]

  v6 = a1;
  v7 = a2;
  sub_42C((int)"-> Entering Bootloader...");
  sub_1580();
  LOBYTE(v2) = 0;
  do
  {
    v16 = 22;
    v17 = 15;
    v18 = 0;
    sub_66E2((int)&unk_40066000, 16, (int)&v16, 3);
    if ( sub_66A4((int)&unk_40066000, 16, (int)&v8, 4) )
      v3 = 1;
    else
      v3 = v11 | v8 | v9 | v10;
    sub_1338(5);
    v2 = (unsigned __int8)(v2 + 1);
  }
  while ( v3 && v2 <= 0x63 );
  if ( v2 > 0x63 )
  {
    sub_42C((int)"Error!\n\r");
    v4 = 1;
  }
  else
  {
    sub_42C((int)"Done!\n\r");
    v16 = -128;
    v17 = 15;
    v18 = 0;
    sub_66E2((int)&unk_40066000, 16, (int)&v16, 3);
    sub_66A4((int)&unk_40066000, 16, (int)&v8, 9);
    sub_42C((int)"-> Firmware Version: 0x%02X 0x%02X\n\r", v8, v9);
    sub_42C((int)"-> Hardware Version: 0x%02X%02X 0x%02X%02X\n\r", v11, v10, v13, v12);
    sub_42C((int)"-> ROM Version: 0x%02X 0x%02X\n\r", v14, v15);
    sub_42C((int)"-> Programming...");
    v16 = 24;
    v17 = 15;
    v18 = 0;
    sub_66E2((int)&unk_40066000, 16, (int)&v16, 3);
    if ( !sub_66A4((int)&unk_40066000, 16, (int)&v8, 4) )
      v3 = v11 | v8 | v9 | v10;
    if ( v3 )
    {
      sub_42C((int)"Error!\n\r");
      v4 = 1;
    }
    else
    {
      v4 = sub_1010(v6, v7, 0);
      if ( v4 )
      {
        sub_42C((int)"Error!\n\r");
        v4 = 1;
      }
      else
      {
        v16 = 25;
        v17 = 15;
        v18 = 0;
        sub_66E2((int)&unk_40066000, 16, (int)&v16, 3);
        if ( !sub_66A4((int)&unk_40066000, 16, (int)&v8, 4) )
          v3 = v11 | v8 | v9 | v10;
        if ( v3 )
        {
          sub_42C((int)"Error!\n\r");
          v4 = 1;
        }
        else
        {
          sub_42C((int)"Done!\n\r");
        }
      }
    }
  }
  return v4;
}

//----- (00001748) --------------------------------------------------------
int sub_1748()
{
  bool v0; // r4
  char v1; // r4
  int v2; // r4
  char v3; // r4
  unsigned int i; // r5
  unsigned int j; // r5
  unsigned int k; // r5
  char v7; // r4
  char v8; // r4
  char v9; // r4
  char v10; // r4
  char v11; // r4
  char v12; // r4
  char v13; // r4
  char v14; // r4

  dword_400FF088 = 32;
  sub_1338(10);
  dword_400FF084 = 32;
  sub_1338(10);
  v0 = sub_6664((int)&unk_40066000, 50, 0, 0);
  sub_1338(1);
  v1 = v0 + sub_6664((int)&unk_40066000, 50, 47, 57);
  v2 = (unsigned __int8)(sub_6664((int)&unk_40066000, 50, 0, 64) + v1);
  sub_1338(1);
  v3 = sub_6664((int)&unk_40066000, 50, 2, 250) + v2;
  for ( i = 0; i <= 5; i = (unsigned __int8)(i + 1) )
    v3 += sub_6664((int)&unk_40066000, 50, (unsigned __int8)(i + 7), byte_1FFFFCDC);
  for ( j = 0; j <= 5; j = (unsigned __int8)(j + 1) )
    v3 += sub_6664((int)&unk_40066000, 50, (unsigned __int8)(j + 34), byte_1FFFFCDD);
  for ( k = 0; k <= 5; k = (unsigned __int8)(k + 1) )
    v3 += sub_6664((int)&unk_40066000, 50, (unsigned __int8)(k + 22), 0);
  v7 = sub_6664((int)&unk_40066000, 50, 13, 0) + v3;
  v8 = sub_6664((int)&unk_40066000, 50, 14, 0) + v7;
  v9 = sub_6664((int)&unk_40066000, 50, 15, 0) + v8;
  v10 = sub_6664((int)&unk_40066000, 50, 112, 0) + v9;
  v11 = sub_6664((int)&unk_40066000, 50, 113, 0) + v10;
  v12 = sub_6664((int)&unk_40066000, 50, 114, 0) + v11;
  v13 = sub_6664((int)&unk_40066000, 50, 115, 0) + v12;
  v14 = sub_6664((int)&unk_40066000, 50, 116, 0) + v13;
  return (unsigned __int8)(sub_6664((int)&unk_40066000, 50, 117, 0) + v14);
}
// 0: using guessed type int dword_0[11];
// 1FFFFCDC: using guessed type char byte_1FFFFCDC;
// 1FFFFCDD: using guessed type char byte_1FFFFCDD;
// 400FF084: using guessed type int dword_400FF084;
// 400FF088: using guessed type int dword_400FF088;

//----- (000018B0) --------------------------------------------------------
int sub_18B0()
{
  unsigned int i; // r2
  unsigned int j; // r3
  unsigned int k; // r3
  __int16 v4; // [sp+4h] [bp-Ch]

  v4 = 257;
  sub_348C(&unk_400FF040, 0, &v4);
  dword_4004A000 = dword_4004A000 & 0xFFFFF8FF | 0x100;
  sub_1338(10);
  for ( i = 0; i <= 8; i = (unsigned __int8)(i + 1) )
  {
    dword_400FF048 = 1;
    for ( j = 0; j <= 9; j = (unsigned __int8)(j + 1) )
      ;
    dword_400FF044 = 1;
    for ( k = 0; k <= 9; k = (unsigned __int8)(k + 1) )
      ;
  }
  dword_4004A000 = dword_4004A000 & 0xFFFFF8FF | 0x200;
  return sub_1338(10);
}
// 4004A000: using guessed type int dword_4004A000;
// 400FF044: using guessed type int dword_400FF044;
// 400FF048: using guessed type int dword_400FF048;

//----- (00001934) --------------------------------------------------------
int __fastcall sub_1934(char a1, char a2)
{
  char v2; // r5
  int v3; // r4
  int result; // r0
  signed int i; // r3
  signed int v6; // r0

  v2 = a2;
  v3 = (unsigned __int8)(a1 + 22);
  result = sub_6664((int)&unk_40066000, 50, v3, a2);
  if ( result )
  {
    sub_42C((int)"[*] I2C Bus Clear...");
    sub_18B0();
    sub_1338(100);
    sub_3580((int)&unk_40066000);
    sub_1338(10);
    v6 = sub_2EDC(0);
    sub_3640((int)&unk_40066000, (int)&unk_D828, v6);
    sub_1338(10);
    if ( sub_6664((int)&unk_40066000, 50, v3, v2) )
      result = sub_42C((int)"Error!\n\r");
    else
      result = sub_42C((int)"Done!\n\r");
  }
  for ( i = 0; i <= 99; ++i )
    ;
  return result;
}

//----- (000019C0) --------------------------------------------------------
int sub_19C0()
{
  int result; // r0

  for ( dword_1FFFF190 = 0; (unsigned int)dword_1FFFF190 <= 5; ++dword_1FFFF190 )
    result = sub_1934(dword_1FFFF190, byte_1FFFFCDE);
  return result;
}
// 1FFFF190: using guessed type int dword_1FFFF190;
// 1FFFFCDE: using guessed type char byte_1FFFFCDE;

//----- (000019F0) --------------------------------------------------------
int sub_19F0()
{
  int result; // r0

  for ( dword_1FFFF194 = 0; (unsigned int)dword_1FFFF194 <= 5; ++dword_1FFFF194 )
    result = sub_1934(dword_1FFFF194, 0);
  return result;
}
// 1FFFF194: using guessed type int dword_1FFFF194;

//----- (00001A1C) --------------------------------------------------------
int sub_1A1C()
{
  int result; // r0
  unsigned int i; // r4
  int v2; // r0
  char v3; // r1
  char v4; // r5
  int v5; // r6

  result = sub_1338(250);
  byte_1FFFFCE5 = dword_E000E018;
  for ( i = 0; i <= 0x3A; ++i )
  {
    v2 = sub_113C();
    sub_6DF4(v2, 6u);
    v4 = v3;
    v5 = *((_DWORD *)&unk_CDE4 + 3 * i);
    if ( v5 )
      sub_1934(v3, byte_1FFFFCDE);
    sub_42C((int)&unk_76B4, dword_1FFFF084[i]);
    sub_13C0(v5, *((_DWORD *)&unk_CDE4 + 3 * i + 1), *((unsigned __int8 *)&unk_CDE4 + 12 * i + 8));
    sub_1934(v4, 0);
    result = sub_1338(30);
  }
  return result;
}
// 1FFFFCDE: using guessed type char byte_1FFFFCDE;
// 1FFFFCE5: using guessed type char byte_1FFFFCE5;
// E000E018: using guessed type int dword_E000E018;

//----- (00001AA8) --------------------------------------------------------
signed int sub_1AA8()
{
  signed int v0; // r4

  v0 = sub_159C(0x515Cu, (int)&unk_77CC);
  if ( v0 )
    return 1;
  sub_1934(2, 0);
  sub_1934(3, 0);
  sub_42C((int)"-> Executing Program...");
  sub_1580();
  sub_1338(200);
  sub_42C((int)"Done!\n\r");
  sub_42C((int)"-> Calibrating...");
  unk_40048004 = unk_40048004 & 0xFFFFFF1F | 0xC0;
  sub_1338(100);
  dword_400FF084 = 2;
  sub_1338(500);
  dword_400FF088 = 2;
  sub_1338(100);
  dword_400FF084 = 4;
  sub_1338(500);
  dword_400FF088 = 4;
  sub_1338(500);
  unk_40048004 &= 0xFFFFFF1F;
  sub_42C((int)"Done!\n\r");
  sub_1934(1, 0);
  sub_1934(4, 0);
  return v0;
}
// 0: using guessed type int dword_0[11];
// 400FF084: using guessed type int dword_400FF084;
// 400FF088: using guessed type int dword_400FF088;

//----- (00001B8C) --------------------------------------------------------
int __fastcall sub_1B8C(__int64 a1)
{
  __int64 v1; // kr00_8
  signed int i; // r4

  v1 = a1;
  if ( a1 )
  {
    for ( i = 0; i <= 4; ++i )
    {
      if ( HIDWORD(v1) )
        sub_19C0();
      if ( (_DWORD)v1 )
        sub_13C0(2600, 250, 50);
      else
        sub_1338(250);
      if ( HIDWORD(v1) )
        sub_19F0();
      LODWORD(a1) = sub_1338(250);
    }
  }
  return a1;
}

//----- (00001BD8) --------------------------------------------------------
signed int __fastcall sub_1BD8(int a1)
{
  int v1; // r4
  signed int result; // r0

  v1 = a1;
  result = sub_DD4((unsigned __int8)byte_1FFFFCE6);
  if ( result )
  {
    result = sub_DD4((unsigned __int8)byte_1FFFFCE6);
    if ( result )
    {
      sub_1B8C(1LL);
      result = sub_42C((int)&unk_7654);
    }
  }
  BYTE2(dword_1FFFF9B0) = byte_1FFFFCE6;
  if ( v1 )
  {
    dword_E000E100 = 4096;
    result = sub_1458(dword_1FFFF9AC, dword_1FFFF9B0);
    if ( result )
    {
      result = sub_1458(dword_1FFFF9AC, dword_1FFFF9B0);
      if ( result )
        result = sub_42C((int)"[*] NFMI Packet Update Error!\n\r");
    }
    dword_E000E180 = 4096;
    __dsb(0xFu);
    __isb(0xFu);
  }
  return result;
}
// 38: using guessed type int dword_38[40];
// 1FFFF9AC: using guessed type int dword_1FFFF9AC;
// 1FFFF9B0: using guessed type int dword_1FFFF9B0;
// 1FFFFCE6: using guessed type char byte_1FFFFCE6;
// E000E100: using guessed type int dword_E000E100;
// E000E180: using guessed type int dword_E000E180;

//----- (00001C6C) --------------------------------------------------------
int sub_1C6C()
{
  int v1; // [sp+4h] [bp-Ch]

  byte_1FFFFCE0 = 0;
  byte_1FFFFCDF = 1;
  sub_E88(&v1);
  if ( v1 == -1 )
  {
    byte_1FFFFCE6 = 0;
    sub_1BD8(0);
  }
  else
  {
    byte_1FFFFCE6 = v1;
    if ( (v1 & 0x7F) == 127 )
      byte_1FFFFCE0 = 7;
    else
      byte_1FFFFCE6 &= 0xFEu;
  }
  return sub_11B8();
}
// 1FFFFCDF: using guessed type char byte_1FFFFCDF;
// 1FFFFCE0: using guessed type char byte_1FFFFCE0;
// 1FFFFCE6: using guessed type char byte_1FFFFCE6;

//----- (00001CCC) --------------------------------------------------------
void __fastcall sub_1CCC(int a1)
{
  int v1; // r4
  int v2; // [sp-Ch] [bp-14h]

  v1 = a1;
  for ( dword_1FFFF1A0 = 0; (unsigned __int8)byte_1FFFFCDE >= dword_1FFFF1A0; dword_1FFFF1A0 += 4 )
  {
    if ( byte_1FFFFCE3 )
    {
      byte_1FFFFCE3 = 0;
      goto LABEL_3;
    }
    switch ( v1 )
    {
      case 1:
        sub_6754(dword_1FFFF1A0);
        break;
      case 2:
        sub_678A(dword_1FFFF1A0);
        break;
      case 3:
        sub_67C0(dword_1FFFF1A0);
        break;
      case 4:
        sub_67F6(dword_1FFFF1A0);
        break;
      case 5:
        sub_682C(dword_1FFFF1A0);
        break;
      case 6:
        sub_6862(dword_1FFFF1A0);
        break;
      default:
        break;
    }
    sub_1338(6);
  }
  dword_40040008 = 999;
  sub_EDC();
  if ( byte_1FFFFCE3 )
  {
    byte_1FFFFCE3 = 0;
  }
  else
  {
    for ( dword_1FFFF1A0 = (unsigned __int8)byte_1FFFFCDE; ; dword_1FFFF1A0 -= 4 )
    {
      if ( dword_1FFFF1A0 < 0 )
        goto LABEL_3;
      if ( byte_1FFFFCE3 )
        break;
      switch ( v1 )
      {
        case 1:
          sub_6754(dword_1FFFF1A0);
          break;
        case 2:
          sub_678A(dword_1FFFF1A0);
          break;
        case 3:
          sub_67C0(dword_1FFFF1A0);
          break;
        case 4:
          sub_67F6(dword_1FFFF1A0);
          break;
        case 5:
          sub_682C(dword_1FFFF1A0);
          break;
        case 6:
          sub_6862(dword_1FFFF1A0);
          break;
        default:
          break;
      }
      sub_1338(6);
    }
    byte_1FFFFCE3 = 0;
  }
LABEL_3:
  JUMPOUT(__CS__, v2);
}
// 0: using guessed type int dword_0[11];
// 1FFFF1A0: using guessed type int dword_1FFFF1A0;
// 1FFFFCDE: using guessed type char byte_1FFFFCDE;
// 1FFFFCE3: using guessed type char byte_1FFFFCE3;
// 40040008: using guessed type int dword_40040008;

//----- (00001E0C) --------------------------------------------------------
void sub_1E0C()
{
  switch ( byte_1FFFFCE0 )
  {
    case 1:
      sub_6754(byte_1FFFFCDE);
      break;
    case 2:
      sub_678A(byte_1FFFFCDE);
      break;
    case 3:
      sub_67C0(byte_1FFFFCDE);
      break;
    case 4:
      sub_67F6(byte_1FFFFCDE);
      break;
    case 5:
      sub_682C(byte_1FFFFCDE);
      break;
    case 6:
      sub_6862(byte_1FFFFCDE);
      break;
    case 7:
      for ( dword_1FFFF19C = 0; (unsigned __int8)byte_1FFFFCDE >= dword_1FFFF19C; ++dword_1FFFF19C )
      {
        sub_1934(1, dword_1FFFF19C);
        sub_1934(4, dword_1FFFF19C);
        sub_1338(2);
      }
      sub_1338(350);
      sub_19F0();
      sub_1934(0, byte_1FFFFCDE);
      sub_1934(3, byte_1FFFFCDE);
      sub_1338(350);
      sub_19F0();
      sub_1934(1, byte_1FFFFCDE);
      sub_1934(4, byte_1FFFFCDE);
      sub_1338(350);
      sub_19F0();
      sub_1934(2, byte_1FFFFCDE);
      sub_1934(5, byte_1FFFFCDE);
      sub_1338(350);
      sub_19F0();
      sub_1934(1, byte_1FFFFCDE);
      sub_1934(4, byte_1FFFFCDE);
      sub_1338(350);
      for ( dword_1FFFF19C = (unsigned __int8)byte_1FFFFCDE; dword_1FFFF19C >= 0; --dword_1FFFF19C )
      {
        sub_1934(1, dword_1FFFF19C);
        sub_1934(4, dword_1FFFF19C);
        sub_1338(2);
      }
      break;
    default:
      switch ( byte_1FFFFCDF )
      {
        case 1:
          sub_1CCC(1);
          byte_1FFFFCDF = 2;
          break;
        case 2:
          sub_1CCC(2);
          byte_1FFFFCDF = 3;
          break;
        case 3:
          sub_1CCC(3);
          byte_1FFFFCDF = 4;
          break;
        case 4:
          sub_1CCC(4);
          byte_1FFFFCDF = 5;
          break;
        case 5:
          sub_1CCC(5);
          byte_1FFFFCDF = 6;
          break;
        case 6:
          sub_1CCC(6);
          byte_1FFFFCDF = 1;
          break;
        default:
          byte_1FFFFCDF = 1;
          break;
      }
      break;
  }
}
// 1FFFF19C: using guessed type int dword_1FFFF19C;
// 1FFFFCDE: using guessed type char byte_1FFFFCDE;
// 1FFFFCDF: using guessed type char byte_1FFFFCDF;
// 1FFFFCE0: using guessed type char byte_1FFFFCE0;

//----- (00001FC0) --------------------------------------------------------
signed int sub_1FC0()
{
  signed int result; // r0
  unsigned int v1; // r1

  switch ( byte_1FFFFCE0 )
  {
    case 1:
      if ( byte_1FFFFCE3 && !sub_F30((int)&dword_1FFFF9A4) )
      {
        sub_1304();
        sub_1E0C();
        sub_1338(500);
        sub_19F0();
      }
      do
        result = sub_F30((int)&dword_1FFFF9A4);
      while ( !result );
      byte_1FFFFCE3 = 0;
      if ( BYTE1(dword_1FFFF9A8) == 1 )
      {
        result = sub_ADC();
        if ( result )
        {
          sub_1338(500);
          byte_1FFFFCE0 = 2;
          sub_1E0C();
          sub_142C();
          sub_11B8();
          sub_1338(500);
          sub_19F0();
          result = sub_1BD8(1);
        }
      }
      break;
    case 2:
      if ( byte_1FFFFCE3 && !sub_F30((int)&dword_1FFFF9A4) )
      {
        sub_1304();
        sub_1E0C();
        sub_1338(500);
        sub_19F0();
      }
      do
        result = sub_F30((int)&dword_1FFFF9A4);
      while ( !result );
      byte_1FFFFCE3 = 0;
      if ( BYTE1(dword_1FFFF9A8) == 1 )
      {
        result = sub_ADC();
        if ( result )
        {
          sub_1338(500);
          byte_1FFFFCE0 = 3;
          sub_1E0C();
          sub_142C();
          sub_11B8();
          sub_1338(500);
          sub_19F0();
          result = sub_1BD8(1);
        }
      }
      break;
    case 3:
      if ( byte_1FFFFCE3 && !sub_F30((int)&dword_1FFFF9A4) )
      {
        sub_1304();
        sub_1E0C();
        sub_1338(500);
        sub_19F0();
      }
      do
        result = sub_F30((int)&dword_1FFFF9A4);
      while ( !result );
      byte_1FFFFCE3 = 0;
      if ( BYTE1(dword_1FFFF9A8) == 1 )
      {
        result = sub_ADC();
        if ( result )
        {
          sub_1338(500);
          byte_1FFFFCE0 = 4;
          sub_1E0C();
          sub_142C();
          sub_11B8();
          sub_1338(500);
          sub_19F0();
          result = sub_1BD8(1);
        }
      }
      break;
    case 4:
      if ( byte_1FFFFCE3 && !sub_F30((int)&dword_1FFFF9A4) )
      {
        sub_1304();
        sub_1E0C();
        sub_1338(500);
        sub_19F0();
      }
      do
        result = sub_F30((int)&dword_1FFFF9A4);
      while ( !result );
      byte_1FFFFCE3 = 0;
      if ( BYTE1(dword_1FFFF9A8) == 1 )
      {
        result = sub_ADC();
        if ( result )
        {
          sub_1338(500);
          byte_1FFFFCE0 = 5;
          sub_1E0C();
          sub_142C();
          sub_11B8();
          sub_1338(500);
          sub_19F0();
          result = sub_1BD8(1);
        }
      }
      break;
    case 5:
      if ( byte_1FFFFCE3 && !sub_F30((int)&dword_1FFFF9A4) )
      {
        sub_1304();
        sub_1E0C();
        sub_1338(500);
        sub_19F0();
      }
      do
        result = sub_F30((int)&dword_1FFFF9A4);
      while ( !result );
      byte_1FFFFCE3 = 0;
      if ( BYTE1(dword_1FFFF9A8) == 1 )
      {
        result = sub_ADC();
        if ( result )
        {
          sub_1338(500);
          byte_1FFFFCE0 = 6;
          sub_1E0C();
          sub_142C();
          sub_11B8();
          sub_1338(500);
          sub_19F0();
          result = sub_1BD8(1);
          byte_1FFFFCE7 = 0;
        }
      }
      break;
    case 6:
      if ( byte_1FFFFCE3 && !sub_F30((int)&dword_1FFFF9A4) )
      {
        sub_1304();
        sub_1E0C();
        sub_1338(500);
        sub_19F0();
      }
      do
        result = sub_F30((int)&dword_1FFFF9A4);
      while ( !result );
      byte_1FFFFCE3 = 0;
      switch ( (unsigned __int8)dword_1FFFF9A8 )
      {
        case 0u:
        case 6u:
        case 7u:
        case 8u:
        case 9u:
          byte_1FFFFCE7 |= 1u;
          break;
        case 1u:
          byte_1FFFFCE7 |= 2u;
          break;
        case 2u:
          byte_1FFFFCE7 |= 4u;
          break;
        case 3u:
          byte_1FFFFCE7 |= 8u;
          break;
        case 4u:
          byte_1FFFFCE7 |= 0x10u;
          break;
        case 5u:
          byte_1FFFFCE7 |= 0x20u;
          break;
        default:
          break;
      }
      if ( (byte_1FFFFCE7 & 0x3F) == 63 )
      {
        byte_1FFFFCE6 |= 0x40u;
        byte_1FFFFCE0 = 7;
        sub_19F0();
        sub_1338(500);
        sub_1A1C();
        sub_11B8();
        sub_1BD8(1);
        result = sub_1338(1500);
      }
      break;
    case 7:
      sub_1E0C();
      dword_40040008 = 1499;
      while ( !sub_F30((int)&dword_1FFFF9A4) )
        ;
      byte_1FFFFCE3 = 0;
      result = sub_EDC();
      break;
    default:
      if ( byte_1FFFFCE3 && !sub_F30((int)&dword_1FFFF9A4) )
        sub_1304();
      do
        result = sub_F30((int)&dword_1FFFF9A4);
      while ( !result );
      byte_1FFFFCE3 = 0;
      if ( byte_1FFFFCE6 & 1 )
      {
        dword_1FFFF198 = (unsigned int)(unsigned __int8)byte_1FFFFCE6 >> 1;
        dword_1FFFF18C = 0;
        v1 = 0;
        while ( dword_1FFFF18C <= 4 )
        {
          v1 = (unsigned __int8)((dword_1FFFF198 & 1) + v1);
          dword_1FFFF198 >>= 1;
          ++dword_1FFFF18C;
        }
        if ( v1 <= 5 )
          JUMPOUT(__CS__, *((_DWORD *)&unk_7234 + v1));
        sub_1E0C();
        sub_142C();
        sub_11B8();
        sub_1338(500);
        sub_19F0();
        result = sub_1BD8(1);
      }
      break;
  }
  return result;
}
// 1FFFF18C: using guessed type int dword_1FFFF18C;
// 1FFFF198: using guessed type int dword_1FFFF198;
// 1FFFF9A4: using guessed type int dword_1FFFF9A4;
// 1FFFF9A8: using guessed type int dword_1FFFF9A8;
// 1FFFFCE0: using guessed type char byte_1FFFFCE0;
// 1FFFFCE3: using guessed type char byte_1FFFFCE3;
// 1FFFFCE6: using guessed type char byte_1FFFFCE6;
// 1FFFFCE7: using guessed type char byte_1FFFFCE7;
// 40040008: using guessed type int dword_40040008;

//----- (00002430) --------------------------------------------------------
int sub_2430()
{
  int i; // r4
  int v1; // r0
  unsigned int v2; // r0
  signed int v4; // r4
  int j; // r4
  int v6; // r0
  unsigned int k; // r3
  int v8; // r6
  int v9; // r5
  int l; // r4
  int v11; // r0
  int v12; // [sp+4h] [bp-2Ch]
  int v13; // [sp+8h] [bp-28h]
  char v14; // [sp+Ch] [bp-24h]
  __int16 v15; // [sp+Eh] [bp-22h]
  __int16 v16; // [sp+16h] [bp-1Ah]

  sub_42C((int)"[*] Entering Interactive Mode [Press 'H' for Commands]\n\r");
  while ( 2 )
  {
    sub_42C((int)"\n\r> ");
    for ( i = 0; ; ++i )
    {
      v1 = (unsigned __int8)sub_64EA();
      *(&v14 + i) = v1;
      if ( (unsigned __int8)v1 == 24 )
        return sub_42C((int)"\n\r[*] Exiting Interactive Mode\n\r");
      if ( v1 == 10 || v1 == 13 || (unsigned int)(i + 1) > 0x13 )
        break;
    }
    *(&v14 + i) = 0;
    v2 = sub_5968(&v14);
    switch ( (unsigned __int8)(v14 - 63) )
    {
      case 0u:
      case 9u:
      case 0x29u:
        if ( v2 == 1 )
        {
          sub_42C((int)"\n"
                       "\rT: Display transmit packet\n"
                       "\rR: Receive packet(s)\n"
                       "\rC: Clear game flags\n"
                       "\rH: Display available commands\n"
                       "\r^: System reset\n"
                       "\rCtrl-X: Exit interactive mode\n"
                       "\r");
          if ( byte_1FFFFCE0 == 7 )
            sub_42C((int)"\n"
                         "\rA <string>: ASCII art generator\n"
                         "\rS <freq> <ms>: Tone generator\n"
                         "\rU <hex bytes>: Update transmit packet\n"
                         "\r");
        }
        else
        {
          sub_42C((int)&unk_747C);
        }
        continue;
      case 2u:
      case 0x22u:
        if ( byte_1FFFFCE0 == 7 )
        {
          if ( v2 > 2 )
          {
            sub_C20(&v15);
          }
          else
          {
            sub_5924((unsigned int)&v14, (unsigned int)"DC27");
            sub_C20(&v14);
          }
        }
        else
        {
          sub_42C((int)&unk_747C);
        }
        continue;
      case 4u:
      case 0x24u:
        if ( v2 == 1 )
        {
          sub_42C((int)"Clear Game Flags? Are You Sure? [y/N] ");
          for ( j = 0; ; ++j )
          {
            v6 = (unsigned __int8)sub_64EA();
            *(&v14 + j) = v6;
            if ( (unsigned __int8)v6 == 10 || v6 == 13 || (unsigned int)(j + 1) > 0x13 )
              break;
          }
          *(&v14 + j) = 0;
          if ( sub_5968(&v14) == 1 && (v14 == 89 || v14 == 121) )
          {
            byte_1FFFFCE6 = 0;
            sub_1BD8(1);
            sub_42C((int)"-> Game Flags: ");
            sub_118C((unsigned __int8)byte_1FFFFCE6);
            sub_42C((int)"\n\r");
          }
        }
        else
        {
          sub_42C((int)&unk_747C);
        }
        continue;
      case 0x13u:
      case 0x33u:
        if ( v2 != 1 )
        {
          sub_42C((int)&unk_747C);
          continue;
        }
        v4 = 0;
LABEL_18:
        if ( !sub_F30((int)&dword_1FFFF9A4) )
        {
          sub_1304();
          if ( byte_1FFFFCE0 && byte_1FFFFCE0 != 7 )
            sub_1E0C();
          else
            sub_19C0();
          sub_1338(500);
          sub_19F0();
          while ( !sub_F30((int)&dword_1FFFF9A4) )
          {
            sub_1304();
            if ( byte_1FFFFCE0 && byte_1FFFFCE0 != 7 )
              sub_1E0C();
            else
              sub_19C0();
            sub_1338(500);
            sub_19F0();
          }
          continue;
        }
        if ( !v4 )
        {
          sub_42C((int)"Waiting for Packet(s)...\n\r");
          v4 = 1;
        }
        byte_1FFFFCE3 = 0;
        while ( 2 )
        {
          if ( byte_1FFFFCE3 )
          {
            byte_1FFFFCE3 = 0;
            goto LABEL_18;
          }
          if ( sub_134C() )
            continue;
          return sub_42C((int)"\n\r[*] Exiting Interactive Mode\n\r");
        }
      case 0x14u:
      case 0x34u:
        if ( v2 > 4 && byte_1FFFFCE0 == 7 )
        {
          v12 = 0;
          v13 = 0;
          sub_6D7C(&v15, "%d %d", &v12, &v13);
          sub_13C0(v12, v13, 50);
        }
        else
        {
          sub_42C((int)&unk_747C);
        }
        continue;
      case 0x15u:
      case 0x35u:
        if ( v2 == 1 )
          sub_1268(dword_1FFFF9AC, dword_1FFFF9B0);
        else
          sub_42C((int)&unk_747C);
        continue;
      case 0x16u:
      case 0x36u:
        if ( v2 > 0x11 && byte_1FFFFCE0 == 7 )
        {
          for ( k = 0; k < v2; ++k )
          {
            if ( (unsigned __int8)(*(&v14 + k) - 97) <= 0x19u )
              *(&v14 + k) -= 32;
          }
          v8 = sub_5850((unsigned __int8 *)&v16, 0, 16);
          LOBYTE(v16) = 0;
          v9 = sub_5850((unsigned __int8 *)&v15, 0, 16);
          sub_42C((int)"0x%08X%08X\n\r", v9, v8);
          sub_42C((int)"Update Transmit Packet? Are You Sure? [y/N] ");
          for ( l = 0; ; ++l )
          {
            v11 = (unsigned __int8)sub_64EA();
            *(&v14 + l) = v11;
            if ( (unsigned __int8)v11 == 10 || v11 == 13 || (unsigned int)(l + 1) > 0x13 )
              break;
          }
          *(&v14 + l) = 0;
          if ( sub_5968(&v14) == 1 && (v14 == 89 || v14 == 121) )
          {
            dword_1FFFF9AC = v9;
            LOBYTE(dword_1FFFF9B0) = HIBYTE(v8);
            BYTE1(dword_1FFFF9B0) = BYTE2(v8);
            BYTE2(dword_1FFFF9B0) = BYTE1(v8);
            HIBYTE(dword_1FFFF9B0) = v8;
            if ( sub_1458(v9, dword_1FFFF9B0) )
            {
              if ( sub_1458(dword_1FFFF9AC, dword_1FFFF9B0) )
                sub_42C((int)"[*] NFMI Packet Update Error!\n\r");
            }
            else
            {
              sub_42C((int)"-> Done!\n\r");
            }
          }
        }
        else
        {
          sub_42C((int)&unk_747C);
        }
        continue;
      case 0x1Fu:
        __dsb(0xFu);
        dword_E000ED0C = 100270084;
        __dsb(0xFu);
        while ( 1 )
          ;
      default:
        sub_42C((int)&unk_747C);
        continue;
    }
  }
}
// 1FFFF9A4: using guessed type int dword_1FFFF9A4;
// 1FFFF9AC: using guessed type int dword_1FFFF9AC;
// 1FFFF9B0: using guessed type int dword_1FFFF9B0;
// 1FFFFCE0: using guessed type char byte_1FFFFCE0;
// 1FFFFCE3: using guessed type char byte_1FFFFCE3;
// 1FFFFCE6: using guessed type char byte_1FFFFCE6;
// E000ED0C: using guessed type int dword_E000ED0C;

//----- (000027AC) --------------------------------------------------------
void __fastcall __noreturn sub_27AC(int a1, int a2, int a3, int a4)
{
  signed int v4; // r0
  unsigned int v5; // r0
  int v6; // r4
  signed int v7; // r0
  int v8; // [sp+0h] [bp-18h]

  v8 = a4;
  sub_6CFA();
  sub_6CCE();
  sub_6CF2();
  v4 = sub_2EDC(2);
  sub_410((int)&unk_4006C000, 115200, 1, v4);
  dword_E000E180 = 4096;
  __dsb(0xFu);
  __isb(0xFu);
  byte_4007E000 = 42;
  unk_40048004 &= 0xFFFFFF1F;
  v5 = sub_6DF4(dword_1FFFF170, 0x3E8u) - 1;
  if ( v5 <= 0xFFFFFF )
  {
    dword_E000E014 = v5;
    dword_E000ED20 = dword_E000ED20 & 0xFFFFFF | 0xC0000000;
    dword_E000E018 = 0;
    dword_E000E010 = 7;
  }
  sub_1338(1000);
  sub_18B0();
  sub_42C((int)"\n\r\n\rWelcome to the DEFCON 27 Official Badge\n\r\n\r");
  sub_42C((int)"Designed by Joe Grand [@joegrand] aka Kingpin\n\rgrandideastudio.com/portfolio/defcon-27-badge/\n\r\n\r");
  sub_42C((int)"[*] Starting Initialization\n\r");
  sub_42C((int)"[*] MKL27Z64 Unique Identifier: ");
  sub_42C((int)"0x%08X%08X%08X [32-bit: ", unk_40048058, unk_4004805C, dword_40048060, v8);
  v6 = unk_40048058 ^ unk_4004805C ^ dword_40048060 ^ unk_40048024;
  sub_42C((int)"0x%08X]\n\r", v6);
  v7 = sub_2EDC(0);
  sub_42C((int)"[*] Core Clock = %dHz\n\r", v7);
  sub_42C((int)"[*] Initializing Flash Memory");
  if ( sub_D20() )
    sub_42C((int)"...Error!\n\r");
  sub_42C((int)"[*] Badge Type = ");
  sub_B80((unsigned __int8)byte_1FFFF17C);
  switch ( byte_1FFFF17C )
  {
    case 0:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 6;
      byte_1FFFFCDE = -64;
      break;
    case 1:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 10;
      byte_1FFFFCDE = -64;
      break;
    case 2:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 7;
      byte_1FFFFCDE = -64;
      break;
    case 3:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 7;
      byte_1FFFFCDE = -64;
      break;
    case 4:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 2;
      byte_1FFFFCDE = -64;
      break;
    case 5:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 7;
      byte_1FFFFCDE = -64;
      break;
    case 6:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 6;
      byte_1FFFFCDE = -64;
      break;
    case 7:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 6;
      byte_1FFFFCDE = -64;
      break;
    case 8:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 6;
      byte_1FFFFCDE = -64;
      break;
    case 9:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 6;
      byte_1FFFFCDE = -64;
      break;
    default:
      byte_1FFFFCDC = 8;
      byte_1FFFFCDD = 6;
      byte_1FFFFCDE = -64;
      break;
  }
  sub_1C6C();
  sub_42C((int)"[*] Magic Token = ");
  sub_42C((int)"False\n\r");
  sub_42C((int)"[*] Testing Piezo...");
  sub_142C();
  sub_42C((int)"Done!\n\r");
  sub_1338(250);
  sub_42C((int)"[*] Configuring LED Driver...");
  if ( sub_1748() )
  {
    sub_1338(100);
    if ( sub_1748() )
    {
      sub_1B8C(1LL);
      sub_42C((int)"Error!\n\r");
    }
  }
  else
  {
    sub_19C0();
    sub_42C((int)"Done!\n\r");
  }
  dword_E000E100 = 4096;
  sub_42C((int)"[*] Configuring NFMI Radio\n\r");
  if ( sub_1AA8() )
  {
    sub_1338(100);
    if ( sub_1AA8() )
      sub_1B8C(0x100000000LL);
  }
  dword_1FFFF9AC = v6;
  LOWORD(dword_1FFFF9B0) = (unsigned __int8)byte_1FFFF17C;
  HIWORD(dword_1FFFF9B0) = (unsigned __int8)byte_1FFFFCE6;
  if ( sub_1458(v6, dword_1FFFF9B0) && sub_1458(dword_1FFFF9AC, dword_1FFFF9B0) )
    sub_42C((int)"[*] NFMI Packet Update Error!\n\r");
  byte_1FFFFCE4 = sub_134C();
  sub_1934(0, 0);
  sub_1934(5, 0);
  sub_42C((int)"[*] Initialization Complete\n\r");
  if ( byte_1FFFFCE0 == 7 )
  {
    sub_1338(100);
    sub_42C((int)"\n\r");
    sub_1A1C();
    sub_1338(500);
  }
  while ( 1 )
  {
    byte_1FFFFCE2 = sub_134C();
    if ( byte_1FFFFCE2 && (!byte_1FFFFCE4 || dword_1FFFF080) )
    {
      sub_42C((int)"[*] USB-to-Serial Adapter Detected\n\r");
      if ( !dword_1FFFF080 )
        sub_64EA();
      sub_2430();
      dword_1FFFF080 = 0;
    }
    byte_1FFFFCE4 = byte_1FFFFCE2;
    if ( byte_1FFFFCE0 != 7 )
    {
      sub_42C((int)"[*] Sleeping...");
      sub_64E2();
      dword_4004D05C = dword_4004D05C & 0xFFF0FFFF | 0x90000;
      dword_40040008 = 4999;
      sub_EDC();
      sub_42C((int)"Awake!\n\r");
    }
    if ( byte_1FFFFCE1 && byte_1FFFFCE0 != 7 )
    {
      if ( !byte_1FFFFCE0 )
        sub_1E0C();
      byte_1FFFFCE1 = 0;
    }
    dword_E000E180 = 4096;
    __dsb(0xFu);
    __isb(0xFu);
    sub_1FC0();
    dword_E000E100 = 4096;
  }
}
// 38: using guessed type int dword_38[40];
// D858: using guessed type int dword_D858;
// 1FFFF080: using guessed type int dword_1FFFF080;
// 1FFFF170: using guessed type int dword_1FFFF170;
// 1FFFF17C: using guessed type char byte_1FFFF17C;
// 1FFFF9AC: using guessed type int dword_1FFFF9AC;
// 1FFFF9B0: using guessed type int dword_1FFFF9B0;
// 1FFFFCDC: using guessed type char byte_1FFFFCDC;
// 1FFFFCDD: using guessed type char byte_1FFFFCDD;
// 1FFFFCDE: using guessed type char byte_1FFFFCDE;
// 1FFFFCE0: using guessed type char byte_1FFFFCE0;
// 1FFFFCE1: using guessed type char byte_1FFFFCE1;
// 1FFFFCE2: using guessed type char byte_1FFFFCE2;
// 1FFFFCE4: using guessed type char byte_1FFFFCE4;
// 1FFFFCE6: using guessed type char byte_1FFFFCE6;
// 40040008: using guessed type int dword_40040008;
// 40048060: using guessed type int dword_40048060;
// 4004D05C: using guessed type int dword_4004D05C;
// 4007E000: using guessed type char byte_4007E000;
// E000E010: using guessed type int dword_E000E010;
// E000E014: using guessed type int dword_E000E014;
// E000E018: using guessed type int dword_E000E018;
// E000E100: using guessed type int dword_E000E100;
// E000E180: using guessed type int dword_E000E180;
// E000ED20: using guessed type int dword_E000ED20;

//----- (00002D48) --------------------------------------------------------
int sub_2D48()
{
  int result; // r0

  if ( byte_40064000 & 2 || (((unsigned int)(unsigned __int8)byte_40064006 >> 2) & 3) == 1 )
    result = *((_DWORD *)sub_D1A8 + (byte_40064001 & 1));
  else
    result = 0;
  return result;
}
// D1A8: using guessed type int sub_D1A8();
// 40064000: using guessed type char byte_40064000;
// 40064001: using guessed type char byte_40064001;
// 40064006: using guessed type char byte_40064006;

//----- (00002D7C) --------------------------------------------------------
signed int __fastcall sub_2D7C(unsigned int a1)
{
  if ( a1 <= 0x9897 )
    return 0;
  if ( a1 > 0x7A1200 )
    return 2;
  return 1;
}

//----- (00002D9C) --------------------------------------------------------
int sub_2D9C()
{
  int result; // r0

  if ( byte_40065000 >= 0 )
    return 0;
  result = dword_1FFFFA2C;
  if ( !dword_1FFFFA2C )
    sub_4710("../drivers/fsl_clock.c:141 : g_xtal0Freq");
  return result;
}
// 1FFFFA2C: using guessed type int dword_1FFFFA2C;
// 40065000: using guessed type char byte_40065000;

//----- (00002DC8) --------------------------------------------------------
unsigned int sub_2DC8()
{
  unsigned int v0; // r4

  v0 = ((unsigned int)dword_40047000 >> 18) & 3;
  if ( v0 == 2 )
  {
    v0 = dword_1FFFFA30;
    if ( !dword_1FFFFA30 )
      sub_4710("../drivers/fsl_clock.c:161 : g_xtal32Freq");
  }
  else if ( v0 == 3 )
  {
    v0 = 1000;
  }
  else if ( v0 )
  {
    v0 = 0;
  }
  else if ( sub_2D9C() == 0x8000 )
  {
    v0 = 0x8000;
  }
  return v0;
}
// 1FFFFA30: using guessed type int dword_1FFFFA30;
// 40047000: using guessed type int dword_40047000;

//----- (00002E18) --------------------------------------------------------
signed int __fastcall sub_2E18(unsigned __int8 *a1)
{
  int v1; // r2
  signed int result; // r0

  unk_40048044 = *((_DWORD *)a1 + 1);
  v1 = *a1;
  result = 786432;
  dword_40047000 = dword_40047000 & 0xFFF3FFFF | (v1 << 18) & 0xC0000;
  return result;
}
// 40047000: using guessed type int dword_40047000;

//----- (00002E44) --------------------------------------------------------
unsigned int sub_2E44()
{
  unsigned int v0; // r4
  char v1; // r5

  v0 = ((unsigned int)(unsigned __int8)byte_40064008 >> 1) & 7;
  v1 = byte_40064018 & 7;
  return (unsigned int)sub_2D48() >> (v0 + v1);
}
// 40064008: using guessed type char byte_40064008;
// 40064018: using guessed type char byte_40064018;

//----- (00002E64) --------------------------------------------------------
signed int sub_2E64()
{
  if ( byte_40064018 < 0 )
    return 48000000;
  if ( (unsigned int)(unsigned __int8)byte_40064006 >> 2 << 30 )
    return 0;
  return 48000000;
}
// 40064006: using guessed type char byte_40064006;
// 40064018: using guessed type char byte_40064018;

//----- (00002E8C) --------------------------------------------------------
unsigned int sub_2E8C()
{
  unsigned int v0; // r3
  unsigned int result; // r0

  v0 = ((unsigned int)(unsigned __int8)byte_40064006 >> 2) & 3;
  if ( v0 == 1 )
    return (unsigned int)sub_2D48() >> (((unsigned __int8)byte_40064008 >> 1) & 7);
  if ( !v0 )
    return 48000000;
  if ( v0 != 2 )
    return 0;
  result = dword_1FFFFA2C;
  if ( !dword_1FFFFA2C )
    sub_4710("../drivers/fsl_clock.c:310 : g_xtal0Freq");
  return result;
}
// 1FFFFA2C: using guessed type int dword_1FFFFA2C;
// 40064006: using guessed type char byte_40064006;
// 40064008: using guessed type char byte_40064008;

//----- (00002EDC) --------------------------------------------------------
signed int __fastcall sub_2EDC(int a1)
{
  signed int result; // r0
  unsigned int v2; // r0
  unsigned int v3; // r0
  int v4; // r0

  switch ( a1 )
  {
    case 0:
    case 1:
      v2 = sub_2E8C();
      result = sub_6DF4(v2, (unk_40048044 >> 28) + 1);
      break;
    case 2:
    case 4:
      v3 = sub_2E8C();
      v4 = sub_6DF4(v3, (unk_40048044 >> 28) + 1);
      result = sub_6DF4(v4, ((unk_40048044 >> 16) & 7) + 1);
      break;
    case 7:
      result = sub_2DC8();
      break;
    case 8:
      result = sub_2D9C();
      break;
    case 12:
      result = sub_2E44();
      break;
    case 17:
    case 18:
      result = sub_2E64();
      break;
    case 19:
      result = 1000;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (00002F50) --------------------------------------------------------
int __fastcall sub_2F50(_BYTE *a1)
{
  if ( !a1 )
    sub_4710("../drivers/fsl_clock.c:353 : targetConfig");
  if ( (((unsigned int)(unsigned __int8)byte_40064006 >> 2) & 3) == 1 && *a1 == 1 && (byte_40064001 & 1) != a1[2] )
  {
    byte_40064000 &= 0x3Fu;
    while ( (unsigned int)(unsigned __int8)byte_40064006 >> 2 << 30 )
      ;
  }
  byte_40064008 = 2 * a1[3] & 0xE;
  byte_40064018 = (a1[5] << 7) | a1[4] & 7;
  byte_40064001 = byte_40064001 & 0xFE | a1[2] & 1;
  byte_40064000 = (*a1 << 6) | a1[1];
  if ( byte_40064001 & 4 && *a1 == 2 )
  {
    while ( !(byte_40064006 & 2) )
      ;
  }
  while ( *a1 != (((unsigned int)(unsigned __int8)byte_40064006 >> 2) & 3) )
    ;
  return 0;
}
// 40064000: using guessed type char byte_40064000;
// 40064001: using guessed type char byte_40064001;
// 40064006: using guessed type char byte_40064006;
// 40064008: using guessed type char byte_40064008;
// 40064018: using guessed type char byte_40064018;

//----- (00002FFC) --------------------------------------------------------
int __fastcall sub_2FFC(unsigned int *a1)
{
  unsigned int *v1; // r4
  signed int v2; // r0
  int result; // r0

  v1 = a1;
  v2 = sub_2D7C(*a1);
  byte_40065000 = *((_BYTE *)v1 + 4) | byte_40065000 & 0xF0;
  byte_40065000 = byte_40065000 & 0x5F | *((_BYTE *)v1 + 6);
  result = 16 * v2 & 0x30 | byte_40064001 & 1 | *((unsigned __int8 *)v1 + 5);
  byte_40064001 = result;
  if ( *((_BYTE *)v1 + 5) && byte_40065000 < 0 )
  {
    while ( !(byte_40064006 & 2) )
      ;
  }
  return result;
}
// 40064001: using guessed type char byte_40064001;
// 40064006: using guessed type char byte_40064006;
// 40065000: using guessed type char byte_40065000;

//----- (0000305C) --------------------------------------------------------
int sub_305C()
{
  unsigned int i; // r4
  int result; // r0

  for ( i = 0; i <= 1; i = (unsigned __int8)(i + 1) )
  {
    if ( dword_1FFFFA34[i] )
      result = dword_1FFFFA3C[i](dword_1FFFFA44[i]);
  }
  return result;
}

//----- (00003090) --------------------------------------------------------
_DWORD *__fastcall sub_3090(_DWORD *a1)
{
  return sub_6D12(a1, (int *)sub_D1B0, 0x1Cu);
}

//----- (000030A0) --------------------------------------------------------
signed int __fastcall sub_30A0(int a1)
{
  if ( !a1 )
    return 4;
  if ( !*(_DWORD *)(a1 + 4) )
    *(_DWORD *)(a1 + 4) = &unk_1FFFFA4C;
  sub_3090(*(_DWORD **)(a1 + 4));
  return 0;
}

//----- (000030C4) --------------------------------------------------------
signed int __fastcall sub_30C4(_BYTE *a1)
{
  signed int result; // r0

  if ( *a1 )
  {
    if ( a1[1] )
    {
      MEMORY[0xF000300C] |= 0x8000u;
      result = 0;
    }
    else
    {
      result = 120;
    }
  }
  else
  {
    MEMORY[0xF000300C] &= 0xFFFF7FFF;
    if ( a1[1] )
      MEMORY[0xF000300C] &= 0xFFFFBFFF;
    else
      MEMORY[0xF000300C] |= 0x4000u;
    result = 0;
  }
  return result;
}

//----- (0000311C) --------------------------------------------------------
int __fastcall sub_311C(int a1)
{
  return ((int (__fastcall *)(signed int, signed int, signed int, signed int))(*(_DWORD *)(a1 + 4) + 1))(
           -268423156,
           1024,
           10,
           1);
}

//----- (00003134) --------------------------------------------------------
signed int __fastcall sub_3134(int a1)
{
  byte_40020000 = 112;
  ((void (__fastcall *)(char *))(*(_DWORD *)(a1 + 72) + 1))(&byte_40020000);
  if ( byte_40020000 & 0x20 )
    return 103;
  if ( byte_40020000 & 0x10 )
    return 104;
  if ( byte_40020000 & 1 )
    return 105;
  return 0;
}
// 40020000: using guessed type char byte_40020000;

//----- (00003168) --------------------------------------------------------
signed int __fastcall sub_3168(int a1)
{
  signed int result; // r0

  if ( a1 == 1801807467 )
    result = 0;
  else
    result = 107;
  return result;
}

//----- (0000317C) --------------------------------------------------------
_DWORD *__fastcall sub_317C(_DWORD *a1)
{
  return sub_6D12(a1, (int *)sub_D1CC, 0xCu);
}
// D1CC: using guessed type int sub_D1CC();

//----- (0000318C) --------------------------------------------------------
signed int __fastcall sub_318C(_DWORD *a1)
{
  int v1; // r4

  v1 = (int)a1;
  if ( !a1 )
    return 4;
  a1[15] = 0;
  a1[16] = 0;
  if ( !a1[18] )
    a1[18] = &unk_1FFFFA8C;
  sub_317C((_DWORD *)a1[18]);
  sub_68B0(v1);
  return 0;
}

//----- (000031BC) --------------------------------------------------------
signed int __fastcall sub_31BC(int a1, unsigned int a2, int a3, int a4)
{
  int v4; // r6
  int v5; // r7
  int v6; // r4
  signed int v7; // r5
  unsigned int v8; // r4
  unsigned int v9; // r8
  unsigned int v10; // r7
  int v11; // r1

  v4 = a1;
  v5 = a3;
  v6 = a4;
  v7 = sub_68EA(a1, a2, a3, *(unsigned __int8 *)(a1 + 52));
  if ( !v7 )
  {
    v7 = sub_3168(v6);
    if ( !v7 )
    {
      v8 = *(_DWORD *)(v4 + 48);
      v9 = *(_DWORD *)(v4 + 16);
      v10 = v5 + v8 - 1;
      sub_6DF4(v10, *(_DWORD *)(v4 + 16));
      if ( v11 )
        v10 = (sub_6DF4(v10, v9) + 1) * v9 - 1;
      while ( v8 <= v10 )
      {
        dword_40020004 = v8 & 0xFFFFFF | 0x9000000;
        v7 = sub_3134(v4);
        if ( v7 )
          break;
        v8 += v9;
      }
    }
  }
  return v7;
}
// 40020004: using guessed type int dword_40020004;

//----- (00003230) --------------------------------------------------------
signed int __fastcall sub_3230(int a1, unsigned int a2, unsigned __int8 *a3, int a4)
{
  unsigned __int8 *v4; // r5
  int v5; // r6
  int v6; // r7
  int v7; // r4
  signed int result; // r0
  int v9; // r7
  int v10; // r9
  int v11; // [sp+4h] [bp-1Ch]

  v11 = a1;
  v4 = a3;
  v5 = a4;
  v6 = a1;
  v7 = *(unsigned __int8 *)(a1 + 57);
  if ( !a3 )
    return 4;
  result = sub_68EA(a1, a2, a4, *(unsigned __int8 *)(a1 + 57));
  if ( !result )
  {
    v9 = *(_DWORD *)(v6 + 48);
    while ( v5 )
    {
      dword_40020008 = sub_6920(v4);
      v10 = (int)(v4 + 4);
      if ( v7 == 4 )
      {
        dword_40020004 = v9 & 0xFFFFFF | 0x6000000;
      }
      else if ( v7 == 8 )
      {
        dword_4002000C = sub_6920(v4 + 4);
        v10 = (int)(v4 + 8);
        dword_40020004 = v9 & 0xFFFFFF | 0x7000000;
      }
      result = sub_3134(v11);
      if ( result )
        break;
      v9 += v7;
      v5 -= v7;
      v4 = (unsigned __int8 *)v10;
    }
  }
  return result;
}
// 40020004: using guessed type int dword_40020004;
// 40020008: using guessed type int dword_40020008;
// 4002000C: using guessed type int dword_4002000C;

//----- (000032C8) --------------------------------------------------------
signed int __fastcall sub_32C8(int a1, unsigned int a2, int a3, unsigned __int8 *a4, unsigned __int8 a5, _DWORD *a6, _DWORD *a7)
{
  int v7; // r4
  unsigned __int8 *v8; // r6
  int v9; // r5
  int v10; // r7
  signed int result; // r0
  int v12; // r5
  int v13; // [sp+4h] [bp-1Ch]

  v13 = a1;
  v7 = a3;
  v8 = a4;
  v9 = a1;
  v10 = *(unsigned __int8 *)(a1 + 55);
  if ( !a4 )
    return 4;
  result = sub_68EA(a1, a2, a3, *(unsigned __int8 *)(a1 + 55));
  if ( !result )
  {
    v12 = *(_DWORD *)(v9 + 48);
    while ( v7 )
    {
      dword_40020004 = v12 & 0xFFFFFF | 0x2000000;
      dword_40020008 = (a5 << 24) | 0xFFFFFF;
      dword_4002000C = sub_6920(v8);
      result = sub_3134(v13);
      if ( result )
      {
        if ( a6 )
          *a6 = v12;
        if ( a7 )
          *a7 = 0;
        return result;
      }
      v7 -= v10;
      v8 += v10;
      v12 += v10;
    }
  }
  return result;
}
// 40020004: using guessed type int dword_40020004;
// 40020008: using guessed type int dword_40020008;
// 4002000C: using guessed type int dword_4002000C;

//----- (0000335C) --------------------------------------------------------
signed int __fastcall sub_335C(int a1, _DWORD *a2)
{
  signed int result; // r0

  if ( !a1 )
    return 4;
  if ( !a2 )
    return 4;
  if ( (byte_40020002 & 3) == 2 )
  {
    *a2 = -1019428036;
    result = 0;
  }
  else
  {
    if ( (byte_40020002 & 0xC0) == 128 )
      *a2 = 1520786085;
    else
      *a2 = 1522744485;
    result = 0;
  }
  return result;
}
// 40020002: using guessed type char byte_40020002;

//----- (000033AC) --------------------------------------------------------
int __fastcall sub_33AC(int a1, int a2, unsigned int a3, char a4)
{
  unsigned int v4; // r2
  int result; // r0

  v4 = (a3 & unk_4004804C) >> a4;
  if ( (unsigned __int8)v4 == 15 )
    result = a1 * a2;
  else
    result = *((unsigned __int16 *)&unk_D260 + (unsigned __int8)v4) << 10;
  return result;
}

//----- (000033DC) --------------------------------------------------------
signed int __fastcall sub_33DC(int a1, int a2, _DWORD *a3)
{
  signed int result; // r0

  if ( !a1 )
    return 4;
  if ( !a3 )
    return 4;
  switch ( a2 )
  {
    case 0:
      *a3 = *(_DWORD *)(a1 + 16);
      result = 0;
      break;
    case 1:
      *a3 = *(_DWORD *)(a1 + 12);
      result = 0;
      break;
    case 2:
      *a3 = sub_6DF4(*(_DWORD *)(a1 + 12), *(_DWORD *)(a1 + 20));
      result = 0;
      break;
    case 3:
      *a3 = *(_DWORD *)(a1 + 20);
      result = 0;
      break;
    case 4:
      *a3 = *(_DWORD *)(a1 + 8);
      result = 0;
      break;
    case 5:
      *a3 = (unsigned int)*(unsigned __int8 *)(a1 + 4) << 27 >> 31;
      result = 0;
      break;
    case 6:
      *a3 = *(_DWORD *)(a1 + 28);
      result = 0;
      break;
    case 7:
      *a3 = *(_DWORD *)(a1 + 32);
      result = 0;
      break;
    case 32:
      *a3 = *(_DWORD *)(a1 + 60);
      result = 0;
      break;
    case 33:
      *a3 = *(_DWORD *)(a1 + 64);
      result = 0;
      break;
    default:
      result = 106;
      break;
  }
  return result;
}

//----- (00003460) --------------------------------------------------------
unsigned int __fastcall sub_3460(int a1)
{
  unsigned int i; // r3

  for ( i = 0; i <= 4 && *((_DWORD *)&unk_D2E4 + i) != a1; ++i )
    ;
  if ( i > 4 )
    sub_4710("../drivers/fsl_gpio.c:94 : instance < ARRAY_SIZE(s_gpioBases)");
  return i;
}

//----- (0000348C) --------------------------------------------------------
_DWORD *__fastcall sub_348C(_DWORD *result, char a2, _BYTE *a3)
{
  if ( !a3 )
    sub_4710("../drivers/fsl_gpio.c:101 : config");
  if ( *a3 )
  {
    if ( a3[1] )
      result[1] = 1 << a2;
    else
      result[2] = ((unsigned __int8)a3[1] + 1) << a2;
    result[5] |= 1 << a2;
  }
  else
  {
    result[5] &= ~(1 << a2);
  }
  return result;
}

//----- (000034D0) --------------------------------------------------------
int __fastcall sub_34D0(int a1)
{
  return *(_DWORD *)(dword_D2F8[(unsigned __int8)sub_3460(a1)] + 160);
}
// D2F8: using guessed type int dword_D2F8[5];

//----- (000034EC) --------------------------------------------------------
void __fastcall sub_34EC(int a1, int a2)
{
  int v2; // [sp-4h] [bp-Ch]

  *(_DWORD *)(dword_D2F8[(unsigned __int8)sub_3460(a1)] + 160) = a2;
  JUMPOUT(__CS__, v2);
}
// D2F8: using guessed type int dword_D2F8[5];

//----- (00003508) --------------------------------------------------------
signed int __fastcall sub_3508(int a1, char a2)
{
  signed int result; // r0

  if ( a2 & 0x10 )
  {
    *(_BYTE *)(a1 + 3) = 16;
    result = 1103;
  }
  else if ( a2 & 1 )
  {
    result = 1102;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00003528) --------------------------------------------------------
#error "3534: call analysis failed (funcsize=16)"

//----- (00003554) --------------------------------------------------------
unsigned int __fastcall sub_3554(int a1)
{
  unsigned int i; // r3

  for ( i = 0; i <= 1 && *((_DWORD *)&unk_D3A8 + i) != a1; ++i )
    ;
  if ( i > 1 )
    sub_4710("../drivers/fsl_i2c.c:184 : instance < ARRAY_SIZE(s_i2cBases)");
  return i;
}

//----- (00003580) --------------------------------------------------------
signed int __fastcall sub_3580(int a1)
{
  unsigned int v1; // r3
  signed int result; // r0

  *(_BYTE *)(a1 + 2) &= 0x7Fu;
  v1 = dword_D3B0[sub_3554(a1)];
  result = 1 << v1;
  *(int *)((char *)&dword_40047000 + (v1 >> 16)) &= ~(1 << v1);
  return result;
}
// D3B0: using guessed type int dword_D3B0[2];
// 40047000: using guessed type int dword_40047000;

//----- (000035B4) --------------------------------------------------------
unsigned int __fastcall sub_35B4(unsigned int result, unsigned int a2, unsigned int a3)
{
  unsigned int v3; // r8
  unsigned int v4; // r7
  unsigned int i; // r6
  unsigned int j; // r4
  unsigned int v7; // r0
  unsigned int v8; // [sp+0h] [bp-28h]
  unsigned int v9; // [sp+4h] [bp-24h]
  char v10; // [sp+8h] [bp-20h]
  char v11; // [sp+Ch] [bp-1Ch]

  v3 = result;
  v4 = a2;
  v8 = a3;
  v9 = 0;
  v11 = 0;
  v10 = 0;
  for ( i = -1; v9 <= 2 && i; i = result )
  {
    for ( j = 0; j <= 0x3F; j = (unsigned __int8)(j + 1) )
    {
      v7 = sub_6DF4(v8, *((unsigned __int16 *)dword_D3B8 + j) << v9);
      if ( v7 >= v4 )
        result = v7 - v4;
      else
        result = v4 - v7;
      if ( i > result )
      {
        v10 = v9;
        v11 = j;
        if ( !result )
          goto LABEL_11;
        i = result;
      }
    }
    result = i;
LABEL_11:
    v9 = (unsigned __int8)(v9 + 1);
  }
  *(_BYTE *)(v3 + 1) = v11 & 0x3F | (v10 << 6);
  return result;
}
// D3B8: using guessed type int dword_D3B8[32];

//----- (00003640) --------------------------------------------------------
unsigned int __fastcall sub_3640(int a1, int a2, unsigned int a3)
{
  _BYTE *v3; // r4
  int v4; // r5
  unsigned int v5; // r6
  unsigned int v6; // r0
  unsigned int result; // r0

  v3 = (_BYTE *)a1;
  v4 = a2;
  v5 = a3;
  if ( !a2 || !a3 )
    sub_4710("../drivers/fsl_i2c.c:505 : masterConfig && srcClock_Hz");
  v6 = sub_3554(a1);
  *(int *)((char *)&dword_40047000 + ((unsigned int)dword_D3B0[v6] >> 16)) |= 1 << dword_D3B0[v6];
  *v3 = 0;
  v3[1] = 0;
  v3[2] = 0;
  v3[3] = -1;
  v3[5] = 0;
  v3[6] = 80;
  v3[7] = 0;
  v3[2] &= 0x7Fu;
  v3[6] |= 0x50u;
  v3[6] |= 0x50u;
  v3[3] = 18;
  result = sub_35B4((unsigned int)v3, *(_DWORD *)(v4 + 4), v5);
  v3[6] = ((*(_BYTE *)(v4 + 1) << 7) | v3[6] & 0x7F) & 0xF0 | *(_BYTE *)(v4 + 8) & 0xF;
  v3[2] = *(_BYTE *)v4 << 7;
  return result;
}
// D3B0: using guessed type int dword_D3B0[2];
// 40047000: using guessed type int dword_40047000;

//----- (000036E0) --------------------------------------------------------
signed int __fastcall sub_36E0(int a1)
{
  signed int v1; // r3
  signed int result; // r0

  *(_BYTE *)(a1 + 2) &= 0xC7u;
  v1 = 0xFFFF;
  do
  {
    if ( !(*(_BYTE *)(a1 + 3) & 0x20) )
      break;
    --v1;
  }
  while ( v1 );
  if ( v1 )
    result = 0;
  else
    result = 1104;
  return result;
}

//----- (00003708) --------------------------------------------------------
signed int __fastcall sub_3708(int a1, char a2, int a3)
{
  _BYTE *v3; // r6
  char v4; // r4
  int v5; // r5
  signed int v6; // r3

  v3 = (_BYTE *)a1;
  v4 = a2;
  v5 = a3;
  if ( sub_6C68(a1) & 0x20 )
    return 1100;
  v3[2] |= 0x30u;
  v6 = 0xFFFF;
  do
  {
    if ( v3[12] & 1 )
      break;
    --v6;
  }
  while ( v6 );
  if ( !v6 )
    return 1104;
  v3[4] = 2 * v4 | (v5 == 1);
  return 0;
}

//----- (0000375C) --------------------------------------------------------
signed int __fastcall sub_375C(int a1, char a2, int a3)
{
  _BYTE *v3; // r6
  char v4; // r4
  int v5; // r5
  char v6; // r3
  signed int i; // r2
  signed int v8; // r3

  v3 = (_BYTE *)a1;
  v4 = a2;
  v5 = a3;
  if ( sub_6C68(a1) & 0x20 && !(v3[2] & 0x20) )
    return 1100;
  v6 = v3[1];
  v3[1] = v6 & 0x3F;
  v3[2] |= 0x14u;
  v3[1] = v6;
  for ( i = 6; i; i = (unsigned __int8)(i - 1) )
    ;
  v8 = 0xFFFF;
  do
  {
    if ( v3[12] & 1 )
      break;
    --v8;
  }
  while ( v8 );
  if ( !v8 )
    return 1104;
  v3[4] = 2 * v4 | (v5 == 1);
  return 0;
}

//----- (000037D0) --------------------------------------------------------
signed int __fastcall sub_37D0(_BYTE *a1, _BYTE *a2, int a3, char a4)
{
  signed int v4; // r5
  signed int v5; // r5
  char v6; // r2
  int v7; // r4
  signed int v8; // r2

  v4 = 0xFFFF;
  do
  {
    if ( (char)a1[3] < 0 )
      break;
    --v4;
  }
  while ( v4 );
  if ( !v4 )
    return 1104;
  a1[3] = 2;
  a1[2] |= 0x10u;
  v5 = 0;
  while ( 1 )
  {
    v7 = a3 - 1;
    if ( !a3 )
      break;
    a1[4] = *a2;
    v8 = 0xFFFF;
    do
    {
      if ( a1[3] & 2 )
        break;
      --v8;
    }
    while ( v8 );
    if ( !v8 )
      return 1104;
    v6 = a1[3];
    a1[3] = 2;
    if ( v6 & 0x10 )
    {
      a1[3] = 16;
      v5 = 1103;
    }
    if ( v6 & 1 && v7 )
    {
      a1[3] = 1;
      v5 = 1102;
      break;
    }
    a3 = v7;
    if ( v5 )
      break;
    ++a2;
  }
  if ( !v5 && !(a4 & 4) || v5 == 1102 )
  {
    a1[3] = 2;
    v5 = sub_36E0((int)a1);
  }
  return v5;
}

//----- (00003874) --------------------------------------------------------
signed int __fastcall sub_3874(_BYTE *a1, _BYTE *a2, int a3, char a4)
{
  _BYTE *v4; // r4
  _BYTE *v5; // r6
  char v6; // r5
  signed int v7; // r1
  signed int result; // r0
  int v9; // r7
  signed int v10; // r3
  char v11; // [sp+7h] [bp-19h]

  v4 = a1;
  v5 = a2;
  v6 = a4;
  v11 = 1;
  v7 = 0xFFFF;
  do
  {
    if ( (char)a1[3] < 0 )
      break;
    --v7;
  }
  while ( v7 );
  if ( !v7 )
    return 1104;
  a1[3] = 2;
  a1[2] &= 0xE7u;
  if ( a3 == 1 )
    a1[2] |= 8u;
  v11 = a1[4];
  result = 0;
  while ( 1 )
  {
    v9 = a3 - 1;
    if ( !a3 )
      break;
    v10 = 0xFFFF;
    do
    {
      if ( v4[3] & 2 )
        break;
      --v10;
    }
    while ( v10 );
    if ( !v10 )
      return 1104;
    v4[3] = 2;
    if ( a3 == 1 )
    {
      if ( v6 & 4 )
        v4[2] |= 0x10u;
      else
        result = sub_36E0((int)v4);
    }
    if ( v9 == 1 )
      v4[2] |= 8u;
    *v5 = v4[4];
    a3 = v9;
    ++v5;
  }
  return result;
}

//----- (00003928) --------------------------------------------------------
signed int __fastcall sub_3928(int a1, int a2)
{
  _BYTE *v2; // r4
  int v3; // r5
  int v4; // r2
  signed int v5; // r1
  signed int v6; // r3
  signed int v7; // r0
  signed int v8; // r0
  char v9; // r3
  signed int v10; // r3
  signed int v11; // r3
  signed int v12; // r0
  signed int v13; // r6

  v2 = (_BYTE *)a1;
  v3 = a2;
  if ( !a2 )
    sub_4710("../drivers/fsl_i2c.c:1023 : xfer");
  v4 = *(unsigned __int8 *)(a2 + 5);
  *(_BYTE *)(a1 + 6) |= 0x50u;
  *(_BYTE *)(a1 + 6) |= 0x50u;
  *(_BYTE *)(a1 + 3) = 18;
  v5 = 0xFFFF;
  do
  {
    if ( *(char *)(a1 + 3) < 0 )
      break;
    --v5;
  }
  while ( v5 );
  if ( !v5 )
    return 1104;
  if ( *(_BYTE *)(v3 + 12) && *(_BYTE *)(v3 + 5) == 1 )
    v4 = 0;
  if ( *(_DWORD *)v3 & 1 )
  {
    if ( v4 == 1 )
      return 4;
    v13 = 0;
  }
  else if ( *(_DWORD *)v3 & 2 )
  {
    v13 = sub_375C(a1, *(_BYTE *)(v3 + 4), v4);
  }
  else
  {
    v13 = sub_3708(a1, *(_BYTE *)(v3 + 4), v4);
  }
  if ( *(_DWORD *)v3 & 1 )
    goto LABEL_58;
  if ( v13 )
    return v13;
  v6 = 0xFFFF;
  do
  {
    if ( v2[3] & 2 )
      break;
    --v6;
  }
  while ( v6 );
  if ( !v6 )
    return 1104;
  v7 = sub_3508((int)v2, v2[3]);
  v13 = v7;
  if ( !v7 )
  {
LABEL_58:
    if ( *(_BYTE *)(v3 + 12) )
    {
      do
      {
        v2[3] = 2;
        v9 = *(_BYTE *)(v3 + 12) - 1;
        *(_BYTE *)(v3 + 12) = v9;
        v2[4] = *(_DWORD *)(v3 + 8) >> 8 * v9;
        v10 = 0xFFFF;
        do
        {
          if ( v2[3] & 2 )
            break;
          --v10;
        }
        while ( v10 );
        if ( !v10 )
          return 1104;
        v8 = sub_3508((int)v2, v2[3]);
        v13 = v8;
        if ( v8 )
        {
          if ( v8 == 1102 )
            sub_36E0((int)v2);
          return v13;
        }
      }
      while ( *(_BYTE *)(v3 + 12) );
      if ( *(_BYTE *)(v3 + 5) != 1 )
        goto LABEL_29;
      v2[3] = 2;
      v13 = sub_375C((int)v2, *(_BYTE *)(v3 + 4), 1);
      if ( !v13 )
      {
        v11 = 0xFFFF;
        do
        {
          if ( v2[3] & 2 )
            break;
          --v11;
        }
        while ( v11 );
        if ( v11 )
        {
          v12 = sub_3508((int)v2, v2[3]);
          v13 = v12;
          if ( !v12 )
            goto LABEL_29;
          if ( v12 == 1102 )
          {
            sub_36E0((int)v2);
            v13 = 1105;
          }
        }
        else
        {
          v13 = 1104;
        }
      }
    }
    else
    {
LABEL_29:
      if ( !*(_BYTE *)(v3 + 5) && *(_DWORD *)(v3 + 20) )
        v13 = sub_37D0(v2, *(_BYTE **)(v3 + 16), *(_DWORD *)(v3 + 20), *(_DWORD *)v3);
      if ( *(_BYTE *)(v3 + 5) == 1 && *(_DWORD *)(v3 + 20) )
        v13 = sub_3874(v2, *(_BYTE **)(v3 + 16), *(_DWORD *)(v3 + 20), *(_DWORD *)v3);
    }
  }
  else if ( v7 == 1102 )
  {
    sub_36E0((int)v2);
    v13 = 1105;
  }
  return v13;
}

//----- (00003ADC) --------------------------------------------------------
int sub_3ADC()
{
  return sub_3528(&unk_40066000, dword_1FFFFACC);
}
// 3528: using guessed type int __fastcall sub_3528(_DWORD, _DWORD);
// 1FFFFACC: using guessed type int dword_1FFFFACC;

//----- (00003AF4) --------------------------------------------------------
int sub_3AF4()
{
  return sub_3528(&unk_40067000, dword_1FFFFAD0);
}
// 3528: using guessed type int __fastcall sub_3528(_DWORD, _DWORD);
// 1FFFFAD0: using guessed type int dword_1FFFFAD0;

//----- (00003B0C) --------------------------------------------------------
int __fastcall sub_3B0C(int *a1)
{
  signed int i; // r3

  for ( i = 0; !i && a1 != &dword_40040000; i = 1 )
    ;
  if ( i )
    sub_4710("../drivers/fsl_lptmr.c:93 : instance < ARRAY_SIZE(s_lptmrBases)");
  return 0;
}
// 40040000: using guessed type int dword_40040000;

//----- (00003B34) --------------------------------------------------------
int __fastcall sub_3B34(int *a1, unsigned __int8 *a2)
{
  int *v2; // r5
  unsigned __int8 *v3; // r4
  int result; // r0

  v2 = a1;
  v3 = a2;
  if ( !a2 )
    sub_4710("../drivers/fsl_lptmr.c:101 : config");
  sub_3B0C(a1);
  dword_40048038 |= 1u;
  result = 16 * v3[1];
  *v2 = 2 * *v3 & 2 | 4 * v3[3] & 4 | 8 * v3[2] & 8 | result & 0x30;
  v2[1] = 8 * v3[6] & 0x78 | 4 * v3[4] & 4 | v3[5] & 3;
  return result;
}
// 40048038: using guessed type int dword_40048038;

//----- (00003B9C) --------------------------------------------------------
unsigned int __fastcall sub_3B9C(int a1)
{
  unsigned int i; // r3

  for ( i = 0; i <= 1 && *((_DWORD *)&unk_D5AC + i) != a1; ++i )
    ;
  if ( i > 1 )
    sub_4710("../drivers/fsl_lpuart.c:142 : instance < ARRAY_SIZE(s_lpuartBases)");
  return i;
}

//----- (00003BC8) --------------------------------------------------------
char *(__fastcall *__fastcall sub_3BC8(unsigned int *a1, unsigned int *a2, unsigned int a3))(unsigned __int8 *a1, int a2, int a3)
{
  unsigned int *v3; // r10
  unsigned __int8 *v4; // r11
  unsigned int v5; // r7
  unsigned int v6; // r8
  unsigned int v7; // r5
  unsigned __int16 v8; // r0
  int v9; // r4
  unsigned int v10; // r6
  unsigned int v11; // r0
  unsigned int v12; // r0
  unsigned int v13; // r3
  unsigned int v14; // r3
  signed int v15; // r2
  unsigned int v16; // r3
  unsigned int v18; // [sp+4h] [bp-2Ch]
  unsigned int v19; // [sp+8h] [bp-28h]
  __int16 v20; // [sp+Ch] [bp-24h]

  v3 = a1;
  v4 = (unsigned __int8 *)a2;
  v18 = a3;
  if ( !a2 )
    sub_4710("../drivers/fsl_lpuart.c:228 : config");
  v5 = *a2;
  if ( !*a2 )
    sub_4710("../drivers/fsl_lpuart.c:229 : config->baudRate_Bps");
  v6 = *a2;
  v7 = 4;
  v19 = 0;
  v20 = 0;
  while ( v7 <= 0x20 )
  {
    v8 = sub_6DF4(v18, v7 * v5);
    v9 = v8;
    if ( !v8 )
      v9 = v8 + 1;
    v10 = sub_6DF4(v18, v7 * v9) - v5;
    v11 = v5 - sub_6DF4(v18, (v9 + 1) * v7);
    if ( v11 < v10 )
    {
      LOWORD(v9) = v9 + 1;
      v10 = v11;
    }
    if ( v10 <= v6 )
    {
      v6 = v10;
      v19 = v7;
      v20 = v9;
    }
    ++v7;
  }
  if ( 3 * sub_6DF4(v5, 0x64u) < v6 )
    return sub_520;
  v12 = sub_3B9C((int)v3);
  *(int *)((char *)&dword_40047000 + ((unsigned int)dword_D5B4[v12] >> 16)) |= 1 << dword_D5B4[v12];
  v3[2] &= 0xFFF3FFFF;
  v13 = *v3;
  if ( v19 - 4 <= 3 )
    v13 |= 0x20000u;
  *v3 = ((((v19 - 1) << 24) & 0x1F000000 | v13 & 0xE0FFFFFF) >> 13 << 13) | v20 & 0x1FFF;
  *v3 &= 0xDFFFFFFF;
  v14 = (v4[9] << 8) & 0x700 | v4[4] | 4 * v4[8] & 4 | v3[2] & 0xFFFFF8E8;
  if ( v4[4] )
    v14 |= 0x10u;
  v3[2] = v14;
  *v3 = (v4[7] << 13) & 0x2000 | *v3 & 0xFFFFDFFF;
  if ( v4[6] )
    v15 = -534790144;
  else
    v15 = -1071661056;
  v3[1] |= v15;
  v16 = v3[2];
  if ( v4[10] )
    v16 |= 0x80000u;
  if ( v4[11] )
    v16 |= 0x40000u;
  v3[2] = v16;
  return 0;
}
// D5B4: using guessed type int dword_D5B4[2];
// 40047000: using guessed type int dword_40047000;

//----- (00003D84) --------------------------------------------------------
int __fastcall sub_3D84(int result)
{
  if ( !result )
    sub_4710("../drivers/fsl_lpuart.c:482 : config");
  *(_DWORD *)result = 115200;
  *(_BYTE *)(result + 4) = 0;
  *(_BYTE *)(result + 5) = 0;
  *(_BYTE *)(result + 6) = 0;
  *(_BYTE *)(result + 7) = 0;
  *(_BYTE *)(result + 8) = 0;
  *(_BYTE *)(result + 9) = 0;
  *(_BYTE *)(result + 10) = 0;
  *(_BYTE *)(result + 11) = 0;
  return result;
}

//----- (00003DB0) --------------------------------------------------------
void *__fastcall sub_3DB0(int a1, unsigned int a2)
{
  void *result; // r0

  *(_DWORD *)(a1 + 4) = (a2 & 0x401F0000 | ((a2 >> 31 << 31) | ((unsigned int)(2 * *(_DWORD *)(a1 + 4)) >> 1)) & 0xBFE0FFFF) & 0xFFFF3FFF | (unsigned __int16)(a2 & 0xC000);
  if ( a2 & sub_6CA4(a1) )
    result = &unk_51A;
  else
    result = 0;
  return result;
}

//----- (00003DF8) --------------------------------------------------------
int __fastcall sub_3DF8(int result, unsigned __int8 *a2, int a3)
{
  if ( !a2 )
    sub_4710("../drivers/fsl_lpuart.c:681 : data");
  while ( a3 )
  {
    while ( !(*(_DWORD *)(result + 4) & 0x800000) )
      ;
    *(_DWORD *)(result + 12) = *a2;
    --a3;
    ++a2;
  }
  return result;
}

//----- (00003E20) --------------------------------------------------------
char *__fastcall sub_3E20(int a1, _BYTE *a2, int a3)
{
  int v3; // r4
  _BYTE *v4; // r5
  int v5; // r6
  int v6; // r0

  v3 = a1;
  v4 = a2;
  if ( !a2 )
    sub_4710("../drivers/fsl_lpuart.c:696 : data");
  while ( 1 )
  {
    v5 = a3 - 1;
    if ( !a3 )
      break;
    while ( !(*(_DWORD *)(v3 + 4) & 0x200000) )
    {
      v6 = sub_6CA4(v3);
      if ( v6 & 0x80000 )
      {
        sub_3DB0(v3, 0x80000u);
        return (char *)&off_51C + 1;
      }
      if ( v6 & 0x40000 )
      {
        sub_3DB0(v3, 0x40000u);
        return (_BYTE *)(&off_51C + 2);
      }
      if ( v6 & 0x20000 )
      {
        sub_3DB0(v3, 0x20000u);
        return (_BYTE *)(&off_51C + 3);
      }
      if ( v6 & 0x10000 )
      {
        sub_3DB0(v3, 0x10000u);
        return (_BYTE *)sub_520;
      }
    }
    *v4 = *(_DWORD *)(v3 + 12);
    a3 = v5;
    ++v4;
  }
  return 0;
}
// 51C: using guessed type int *off_51C;

//----- (00003EA8) --------------------------------------------------------
int sub_3EA8()
{
  return dword_1FFFFAE4(dword_40054000, dword_1FFFFADC);
}
// 1FFFFADC: using guessed type int dword_1FFFFADC;
// 1FFFFAE4: using guessed type int (__fastcall *dword_1FFFFAE4)(_DWORD, _DWORD);

//----- (00003EC4) --------------------------------------------------------
int sub_3EC4()
{
  return dword_1FFFFAE4(&unk_40055000, dword_1FFFFAE0);
}
// 1FFFFAE0: using guessed type int dword_1FFFFAE0;
// 1FFFFAE4: using guessed type int (__fastcall *dword_1FFFFAE4)(_DWORD, _DWORD);

//----- (00003EE0) --------------------------------------------------------
signed int sub_3EE0()
{
  __int16 v1; // [sp+4h] [bp-Ch]

  v1 = 257;
  __disable_irq();
  dword_1FFFFAE8 = __get_CPSR();
  __isb(0xFu);
  return sub_30C4(&v1);
}
// 1FFFFAE8: using guessed type int dword_1FFFFAE8;

//----- (00003F0C) --------------------------------------------------------
signed int sub_3F0C()
{
  signed int result; // r0
  char v6; // [sp+4h] [bp-Ch]
  char v7; // [sp+5h] [bp-Bh]

  v6 = 0;
  v7 = 0;
  result = sub_30C4(&v6);
  _R3 = dword_1FFFFAE8;
  __asm { MSR.W           PRIMASK, R3 }
  __isb(0xFu);
  return result;
}
// 1FFFFAE8: using guessed type int dword_1FFFFAE8;

//----- (00003F30) --------------------------------------------------------
signed int __fastcall sub_3F30(int a1)
{
  char v1; // t1
  signed int result; // r0

  *(_BYTE *)(a1 + 1) = *(_BYTE *)(a1 + 1) & 0xF8 | 2;
  dword_E000ED10 |= 4u;
  v1 = *(_BYTE *)(a1 + 1);
  __dsb(0xFu);
  __wfi();
  __isb(0xFu);
  if ( *(_BYTE *)(a1 + 1) & 8 )
    result = 3900;
  else
    result = 0;
  return result;
}
// E000ED10: using guessed type int dword_E000ED10;

//----- (00003F68) --------------------------------------------------------
unsigned int __fastcall sub_3F68(int a1)
{
  unsigned int i; // r3

  for ( i = 0; i <= 2 && *((_DWORD *)&unk_D708 + i) != a1; ++i )
    ;
  if ( i > 2 )
    sub_4710("../drivers/fsl_tpm.c:88 : instance < tpmArrayCount");
  return i;
}

//----- (00003F94) --------------------------------------------------------
signed int __fastcall sub_3F94(int a1, _BYTE *a2)
{
  int *v2; // r5
  _BYTE *v3; // r4
  unsigned int v4; // r3
  signed int result; // r0

  v2 = (int *)a1;
  v3 = a2;
  if ( !a2 )
    sub_4710("../drivers/fsl_tpm.c:95 : config");
  v4 = dword_D714[sub_3F68(a1)];
  result = 1 << v4;
  *(int *)((char *)&dword_40047000 + (v4 >> 16)) |= 1 << v4;
  *v2 = *v3 & 7;
  v2[33] = 32 * (unsigned __int8)v3[4] & 0x20 | ((unsigned __int8)v3[1] << 9) & 0x200 | ((unsigned __int8)v3[6] << 18) & 0x40000 | ((unsigned __int8)v3[8] << 16) & 0x10000 | ((unsigned __int8)v3[7] << 17) & 0x20000 | ((unsigned __int8)v3[9] << 19) & 0x80000 | ((unsigned __int8)v3[3] << 23) & 0x800000 | ((unsigned __int8)v3[2] << 24) & 0xF000000;
  if ( v3[5] )
    v2[33] |= 0xC0u;
  else
    v2[33] &= 0xFFFFFF3F;
  return result;
}
// D714: using guessed type int dword_D714[3];
// 40047000: using guessed type int dword_40047000;

//----- (00004054) --------------------------------------------------------
signed int __fastcall sub_4054(_BYTE *a1, unsigned __int8 *a2, unsigned int a3, int a4, unsigned int a5, unsigned int a6)
{
  _DWORD *v6; // r5
  unsigned __int8 *v7; // r4
  unsigned int v8; // r8
  unsigned int v9; // r0
  unsigned int v11; // r7
  unsigned int i; // r6
  unsigned int v13; // r1
  int v14; // r3
  int v15; // r2
  int v16; // r2
  unsigned int v17; // r0

  v6 = a1;
  v7 = a2;
  v8 = a3;
  if ( !a2 )
    sub_4710("../drivers/fsl_tpm.c:185 : chnlParams");
  if ( !a5 )
    sub_4710("../drivers/fsl_tpm.c:186 : pwmFreq_Hz");
  if ( !a3 )
    sub_4710("../drivers/fsl_tpm.c:187 : numOfChnls");
  if ( !a6 )
    sub_4710("../drivers/fsl_tpm.c:188 : srcClock_Hz");
  v9 = a6 >> (*a1 & 7);
  if ( a4 )
  {
    if ( a4 != 1 )
      return 1;
    *v6 |= 0x20u;
    v11 = sub_6DF4(v9, 2 * a5);
  }
  else
  {
    *v6 &= 0xFFFFFFDF;
    v11 = sub_6DF4(v9, a5) - 1;
  }
  if ( v11 > 0xFFFF )
    return 1;
  v6[2] = v11;
  for ( i = 0; ; i = (unsigned __int8)(i + 1) )
  {
    if ( i >= v8 )
      return 0;
    v17 = v7[2];
    if ( v17 > 0x64 )
      break;
    if ( v7[2] )
    {
      v13 = (unsigned __int16)sub_6DF4(v17 * v11, 0x64u);
      if ( v11 <= v13 )
        v13 = (unsigned __int16)(v11 + 1);
    }
    else
    {
      v13 = 0;
    }
    v14 = (int)&v6[2 * (*v7 + 1)];
    *(_DWORD *)(v14 + 4) &= 0xFFFFFFC3;
    do
      v15 = *v7;
    while ( v6[2 * (v15 + 1) + 1] & 0x3C );
    v6[2 * (v15 + 1) + 1] |= 4 * v7[1] | 0x20;
    do
      v16 = *v7;
    while ( !(v6[2 * (v16 + 1) + 1] & 0x3C) );
    v6[2 * (v16 + 1) + 2] = v13;
    v7 += 3;
  }
  return 1;
}

//----- (00004170) --------------------------------------------------------
int __fastcall sub_4170(int a1, signed int a2, int a3, int a4)
{
  int v4; // r4
  signed int v5; // r5
  signed int v6; // r2
  unsigned int v7; // r6
  int result; // r0

  v4 = a1;
  v5 = a2;
  if ( (int *)a1 == &dword_40038000 )
  {
    v6 = 6;
  }
  else if ( (_UNKNOWN *)a1 == &unk_40039000 )
  {
    v6 = 2;
  }
  else if ( (_UNKNOWN *)a1 == &unk_4003A000 )
  {
    v6 = 2;
  }
  else
  {
    v6 = -1;
  }
  if ( a2 >= v6 )
    sub_4710("../drivers/fsl_tpm.c:387 : chnlNumber < FSL_FEATURE_TPM_CHANNEL_COUNTn(base)");
  v7 = (unsigned __int16)*(_DWORD *)(a1 + 8);
  result = (unsigned __int16)sub_6DEE(a4 * v7, 100);
  if ( v7 <= (unsigned __int16)result )
    result = (unsigned __int16)(v7 + 1);
  *(_DWORD *)(v4 + 8 * (v5 + 1) + 8) = result;
  return result;
}
// 40038000: using guessed type int dword_40038000;

//----- (000041D8) --------------------------------------------------------
unsigned int __fastcall sub_41D8(int a1)
{
  unsigned int i; // r3

  for ( i = 0; i <= 2 && dword_D7F8[i] != a1; ++i )
    ;
  if ( i > 2 )
    sub_4710("../drivers/fsl_uart.c:161 : instance < uartArrayCount");
  return i;
}
// D7F8: using guessed type int dword_D7F8[2];

//----- (00004204) --------------------------------------------------------
signed int __fastcall sub_4204(_BYTE *a1, unsigned int *a2, unsigned int a3)
{
  _BYTE *v3; // r7
  unsigned int *v4; // r9
  unsigned int v5; // r6
  unsigned int v6; // r8
  unsigned __int16 v7; // r0
  int v8; // r5
  unsigned int v9; // r6
  int v10; // r4
  unsigned int v11; // r0
  unsigned int v12; // r6
  unsigned int v13; // r0
  int v14; // r3
  char v15; // r3

  v3 = a1;
  v4 = a2;
  v5 = a3;
  if ( !a2 )
    sub_4710("../drivers/fsl_uart.c:204 : config");
  v6 = *a2;
  if ( !*a2 )
    sub_4710("../drivers/fsl_uart.c:205 : config->baudRate_Bps");
  v7 = sub_6DF4(a3, 16 * *a2);
  v8 = v7;
  if ( !v7 )
    v8 = v7 + 1;
  v9 = 2 * v5;
  v10 = (unsigned __int16)(sub_6DF4(v9, v6) - 32 * v8);
  v11 = sub_6DF4(v9, v10 + 32 * v8);
  if ( v6 >= v11 )
    v12 = v6 - v11;
  else
    v12 = v11 - v6;
  if ( 3 * sub_6DF4(v6, 0x64u) < v12 )
    return 1013;
  v13 = sub_41D8((int)v3);
  *(int *)((char *)&dword_40047000 + ((unsigned int)dword_D804[v13] >> 16)) |= 1 << dword_D804[v13];
  v3[3] &= 0xF3u;
  *v3 = *v3 & 0xE0 | BYTE1(v8);
  v3[1] = v8;
  v3[10] = v10 & 0x1F | v3[10] & 0xE0;
  v14 = 4 * *((unsigned __int8 *)v4 + 5) & 4 | (unsigned __int8)(v3[2] & 0xE8);
  if ( *((_BYTE *)v4 + 4) )
    LOBYTE(v14) = v14 | *((_BYTE *)v4 + 4) | 0x10;
  v3[2] = v14;
  v15 = v3[3];
  if ( *((_BYTE *)v4 + 6) )
    v15 |= 8u;
  if ( *((_BYTE *)v4 + 7) )
    v15 |= 4u;
  v3[3] = v15;
  return 0;
}
// D804: using guessed type int dword_D804[2];
// 40047000: using guessed type int dword_40047000;

//----- (00004324) --------------------------------------------------------
int __fastcall sub_4324(int result)
{
  if ( !result )
    sub_4710("../drivers/fsl_uart.c:363 : config");
  *(_DWORD *)result = 115200;
  *(_BYTE *)(result + 4) = 0;
  *(_BYTE *)(result + 5) = 0;
  *(_BYTE *)(result + 6) = 0;
  *(_BYTE *)(result + 7) = 0;
  return result;
}

//----- (00004348) --------------------------------------------------------
signed int __fastcall sub_4348(int a1, _BYTE *a2, int a3)
{
  int v3; // r4
  _BYTE *v4; // r5
  int v5; // r6
  char v6; // r0

  v3 = a1;
  v4 = a2;
  if ( !a2 )
    sub_4710("../drivers/fsl_uart.c:591 : data");
LABEL_2:
  v5 = a3 - 1;
  if ( !a3 )
    return 0;
  while ( 1 )
  {
    if ( *(_BYTE *)(v3 + 4) & 0x20 )
    {
      *v4 = *(_BYTE *)(v3 + 7);
      a3 = v5;
      ++v4;
      goto LABEL_2;
    }
    v6 = sub_6CA8(v3);
    if ( v6 & 8 )
      return 1009;
    if ( v6 & 4 )
      return 1010;
    if ( v6 & 2 )
      return 1011;
    if ( v6 & 1 )
      return 1012;
  }
}

//----- (000043A8) --------------------------------------------------------
signed int sub_43A8()
{
  signed int result; // r0

  unk_40048044 = 268632064;
  sub_2FFC((unsigned int *)&unk_D818);
  dword_1FFFFA2C = 0x8000;
  sub_2F50(dword_D810);
  result = sub_2E18((unsigned __int8 *)&dword_D820);
  dword_1FFFF170 = 8000000;
  unk_40048004 = unk_40048004 & 0xF3FFFFFF | 0xC000000;
  unk_40048004 = unk_40048004 & 0xFCFFFFFF | 0x3000000;
  unk_40048004 = unk_40048004 & 0xFFFFFF1F | 0xC0;
  return result;
}
// D810: using guessed type int dword_D810[2];
// D820: using guessed type int dword_D820;
// 1FFFF170: using guessed type int dword_1FFFF170;
// 1FFFFA2C: using guessed type int dword_1FFFFA2C;

//----- (00004430) --------------------------------------------------------
signed int sub_4430()
{
  signed int v0; // r0

  v0 = sub_2EDC(2);
  return sub_4204(&unk_4006C000, (unsigned int *)&dword_D858, v0);
}
// D858: using guessed type int dword_D858;

//----- (0000444C) --------------------------------------------------------
signed int sub_444C()
{
  signed int result; // r0

  sub_3BC8(dword_40054000, (unsigned int *)&unk_D83C, 0x7A1200u);
  sub_6C88(dword_40054000, 0x200000);
  result = 255;
  dword_E000E40C &= 0xFFFFFF00;
  dword_E000E100 = 4096;
  return result;
}
// 268: using guessed type int dword_268[106];
// E000E100: using guessed type int dword_E000E100;
// E000E40C: using guessed type int dword_E000E40C;

//----- (0000448C) --------------------------------------------------------
unsigned int sub_448C()
{
  signed int v0; // r0

  v0 = sub_2EDC(0);
  return sub_3640((int)&unk_40066000, (int)&unk_D828, v0);
}

//----- (000044A8) --------------------------------------------------------
void sub_44A8()
{
  dword_E000E100 = 2147483648;
}
// E000E100: using guessed type int dword_E000E100;

//----- (000044B8) --------------------------------------------------------
signed int sub_44B8()
{
  sub_3F94((int)&dword_40038000, dword_D848);
  return sub_4054(&dword_40038000, (unsigned __int8 *)&byte_D854, 1u, 0, 0xA28u, 0x7A1200u);
}
// D848: using guessed type int dword_D848[2];
// D854: using guessed type char byte_D854;
// 40038000: using guessed type int dword_40038000;

//----- (000044F4) --------------------------------------------------------
int sub_44F4()
{
  int result; // r0

  result = sub_3B34(&dword_40040000, (unsigned __int8 *)&off_D834);
  dword_40040000 = dword_40040000 & 0xFFFFFF7F | 0x40;
  dword_E000E100 = 0x10000000;
  return result;
}
// D834: using guessed type void *off_D834;
// 40040000: using guessed type int dword_40040000;
// E000E100: using guessed type int dword_E000E100;

//----- (00004524) --------------------------------------------------------
signed int sub_4524()
{
  signed int result; // r0
  char v1; // [sp+0h] [bp-30h]
  char v2; // [sp+1h] [bp-2Fh]
  char v3; // [sp+4h] [bp-2Ch]
  char v4; // [sp+5h] [bp-2Bh]
  char v5; // [sp+8h] [bp-28h]
  char v6; // [sp+9h] [bp-27h]
  char v7; // [sp+Ch] [bp-24h]
  char v8; // [sp+Dh] [bp-23h]
  char v9; // [sp+10h] [bp-20h]
  char v10; // [sp+11h] [bp-1Fh]
  char v11; // [sp+14h] [bp-1Ch]
  char v12; // [sp+15h] [bp-1Bh]

  dword_40048038 |= 0x200u;
  dword_40048038 |= 0x400u;
  dword_40048038 |= 0x800u;
  dword_40048038 |= 0x1000u;
  dword_40048038 |= 0x2000u;
  v11 = 1;
  v12 = 0;
  sub_348C(&unk_400FF080, 1, &v11);
  v9 = 1;
  v10 = 0;
  sub_348C(&unk_400FF080, 2, &v9);
  v7 = 1;
  v8 = 0;
  sub_348C(&unk_400FF080, 4, &v7);
  v5 = 1;
  v6 = 0;
  sub_348C(&unk_400FF080, 5, &v5);
  v3 = 0;
  v4 = 0;
  sub_348C(&unk_400FF080, 6, &v3);
  v1 = 0;
  v2 = 0;
  sub_348C(&unk_400FF080, 7, &v1);
  dword_40049000 = dword_40049000 & 0xFFFFF8FF | 0x700;
  dword_40049004 = dword_40049004 & 0xFFFFF8FF | 0x200;
  dword_40049048 &= 0xFFFFF8FF;
  dword_4004904C &= 0xFFFFF8FF;
  dword_40049008 = dword_40049008 & 0xFFFFF8FF | 0x200;
  dword_40049050 = dword_40049050 & 0xFFFFF8FF | 0x700;
  dword_4004900C = dword_4004900C & 0xFFFFF8FF | 0x700;
  dword_40049010 &= 0xFFFFF8FF;
  dword_4004A000 = dword_4004A000 & 0xFFFFF8FF | 0x200;
  dword_4004A004 = dword_4004A004 & 0xFFFFF8FF | 0x200;
  dword_4004B004 = dword_4004B004 & 0xFFFFF8FF | 0x100;
  dword_4004B008 = dword_4004B008 & 0xFFFFF8FF | 0x100;
  dword_4004B00C = dword_4004B00C & 0xFFFFF8FF | 0x500;
  dword_4004B010 = dword_4004B010 & 0xFFFFF8FF | 0x100;
  dword_4004B014 = dword_4004B014 & 0xFFFFF8FF | 0x100;
  dword_4004B018 = dword_4004B018 & 0xFFFFF8FF | 0x100;
  dword_4004B018 = dword_4004B018 & 0xFEFFFFFC | 1;
  dword_4004B01C = dword_4004B01C & 0xFFFFF8FF | 0x100;
  dword_4004B01C = dword_4004B01C & 0xFFF0FFFF | 0x90000;
  dword_4004B01C = dword_4004B01C & 0xFEFFFFFC | 2;
  dword_4004C010 = dword_4004C010 & 0xFFFFF8FF | 0x400;
  dword_4004C01C &= 0xFFFFF8FF;
  dword_4004D000 &= 0xFFFFF8FF;
  dword_4004D000 = dword_4004D000 & 0xFEFFFFFE | 1;
  dword_4004D058 = dword_4004D058 & 0xFFFFF8FF | 0x400;
  dword_4004D05C = dword_4004D05C & 0xFFFFF8FF | 0x400;
  result = 7;
  unk_40048010 &= 0xFFFFFFF8;
  return result;
}
// 40048038: using guessed type int dword_40048038;
// 40049000: using guessed type int dword_40049000;
// 40049004: using guessed type int dword_40049004;
// 40049008: using guessed type int dword_40049008;
// 4004900C: using guessed type int dword_4004900C;
// 40049010: using guessed type int dword_40049010;
// 40049048: using guessed type int dword_40049048;
// 4004904C: using guessed type int dword_4004904C;
// 40049050: using guessed type int dword_40049050;
// 4004A000: using guessed type int dword_4004A000;
// 4004A004: using guessed type int dword_4004A004;
// 4004B004: using guessed type int dword_4004B004;
// 4004B008: using guessed type int dword_4004B008;
// 4004B00C: using guessed type int dword_4004B00C;
// 4004B010: using guessed type int dword_4004B010;
// 4004B014: using guessed type int dword_4004B014;
// 4004B018: using guessed type int dword_4004B018;
// 4004B01C: using guessed type int dword_4004B01C;
// 4004C010: using guessed type int dword_4004C010;
// 4004C01C: using guessed type int dword_4004C01C;
// 4004D000: using guessed type int dword_4004D000;
// 4004D058: using guessed type int dword_4004D058;
// 4004D05C: using guessed type int dword_4004D05C;

//----- (000046E4) --------------------------------------------------------
int sub_46E4()
{
  if ( byte_4007D002 & 8 )
    byte_4007D002 |= 8u;
  dword_40048100 = 0;
  return nullsub_1();
}
// 6D02: using guessed type int nullsub_1(void);
// 40048100: using guessed type int dword_40048100;
// 4007D002: using guessed type char byte_4007D002;

//----- (00004710) --------------------------------------------------------
void __fastcall __noreturn sub_4710(_BYTE *a1)
{
  _BYTE *v1; // r5
  signed int v2; // r0
  _BYTE *v3; // r3

  v1 = a1;
  sub_6D4E("*** assert failed : ", &dword_1FFFFB64);
  v2 = sub_6D4E(v1, &dword_1FFFFB64);
  if ( --dword_1FFFFB6C < 0 )
  {
    v2 = sub_479C(0xAu, &dword_1FFFFB64);
  }
  else
  {
    v3 = (_BYTE *)dword_1FFFFB64++;
    *v3 = 10;
  }
  sub_6D10(v2);
}
// 38: using guessed type int dword_38[40];
// 6D10: using guessed type int __fastcall sub_6D10(_DWORD);
// 1FFFFB64: using guessed type int dword_1FFFFB64;
// 1FFFFB6C: using guessed type int dword_1FFFFB6C;

//----- (0000475C) --------------------------------------------------------
int *__fastcall sub_475C(int *result)
{
  int *v1; // r4
  int v2; // r3

  v1 = result;
  result[3] &= 0xFFFFFFDF;
  if ( result[6] != result[10] )
  {
    result = (int *)sub_48E8(result);
    v1[3] = v1[3] & 0xFFFFCFEF | 0x10;
    v1[6] = v1[10];
    v2 = v1[4];
    v1[11] = v2;
    *v1 = v2;
  }
  v1[3] &= 0xFFFFBFBF;
  return result;
}

//----- (0000479C) --------------------------------------------------------
signed int __fastcall sub_479C(unsigned __int8 a1, int *a2)
{
  int v2; // r2
  unsigned __int8 v3; // r5
  int *v4; // r4
  int v5; // r2
  int v6; // r6
  unsigned __int8 *v7; // r3
  __int16 v9; // r3
  int v10; // r0
  unsigned __int8 *v11; // r2
  unsigned __int8 *v12; // r6
  unsigned int v13; // r1
  int v14; // r1
  int v15; // r3
  int v16; // r0
  int v17; // r2
  int v18; // r1
  int v19; // r2
  int v20; // r1

  v2 = a2[3];
  v3 = a1;
  v4 = a2;
  a2[3] = v2 & 0xFFF7FFFF;
  if ( v2 & 0x20 )
    sub_475C(a2);
  v5 = v4[2];
  v6 = v4[3];
  if ( (v5 + 1 < 0) ^ __OFADD__(v5, 1) && !(v6 & 0x200) )
  {
    v4[2] = -2 - v5;
    v7 = (unsigned __int8 *)*v4;
    v4[3] = v6 | 0x12000;
    *v4 = (int)(v7 + 1);
    *v7 = v3;
    return v3;
  }
  if ( (v4[3] & 0x108A) == 2 )
  {
    if ( ((unsigned int)"" & v6) == 0x8000 )
    {
      sub_4A98(v4, 0, 2);
      if ( v4[3] & 0x20 )
        sub_475C(v4);
      v6 = v4[3];
    }
    v9 = v6 | 0x2000;
    v4[3] = v6 | 0x12000;
    if ( !(v6 & 0xF00) )
    {
      v10 = v4[5];
      if ( sub_6FFA() && v6 & 0x400 )
      {
        v4[4] = (int)(v4 + 9);
        *v4 = (int)(v4 + 9);
        v4[7] = 1;
        v9 = v6 | 0x2400;
        v4[3] = v6 | 0x12400;
      }
      else
      {
        v16 = sub_4A78(256);
        v9 = v6 | 0x2800;
        v17 = v4[3] | v6 | 0x12800;
        v4[4] = v16;
        *v4 = v16;
        v4[7] = 256;
        v4[3] = v17;
      }
    }
    v11 = (unsigned __int8 *)*v4;
    v12 = (unsigned __int8 *)v4[4];
    if ( v9 & 0x900 )
    {
      v13 = v4[11];
      if ( (unsigned int)v11 > v13 )
        v13 = *v4;
      v14 = v13 - (_DWORD)v12;
      if ( !v14 || !sub_4944(v4[4], v14, v4) )
      {
        v4[11] = (int)(v12 + 1);
        *v4 = (int)(v12 + 1);
        v15 = v4[7];
        v4[2] = v15 - 1;
        v4[12] = v15;
        *v12 = v3;
        return v3;
      }
    }
    else
    {
      *v4 = (int)(v11 + 1);
      *v11 = v3;
      v18 = *v4;
      if ( v4[11] > (unsigned int)*v4 )
        v18 = v4[11];
      v19 = v4[7];
      v20 = v18 - (_DWORD)v12;
      v4[12] = v19;
      if ( !(v9 & 0x400) && v3 != 10 && v19 > v20 )
        return v3;
      v4[11] = (int)v12;
      *v4 = (int)v12;
      v4[2] = 0;
      if ( !sub_4944((int)v12, v20, v4) )
        return v3;
    }
  }
  else
  {
    v4[2] = 0;
    v4[3] = v6 | 0x80;
  }
  return -1;
}

//----- (000048E8) --------------------------------------------------------
int __fastcall sub_48E8(int *a1)
{
  int *v1; // r4
  int v2; // r5
  unsigned int v3; // r1
  unsigned int v4; // r2
  int v5; // r0
  int result; // r0
  int v7; // r2

  v1 = a1;
  v2 = a1[4];
  v3 = *a1;
  v4 = a1[11];
  v5 = a1[3];
  v1[3] = v5 & 0xFFF7FFFF;
  if ( (v5 & 0x82) != 2 )
    return -1;
  result = v5 & 0x10000;
  if ( result )
  {
    if ( v3 < v4 )
      v3 = v4;
    if ( v2 != v3 && sub_4944(v2, v3 - v2, v1) )
      return -1;
    result = 0;
    v7 = v1[3];
    v1[11] = v2;
    *v1 = v2;
    v1[2] = 0;
    v1[3] = v7 & 0xFFFEFFFF;
  }
  return result;
}

//----- (00004944) --------------------------------------------------------
int __fastcall sub_4944(int a1, int a2, _DWORD *a3)
{
  int v3; // r5
  int v4; // r6
  _DWORD *v5; // r4
  int v6; // r7
  int v7; // r1
  int result; // r0
  int v9; // [sp+4h] [bp-1Ch]

  v3 = a3[3];
  v9 = a1;
  v4 = a2;
  v5 = a3;
  v6 = a3[5];
  if ( v3 & 0x100000 )
  {
    v3 |= 0x10u;
    a3[6] = sub_6FF4();
  }
  if ( v3 & 0x20010 )
  {
    v7 = v5[6];
    if ( sub_7010() < 0 )
    {
LABEL_5:
      result = -1;
      v5[3] |= 0x80u;
      return result;
    }
    v5[3] = v3 & 0xFFFDFFEF;
  }
  result = sub_701C(v6, v9, v4);
  v5[6] += v4 - ((unsigned int)(2 * result) >> 1);
  if ( result )
    goto LABEL_5;
  return result;
}

//----- (000049AC) --------------------------------------------------------
int __fastcall sub_49AC(int a1)
{
  _DWORD *v1; // r7
  _DWORD *v2; // r4
  signed int v3; // r5
  _DWORD *v4; // r0
  int result; // r0
  _DWORD *v6; // r7
  int v7; // r3
  _DWORD *v8; // r2

  v1 = 0;
  v2 = (_DWORD *)dword_1FFFFCD0;
  v3 = (unsigned int)(a1 + 3) >> 2;
  if ( !a1 )
    return 0;
  while ( 1 )
  {
    if ( !v2 )
    {
      v4 = (_DWORD *)sub_5B80(a1 + 12);
      if ( v4 == (_DWORD *)-1 )
        return 0;
      *v4 = 0x20000000;
      v4[1] = v3;
      v4[2] = 0;
      if ( v1 )
        v1[2] = v4;
      else
        dword_1FFFFCD0 = (int)v4;
      return (int)(v4 + 3);
    }
    if ( *v2 != 0x10000000 )
      goto LABEL_22;
    while ( 1 )
    {
      v6 = (_DWORD *)v2[2];
      v7 = v2[1];
      if ( !v6 || *v6 != 0x10000000 )
        break;
      v2[1] = v7 + 3 + v6[1];
      v2[2] = v6[2];
    }
    if ( v7 >= v3 && v3 + 3 >= v7 )
    {
      *v2 = 0x20000000;
      goto LABEL_15;
    }
    if ( v7 > (unsigned int)(v3 + 10) )
      break;
    if ( !v6 )
    {
      if ( sub_5B80(a1 - 4 * v7) != -1 )
      {
        *v2 = 0x20000000;
        v2[1] = v3;
LABEL_15:
        v4 = v2;
        return (int)(v4 + 3);
      }
      return 0;
    }
LABEL_22:
    v1 = v2;
    v2 = (_DWORD *)v2[2];
  }
  *v2 = 0x20000000;
  result = (int)(v2 + 3);
  v8 = &v2[v3 + 3];
  v2[1] = v3;
  v2[2] = v8;
  *v8 = 0x10000000;
  v8[1] = v7 - v3 - 3;
  v8[2] = v6;
  return result;
}
// 1FFFFCD0: using guessed type int dword_1FFFFCD0;

//----- (00004A78) --------------------------------------------------------
int __fastcall sub_4A78(int a1)
{
  int result; // r0
  int v2; // r0

  result = sub_49AC(a1);
  if ( !result )
  {
    v2 = sub_701C(0, 55417, 23);
    sub_6D10(v2);
  }
  return result;
}
// 6D10: using guessed type int __fastcall sub_6D10(_DWORD);

//----- (00004A98) --------------------------------------------------------
signed int __fastcall sub_4A98(int *a1, int a2, int a3)
{
  int v3; // r5
  int *v4; // r4
  int v5; // r6
  signed int v6; // r7
  int v7; // ST04_4
  int v8; // r0
  int v9; // r3
  int v10; // r1
  unsigned int v11; // r5
  signed int v12; // r0
  int v13; // r2
  int v15; // r3
  int v16; // r3
  int v17; // r6
  int v18; // [sp+0h] [bp-20h]
  int v19; // [sp+0h] [bp-20h]

  v3 = a1[3];
  v4 = a1;
  v5 = a2;
  v18 = a3;
  if ( !(v3 & 0x100003) )
    return 2;
  v7 = a1[5];
  v6 = sub_6FFA();
  if ( v6 )
    return 2;
  if ( v18 == 1 )
  {
    v5 += sub_4B88(v4);
  }
  else if ( v18 == 2 )
  {
    v12 = sub_6FF4();
    v13 = v4[3];
    if ( v12 < 0 )
    {
      v6 = 1;
      v4[3] = v13 | 0x80;
      return v6;
    }
    v15 = *v4;
    if ( v4[11] > (unsigned int)*v4 )
      v15 = v4[11];
    v16 = v15 + v4[6] - v4[4];
    if ( v13 & 0x20 && v16 < v4[10] )
      v16 = v4[10];
    if ( v16 < v12 )
      v16 = v12;
    v5 += v16;
  }
  else if ( v18 )
  {
    return 2;
  }
  if ( v5 < 0 )
    return 2;
  if ( v3 & 0x2000 && v4[11] < (unsigned int)*v4 )
    v4[11] = *v4;
  v8 = v4[6];
  if ( v8 > v5 )
    goto LABEL_37;
  v9 = *v4;
  if ( *v4 < (unsigned int)v4[11] )
    v9 = v4[11];
  v19 = v4[4];
  if ( v9 + v8 - v19 >= v5 && (v10 = v4[12], v8 + v10 > v5) )
  {
    v17 = v5 - v8;
    if ( v3 & 2 )
      v4[2] = v17 - v10;
    if ( v3 & 1 )
      v4[1] = v17 - (v9 - v19);
    *v4 = v19 + v17;
    v11 = v3 & 0xFFFFFFDF;
  }
  else
  {
LABEL_37:
    v11 = v3 | 0x20;
    v4[10] = v5;
    v4[2] = 0;
    v4[1] = 0;
  }
  v4[3] = v11 & 0xFFF7CFBF;
  return v6;
}

//----- (00004B88) --------------------------------------------------------
int __fastcall sub_4B88(_DWORD *a1)
{
  int v1; // r2
  int result; // r0
  int v3; // r0

  v1 = a1[3];
  if ( v1 << 30 )
  {
    if ( v1 & 0x80000 )
    {
      if ( v1 & 0x20 )
        v3 = a1[10];
      else
        v3 = *a1 + a1[6] - a1[4];
      result = v3 - 1;
    }
    else if ( v1 & 0x20 )
    {
      result = a1[10];
    }
    else
    {
      result = *a1 + a1[6] - a1[4];
    }
  }
  else
  {
    result = -1;
    dword_1FFFFCD4 = 33;
  }
  return result;
}
// 1FFFFCD4: using guessed type int dword_1FFFFCD4;

//----- (00004BD0) --------------------------------------------------------
unsigned __int64 __fastcall sub_4BD0(unsigned int a1)
{
  unsigned __int64 v1; // ST00_8

  v1 = __PAIR__(8, a1);
  sub_5BC0(0, "r", dword_1FFFFAEC);
  sub_58DC(dword_1FFFFAEC, 0, 1024, 256);
  sub_5BC0(1, "w", (int *)&unk_1FFFFB28);
  sub_58DC((int *)&unk_1FFFFB28, 0, 1024, 256);
  sub_5BC0(2, "w", &dword_1FFFFB64);
  sub_58DC(&dword_1FFFFB64, 0, 1024, 256);
  return v1;
}
// 1FFFFB64: using guessed type int dword_1FFFFB64;

//----- (00004C4C) --------------------------------------------------------
int __fastcall sub_4C4C(int a1, int a2)
{
  char v2; // r3
  int result; // r0

  v2 = *(_BYTE *)(a1 + 55573);
  if ( *(_BYTE *)(a1 + 55573) & 0x20 )
  {
    result = a1 - 48;
  }
  else if ( *(_BYTE *)(a1 + 55573) & 8 )
  {
    result = a1 - 87;
  }
  else
  {
    result = a1 - 55;
    if ( !(v2 & 0x10) )
      result = -1;
  }
  if ( result >= a2 )
    result = -1;
  return result;
}

//----- (00004C7C) --------------------------------------------------------
int __fastcall sub_4C7C(unsigned __int8 *a1, int *a2, int a3)
{
  unsigned __int8 *v3; // r3
  int v4; // r5
  int v5; // r0
  int v6; // r2
  unsigned int v7; // r7
  unsigned int v8; // r6
  unsigned int v9; // r4
  int v10; // r0
  int result; // r0
  unsigned __int8 *v12; // [sp+0h] [bp-28h]
  int v13; // [sp+4h] [bp-24h]
  signed int v14; // [sp+8h] [bp-20h]
  int *v15; // [sp+Ch] [bp-1Ch]

  v3 = a1;
  v4 = a3;
  v13 = (int)a1;
  v15 = a2;
  while ( 1 )
  {
    v5 = *v3;
    v6 = (int)(v3 + 1);
    if ( !*v3 )
      break;
    if ( !(byte_D915[*v3] & 1) )
    {
      if ( v5 == 48 )
      {
        v5 = v3[1];
        v6 = (int)(v3 + 2);
        if ( (v5 & 0xFFFFFFDF) == 88 )
        {
          v7 = v4 & 0xFFFFFFEF;
          if ( v4 & 0xFFFFFFEF )
          {
            v7 = 1;
          }
          else
          {
            v4 = 16;
            v5 = v3[2];
            v6 = (int)(v3 + 3);
          }
        }
        else
        {
          v7 = 1;
          if ( !v4 )
            v4 = 8;
        }
        goto LABEL_8;
      }
      break;
    }
    ++v3;
  }
  v7 = 0;
  if ( !v4 )
  {
    v7 = 0;
    v4 = 10;
  }
LABEL_8:
  v8 = 0;
  v9 = 0;
  v12 = (unsigned __int8 *)v6;
  v14 = 0;
  while ( 1 )
  {
    v10 = sub_4C4C(v5, v4);
    if ( v10 < 0 )
      break;
    v8 = v10 + v8 * v4;
    v9 = (v8 >> 16) + v9 * v4;
    v8 = (unsigned __int16)v8;
    if ( v9 > 0xFFFF )
      v14 = 1;
    v7 = 1;
    v5 = *v12++;
  }
  if ( v7 )
    v13 = (int)(v12 - 1);
  *v15 = v13;
  if ( !v14 )
    return (v9 << 16) | v8;
  result = -1;
  dword_1FFFFCD4 = 34;
  return result;
}
// 1FFFFCD4: using guessed type int dword_1FFFFCD4;

//----- (00004D48) --------------------------------------------------------
signed int __fastcall sub_4D48(_DWORD *a1, _WORD ***a2, __int16 a3, int a4, int a5)
{
  _DWORD *v5; // r4
  __int16 v6; // r6
  signed int i; // r7
  int v8; // r3
  unsigned __int8 *v9; // r3
  int v10; // r5
  int v11; // r3
  unsigned __int8 *v12; // r3
  __int16 v13; // r7
  int v14; // r3
  unsigned __int8 *v15; // r3
  int v16; // r3
  unsigned __int8 *v17; // r3
  signed int v18; // r3
  int v19; // r6
  int v20; // r3
  unsigned __int8 *v21; // r3
  int v22; // r0
  _WORD **v23; // r2
  _WORD *v24; // r2
  int v26; // [sp+0h] [bp-30h]
  int v27; // [sp+4h] [bp-2Ch]
  int v28; // [sp+8h] [bp-28h]
  int v29; // [sp+Ch] [bp-24h]
  int v30; // [sp+10h] [bp-20h]
  _WORD ***v31; // [sp+14h] [bp-1Ch]

  v5 = a1;
  v6 = a3;
  v31 = a2;
  v26 = a4;
  for ( i = -1; ; ++i )
  {
    v29 = i + 1;
    v8 = v5[1] - 1;
    v5[1] = v8;
    if ( v8 < 0 )
    {
      v10 = sub_59F8((int)v5);
    }
    else
    {
      v9 = (unsigned __int8 *)(*v5)++;
      v10 = *v9;
    }
    if ( !(*(_BYTE *)(v10 + 55573) & 1) )
      break;
  }
  v30 = v10;
  if ( v10 == -1 )
    return v30;
  if ( a5 <= 0 )
    goto LABEL_32;
  if ( !(v6 & 0x20) )
    goto LABEL_15;
  if ( v10 != 43 )
  {
    if ( v10 != 45 )
      goto LABEL_15;
    v6 |= 0x200u;
  }
  v28 = i + 2;
  v11 = v5[1] - 1;
  v5[1] = v11;
  if ( v11 < 0 )
  {
    v10 = sub_59F8((int)v5);
  }
  else
  {
    v12 = (unsigned __int8 *)(*v5)++;
    v10 = *v12;
  }
  v27 = a5 - 1;
  if ( a5 == 1 )
    goto LABEL_33;
  v29 = i + 2;
  --a5;
LABEL_15:
  if ( v10 != 48 )
  {
LABEL_32:
    v28 = v29;
    v27 = a5;
LABEL_33:
    v13 = v6;
    if ( v26 )
      goto LABEL_31;
    v18 = 10;
    goto LABEL_24;
  }
  v27 = a5 - 1;
  v13 = v6 | 0x100;
  v28 = v29 + 1;
  v14 = v5[1] - 1;
  v5[1] = v14;
  if ( v14 < 0 )
  {
    v10 = sub_59F8((int)v5);
  }
  else
  {
    v15 = (unsigned __int8 *)(*v5)++;
    v10 = *v15;
  }
  if ( a5 == 1 || (v10 & 0xFFFFFFDF) != 88 )
  {
    if ( v26 )
      goto LABEL_31;
    v18 = 8;
    goto LABEL_24;
  }
  if ( !(v26 & 0xFFFFFFEF) )
  {
    v27 = a5 - 2;
    v28 = v29 + 2;
    v16 = v5[1] - 1;
    v5[1] = v16;
    if ( v16 < 0 )
    {
      v10 = sub_59F8((int)v5);
    }
    else
    {
      v17 = (unsigned __int8 *)(*v5)++;
      v10 = *v17;
    }
    v13 = v6;
    v18 = 16;
LABEL_24:
    v26 = v18;
  }
LABEL_31:
  v19 = 0;
  v30 = v28;
  while ( v27 + v28 - v30 > 0 )
  {
    v22 = sub_4C4C(v10, v26);
    if ( v22 < 0 )
      break;
    v13 |= 0x100u;
    v19 = v22 + v19 * v26;
    ++v30;
    v20 = v5[1] - 1;
    v5[1] = v20;
    if ( v20 < 0 )
    {
      v10 = sub_59F8((int)v5);
    }
    else
    {
      v21 = (unsigned __int8 *)(*v5)++;
      v10 = *v21;
    }
  }
  sub_59C0(v10, (int)v5);
  if ( !(v13 & 0x100) )
    return -2;
  if ( !(v13 & 1) )
  {
    v23 = *v31;
    if ( v13 & 0x20 && v13 & 0x200 )
      v19 = -v19;
    ++*v31;
    v24 = *v23;
    if ( v13 & 4 )
      *v24 = v19;
    else
      *(_DWORD *)v24 = v19;
  }
  return v30;
}

//----- (00004F0C) --------------------------------------------------------
signed int __fastcall sub_4F0C(_DWORD *a1, unsigned __int8 *a2, int a3)
{
  _DWORD *v3; // r5
  int v4; // r6
  int v5; // r3
  unsigned __int8 *v6; // r1
  char v7; // r3
  int v8; // r3
  unsigned __int8 *v9; // r3
  int v10; // r0
  unsigned __int8 *v11; // r3
  int v12; // r4
  int v13; // r3
  int v14; // r4
  unsigned __int8 *v15; // r2
  signed int v16; // r3
  int v17; // r2
  signed int v19; // r1
  int v20; // r2
  int v21; // r3
  int v22; // r0
  int v23; // r2
  _BYTE *v24; // r7
  _BYTE **v25; // r3
  int v26; // r3
  unsigned __int8 *v27; // r3
  int v28; // r3
  unsigned __int8 *v29; // r3
  _BYTE *v30; // r6
  _BYTE **v31; // r3
  int v32; // r4
  int v33; // r3
  unsigned __int8 *v34; // r3
  _BYTE *v35; // r7
  _DWORD *v36; // r3
  int v37; // r4
  int v38; // r3
  _BYTE *v39; // r3
  signed int v40; // r0
  int v41; // r3
  signed int i; // r7
  int v43; // r3
  unsigned __int8 *v44; // r3
  int v45; // r3
  unsigned __int8 *v46; // r3
  int v47; // r6
  int v48; // r4
  int v49; // r0
  int v50; // r6
  unsigned int v51; // r1
  __int64 v52; // r0
  unsigned int v53; // r1
  signed int v54; // r7
  unsigned int v55; // r0
  unsigned int v56; // r1
  __int64 v57; // r0
  unsigned int v58; // r1
  int v59; // ST40_4
  int v60; // r1
  int v61; // ST44_4
  unsigned int v62; // r1
  unsigned int v63; // ST30_4
  unsigned int v64; // r1
  unsigned int v65; // ST34_4
  unsigned int v66; // r0
  unsigned int v67; // r1
  int v68; // ST30_4
  unsigned int v69; // r1
  unsigned int v70; // ST34_4
  unsigned int v71; // r0
  unsigned int v72; // r1
  int v73; // r0
  unsigned int v74; // r1
  unsigned int v75; // r1
  int v76; // r0
  unsigned int v77; // r1
  int v78; // r0
  int v79; // r1
  unsigned int v80; // ST20_4
  unsigned int v81; // r1
  unsigned int v82; // ST24_4
  unsigned int v83; // r0
  unsigned int v84; // r1
  int v85; // r0
  unsigned int v86; // r1
  unsigned int v87; // r1
  int v88; // r0
  int v89; // r7
  int v90; // r3
  unsigned __int8 *v91; // r3
  signed int v92; // r0
  __int64 v93; // r0
  unsigned int v94; // r0
  unsigned int v95; // r1
  int v96; // r1
  int v97; // r1
  int v98; // r3
  unsigned __int8 *v99; // r3
  int v100; // r7
  int v101; // r6
  int v102; // r3
  unsigned __int8 *v103; // r3
  int v104; // r3
  unsigned __int8 *v105; // r3
  int v106; // r0
  unsigned int v107; // r1
  __int64 v108; // r0
  __int64 v109; // r0
  int v110; // r4
  __int64 v111; // r6
  signed int v112; // r4
  unsigned int v113; // r6
  signed int **v114; // r3
  signed int *v115; // r1
  int v116; // r1
  unsigned int v117; // r1
  int v118; // r3
  signed int v119; // r0
  signed int **v120; // r3
  BOOL v121; // r0
  int *v122; // r3
  _WORD **v123; // r3
  _WORD *v124; // r3
  signed int v125; // r0
  int v126; // r0
  int v127; // r3
  unsigned __int8 *v128; // r3
  signed int v129; // r6
  unsigned __int8 *v130; // r1
  int v131; // r0
  int v132; // r3
  unsigned __int8 *v133; // r3
  int v134; // [sp+0h] [bp-90h]
  int v135; // [sp+8h] [bp-88h]
  signed int v136; // [sp+Ch] [bp-84h]
  unsigned __int8 *v137; // [sp+10h] [bp-80h]
  int v138; // [sp+14h] [bp-7Ch]
  unsigned int v139; // [sp+14h] [bp-7Ch]
  int v140; // [sp+18h] [bp-78h]
  signed int v141; // [sp+1Ch] [bp-74h]
  signed int v142; // [sp+20h] [bp-70h]
  unsigned int v143; // [sp+20h] [bp-70h]
  unsigned int v144; // [sp+24h] [bp-6Ch]
  signed __int64 v145; // [sp+28h] [bp-68h]
  signed int v146; // [sp+28h] [bp-68h]
  int v147; // [sp+28h] [bp-68h]
  unsigned int v148; // [sp+2Ch] [bp-64h]
  __int64 v149; // [sp+30h] [bp-60h]
  int v150; // [sp+30h] [bp-60h]
  unsigned int v151; // [sp+34h] [bp-5Ch]
  unsigned int v152; // [sp+38h] [bp-58h]
  unsigned int v153; // [sp+3Ch] [bp-54h]
  int v154; // [sp+48h] [bp-48h]
  _BYTE **v155; // [sp+4Ch] [bp-44h]
  int v156; // [sp+54h] [bp-3Ch]
  int v157; // [sp+58h] [bp-38h]
  int v158; // [sp+5Ch] [bp-34h]
  int v159; // [sp+60h] [bp-30h]
  int v160; // [sp+64h] [bp-2Ch]
  int v161; // [sp+68h] [bp-28h]
  int v162; // [sp+6Ch] [bp-24h]
  int v163; // [sp+70h] [bp-20h]
  int v164; // [sp+74h] [bp-1Ch]
  _DWORD v165[1]; // [sp+78h] [bp-18h]

  v3 = a1;
  v155 = (_BYTE **)a3;
  v140 = 0;
  v141 = 0;
  while ( 1 )
  {
    v4 = *a2;
    v137 = a2 + 1;
    if ( !*a2 )
      return v141;
    if ( v4 == 37 )
      break;
    v5 = v3[1] - 1;
    if ( !(byte_D915[*a2] & 1) )
    {
      v3[1] = v5;
      if ( v5 < 0 )
      {
        v12 = sub_59F8((int)v3);
      }
      else
      {
        v11 = (unsigned __int8 *)(*v3)++;
        v12 = *v11;
      }
      if ( v12 != v4 )
        goto LABEL_100;
      goto LABEL_17;
    }
    v6 = a2 + 1;
    do
    {
      v137 = v6;
      v7 = byte_D915[*v6++];
    }
    while ( v7 & 1 );
    while ( 1 )
    {
      v8 = v3[1] - 1;
      v3[1] = v8;
      if ( v8 < 0 )
      {
        v10 = sub_59F8((int)v3);
      }
      else
      {
        v9 = (unsigned __int8 *)(*v3)++;
        v10 = *v9;
      }
      if ( !(*(_BYTE *)(v10 + 55573) & 1) )
        break;
      ++v140;
    }
    sub_59C0(v10, (int)v3);
LABEL_11:
    a2 = v137;
  }
  v136 = 0;
  if ( a2[1] == 42 )
  {
    v137 = a2 + 2;
    v136 = 1;
  }
  v14 = 0;
  v15 = v137;
  while ( 1 )
  {
    ++v137;
    v16 = *v15;
    if ( !(byte_D915[v16] & 0x20) )
      break;
    if ( v14 > 214748364 )
      return v141;
    v14 = 10 * v14 + v16 - 48;
    if ( v14 < 0 )
      return v141;
    v15 = v137;
    v136 |= 8u;
  }
  if ( !(v136 & 8) )
    v14 = 0x7FFFFFFF;
  switch ( v16 )
  {
    case 108:
      v16 = *v137;
      v136 |= 2u;
      v17 = (int)(v15 + 2);
LABEL_28:
      v137 = (unsigned __int8 *)v17;
      break;
    case 76:
      v19 = 18;
      v16 = *v137;
LABEL_42:
      v17 = (int)(v15 + 2);
      v136 |= v19;
      goto LABEL_28;
    case 104:
      v19 = 4;
      v16 = *v137;
      goto LABEL_42;
  }
  if ( v16 > 103 )
  {
    if ( v16 == 112 )
    {
      v125 = sub_4D48(v3, (_WORD ***)&v155, v136 & 0xFFF9, 16, v14);
      goto LABEL_119;
    }
    if ( v16 > 112 )
    {
      if ( v16 == 117 )
      {
        v125 = sub_4D48(v3, (_WORD ***)&v155, v136, 10, v14);
        goto LABEL_119;
      }
      if ( v16 != 120 )
      {
        if ( v16 != 115 )
          return v141;
        v135 = -1;
        do
        {
          ++v135;
          v28 = v3[1] - 1;
          v3[1] = v28;
          if ( v28 >= 0 )
          {
            v29 = (unsigned __int8 *)(*v3)++;
            v126 = *v29;
          }
          else
          {
            v126 = sub_59F8((int)v3);
          }
          v30 = (_BYTE *)(*(_BYTE *)(v126 + 55573) & 1);
        }
        while ( *(_BYTE *)(v126 + 55573) & 1 );
        if ( v126 == -1 )
          goto LABEL_101;
        if ( !(v136 & 1) )
        {
          v31 = v155;
          ++v155;
          v30 = *v31;
        }
        v32 = v135 + v14;
        while ( v32 != v135 && v126 != -1 && !(*(_BYTE *)(v126 + 55573) & 1) )
        {
          if ( !(v136 & 1) )
            *v30++ = v126;
          ++v135;
          v127 = v3[1] - 1;
          v3[1] = v127;
          if ( v127 < 0 )
          {
            v126 = sub_59F8((int)v3);
          }
          else
          {
            v128 = (unsigned __int8 *)(*v3)++;
            v126 = *v128;
          }
        }
        sub_59C0(v126, (int)v3);
        if ( !(v136 & 1) )
          *v30 = 0;
        goto LABEL_96;
      }
LABEL_216:
      v134 = v14;
      v41 = 16;
    }
    else
    {
      if ( v16 == 110 )
      {
        v123 = (_WORD **)v155;
        ++v155;
        v124 = *v123;
        if ( v136 & 4 )
          *v124 = v140;
        else
          *(_DWORD *)v124 = v140;
        goto LABEL_11;
      }
      if ( v16 <= 110 )
      {
        if ( v16 != 105 )
          return v141;
        v134 = v14;
        v41 = 0;
      }
      else
      {
        v134 = v14;
        v41 = 8;
      }
    }
LABEL_118:
    v125 = sub_4D48(v3, (_WORD ***)&v155, v136 | 0x20, v41, v134);
LABEL_119:
    v135 = v125;
LABEL_189:
    if ( v135 < 0 )
    {
      if ( v135 != -1 )
        return v141;
      goto LABEL_101;
    }
LABEL_96:
    v141 += (v136 & 1u) <= 0;
    v13 = v140 + v135;
    goto LABEL_18;
  }
  if ( v16 >= 101 )
    goto LABEL_120;
  if ( v16 == 88 )
    goto LABEL_216;
  if ( v16 <= 88 )
  {
    if ( v16 != 69 && v16 != 71 )
    {
      if ( v16 != 37 )
        return v141;
      v33 = v3[1] - 1;
      v3[1] = v33;
      if ( v33 < 0 )
      {
        v12 = sub_59F8((int)v3);
      }
      else
      {
        v34 = (unsigned __int8 *)(*v3)++;
        v12 = *v34;
      }
      if ( v12 != 37 )
      {
LABEL_100:
        sub_59C0(v12, (int)v3);
        if ( v12 != -1 )
          return v141;
LABEL_101:
        if ( !v141 )
          v141 = -1;
        return v141;
      }
LABEL_17:
      v13 = v140 + 1;
LABEL_18:
      v140 = v13;
      goto LABEL_11;
    }
LABEL_120:
    for ( i = -1; ; ++i )
    {
      v135 = i + 1;
      v43 = v3[1] - 1;
      v3[1] = v43;
      if ( v43 >= 0 )
      {
        v44 = (unsigned __int8 *)(*v3)++;
        v88 = *v44;
      }
      else
      {
        v88 = sub_59F8((int)v3);
      }
      if ( !(*(_BYTE *)(v88 + 55573) & 1) )
        break;
    }
    if ( v88 == -1 )
      goto LABEL_101;
    v138 = v136;
    if ( v14 )
    {
      if ( v88 == 43 )
      {
        v138 = v136;
        goto LABEL_133;
      }
      if ( v88 == 45 )
      {
        v138 = v136 | 0x200;
LABEL_133:
        v135 = i + 2;
        v45 = v3[1] - 1;
        v3[1] = v45;
        if ( v45 >= 0 )
        {
          v46 = (unsigned __int8 *)(*v3)++;
          v88 = *v46;
        }
        else
        {
          v88 = sub_59F8((int)v3);
        }
        --v14;
      }
      else
      {
        v138 = v136;
      }
    }
    v47 = v14;
    v145 = 4591870180066957722LL;
    v149 = 0LL;
    v48 = 0;
    v142 = 0;
    while ( v47 )
    {
      if ( v88 != 46 || v138 & 0x40 )
      {
        if ( !(*(_BYTE *)(v88 + 55573) & 0x20) )
        {
          if ( (v88 & 0xFFFFFFDF) != 69 || !(v138 & 0x100) )
            break;
          LOWORD(v138) = v138 & 0xFE7F;
          v98 = v3[1] - 1;
          v3[1] = v98;
          if ( v98 < 0 )
          {
            v88 = sub_59F8((int)v3);
          }
          else
          {
            v99 = (unsigned __int8 *)(*v3)++;
            v88 = *v99;
          }
          if ( v88 != 43 )
          {
            if ( v88 != 45 )
            {
              v147 = v47 - 1;
              v100 = v135 + 1;
LABEL_163:
              v101 = 0;
              v135 = v100;
              while ( v100 + v147 - v135 > 0 && *(_BYTE *)(v88 + 55573) & 0x20 )
              {
                LOWORD(v138) = v138 | 0x100;
                ++v135;
                v101 = v88 - 48 + 10 * v101;
                v104 = v3[1] - 1;
                v3[1] = v104;
                if ( v104 < 0 )
                {
                  v88 = sub_59F8((int)v3);
                }
                else
                {
                  v105 = (unsigned __int8 *)(*v3)++;
                  v88 = *v105;
                }
              }
              if ( v138 & 0x80 )
                v48 -= v101;
              else
                v48 += v101;
              break;
            }
            LOWORD(v138) = v138 | 0x80;
          }
          v102 = v3[1] - 1;
          v100 = v135 + 2;
          v3[1] = v102;
          if ( v102 < 0 )
          {
            v88 = sub_59F8((int)v3);
          }
          else
          {
            v103 = (unsigned __int8 *)(*v3)++;
            v88 = *v103;
          }
          v147 = v47 - 2;
          goto LABEL_163;
        }
        v89 = v138 | 0x100;
        v139 = v138 & 0x40;
        v92 = v88 - 48;
        if ( v142 > 99999 )
        {
          v93 = sub_6F52(v92);
          v94 = sub_5E04(v93, SHIDWORD(v93), v145, SHIDWORD(v145));
          LODWORD(v149) = sub_628C(v149, HIDWORD(v149), v94, v95);
          HIDWORD(v149) = v96;
          LODWORD(v145) = sub_5F88(v145, 0x4024000000000000uLL);
          HIDWORD(v145) = v97;
          v48 += v139 <= 0;
        }
        else
        {
          v142 = 10 * v142 + v92;
          v48 -= (__PAIR__(v139, v139) - __PAIR__(v139 - 1, 1)) >> 32;
        }
      }
      else
      {
        v89 = v138 | 0x40;
      }
      ++v135;
      v90 = v3[1] - 1;
      v3[1] = v90;
      if ( v90 < 0 )
      {
        v88 = sub_59F8((int)v3);
      }
      else
      {
        v91 = (unsigned __int8 *)(*v3)++;
        v88 = *v91;
      }
      --v47;
      v138 = v89;
    }
    sub_59C0(v88, (int)v3);
    v49 = sub_6DEE(10 * v48, 3);
    v50 = v48 - v49;
    v154 = v49;
    v152 = sub_5CB4(v149, v48 - v49);
    v153 = v51;
    v52 = sub_6F52(v142);
    v146 = sub_5CB4(v52, v50);
    v148 = v53;
    if ( v48 >= 0 )
    {
      if ( v48 )
      {
        v143 = 0;
        v144 = 0;
        v54 = 1075052544;
        goto LABEL_141;
      }
      v150 = 0;
      v151 = 0;
    }
    else
    {
      v54 = 1070176665;
      v55 = sub_5E04(0, 1070176665, 0, 1075052544);
      LODWORD(v57) = sub_60D0(0, 0x3FF00000u, v55, v56);
      v143 = sub_5F88(v57, 0x4014000000000000uLL);
      v144 = v58;
      v48 = -v48;
LABEL_141:
      v150 = 0;
      v151 = 0;
      while ( 1 )
      {
        if ( v48 & 1 )
        {
          v59 = sub_628C(0, v54, v143, v144);
          v61 = v60;
          v152 = sub_5E04(v152, v153, v59, v60);
          v153 = v62;
          v63 = sub_5E04(v59, v61, v150, v151);
          v65 = v64;
          v66 = sub_5E04(v143, v144, v146, v148);
          v68 = sub_628C(v66, v67, v63, v65);
          v70 = v69;
          v71 = sub_5E04(0, v54, v146, v148);
          v146 = 0;
          v148 = v72;
          v73 = sub_60D0(v71, v72, 0, v72);
          v150 = sub_628C(v73, v74, v68, v70);
          v151 = v75;
          if ( v48 == 1 )
            break;
        }
        v76 = sub_628C(0, v54, 0, v54);
        v78 = sub_628C(v76, v77, v143, v144);
        v80 = sub_5E04(v143, v144, v78, v79);
        v82 = v81;
        v83 = sub_5E04(0, v54, 0, v54);
        v54 = v84;
        v85 = sub_60D0(v83, v84, 0, v84);
        v48 >>= 1;
        v143 = sub_628C(v85, v86, v80, v82);
        v144 = v87;
      }
    }
    v106 = sub_628C(v152, v153, v150, v151);
    LODWORD(v108) = sub_628C(v106, v107, v146, v148);
    LODWORD(v109) = sub_5C34(v108, &v156);
    v156 += v154;
    v110 = v156;
    v111 = v109;
    if ( v156 <= 1024 )
    {
      if ( v156 >= -1021 || sub_6414(v109, 0, 0) )
      {
        if ( v138 & 0x200 )
        {
          v112 = sub_5CB4(v111, v110);
          v113 = v116 + 2147483648;
        }
        else
        {
          v112 = sub_5CB4(v111, v110);
          v113 = v117;
        }
      }
      else
      {
        v112 = 0;
        dword_1FFFFCD4 = 34;
        v113 = 0;
      }
    }
    else
    {
      v112 = -1;
      v113 = 2146435071;
      if ( v138 & 0x200 )
        v113 = -1048577;
      dword_1FFFFCD4 = 34;
    }
    if ( !(v138 & 0x100) )
      return v141;
    if ( v138 & 2 )
    {
      if ( !(v138 & 1) )
      {
        v114 = (signed int **)v155;
        ++v155;
        v115 = *v114;
        *v115 = v112;
        v115[1] = v113;
      }
      goto LABEL_189;
    }
    sub_5C34(__PAIR__(v113, v112), &v157);
    v118 = v157 + 126;
    v157 = v118;
    if ( v118 > 0 )
    {
      if ( v118 > 254 )
      {
        v121 = sub_6444(v112, v113, 0, 0);
        v122 = &dword_1FFFF178;
        if ( !v121 )
          v122 = &dword_1FFFF174;
        v119 = *v122;
        dword_1FFFFCD4 = 34;
        goto LABEL_201;
      }
    }
    else if ( !sub_6414(__PAIR__(v113, v112), 0, 0) )
    {
      v119 = 0;
      dword_1FFFFCD4 = 34;
      goto LABEL_201;
    }
    v119 = sub_63B4(v112, v113);
LABEL_201:
    if ( !(v138 & 1) )
    {
      v120 = (signed int **)v155;
      ++v155;
      **v120 = v119;
    }
    goto LABEL_189;
  }
  if ( v16 == 99 )
  {
    if ( !(v136 & 8) )
      v14 = 1;
    v35 = 0;
    if ( !(v136 & 1) )
    {
      v36 = v155;
      ++v155;
      v35 = (_BYTE *)*v36;
    }
    if ( !v14 )
      return v141;
    v37 = v140 + v14;
    do
    {
      ++v140;
      v38 = v3[1] - 1;
      v3[1] = v38;
      if ( v38 < 0 )
      {
        v40 = sub_59F8((int)v3);
        if ( v40 == -1 )
          goto LABEL_101;
      }
      else
      {
        v39 = (_BYTE *)(*v3)++;
        LOBYTE(v40) = *v39;
      }
      if ( !(v136 & 1) )
        *v35++ = v40;
    }
    while ( v37 != v140 );
    v141 += (v136 & 1u) <= 0;
    goto LABEL_11;
  }
  if ( v16 > 99 )
  {
    v41 = 10;
    v134 = v14;
    goto LABEL_118;
  }
  if ( v16 == 91 )
  {
    v20 = *v137;
    if ( v20 == 94 )
    {
      v129 = 1;
      v130 = v137 + 2;
      v20 = v137[1];
    }
    else
    {
      v129 = 0;
      v130 = v137 + 1;
    }
    v157 = 0;
    v158 = 0;
    v159 = 0;
    v160 = 0;
    v161 = 0;
    v162 = 0;
    v163 = 0;
    v164 = 0;
    while ( v20 )
    {
      *(&v157 + (v20 >> 5)) |= 1 << (v20 & 0x1F);
      v20 = *v130;
      v137 = v130 + 1;
      if ( v20 == 93 )
      {
        if ( v129 )
        {
          v21 = 0;
          do
          {
            v22 = 4 * v21;
            v23 = *(&v157 + v21++);
            *(int *)((char *)&v157 + v22) = ~v23;
          }
          while ( v21 != 8 );
        }
        v24 = 0;
        if ( !(v136 & 1) )
        {
          v25 = v155;
          ++v155;
          v24 = *v25;
        }
        v26 = v3[1] - 1;
        v3[1] = v26;
        if ( v26 >= 0 )
        {
          v27 = (unsigned __int8 *)(*v3)++;
          v131 = *v27;
        }
        else
        {
          v131 = sub_59F8((int)v3);
          if ( v131 == -1 )
            goto LABEL_101;
        }
        v135 = 0;
        while ( v14 != v135 && v131 != -1 && (v165[v131 / 32 - 8] >> v131 % 32) & 1 )
        {
          if ( !(v136 & 1) )
            *v24++ = v131;
          ++v135;
          v132 = v3[1] - 1;
          v3[1] = v132;
          if ( v132 < 0 )
          {
            v131 = sub_59F8((int)v3);
          }
          else
          {
            v133 = (unsigned __int8 *)(*v3)++;
            v131 = *v133;
          }
        }
        sub_59C0(v131, (int)v3);
        if ( !(v136 & 1) )
          *v24 = 0;
        goto LABEL_189;
      }
      ++v130;
    }
  }
  return v141;
}
// 1FFFF174: using guessed type int dword_1FFFF174;
// 1FFFF178: using guessed type int dword_1FFFF178;
// 1FFFFCD4: using guessed type int dword_1FFFFCD4;

//----- (00005850) --------------------------------------------------------
int __fastcall sub_5850(unsigned __int8 *a1, int *a2, int a3)
{
  int *v3; // r7
  int v4; // r6
  unsigned __int8 *v5; // r1
  int v6; // r3
  unsigned __int8 *v7; // r4
  int v8; // r5
  int result; // r0
  int v10; // [sp+4h] [bp-24h]
  unsigned __int8 *v11; // [sp+Ch] [bp-1Ch]

  v3 = a2;
  v4 = (int)a1;
  v5 = a1;
  v10 = dword_1FFFFCD4;
  while ( 1 )
  {
    v6 = *v5;
    v7 = v5 + 1;
    if ( !*v5 )
    {
      v7 = v5;
      v8 = *v5;
      goto LABEL_7;
    }
    if ( !(byte_D915[*v5] & 1) )
      break;
    ++v5;
  }
  v8 = 0;
  if ( v6 != 43 )
  {
    v8 = 512;
    if ( v6 != 45 )
    {
      v7 = v5;
      v8 = byte_D915[*v5] & 1;
    }
  }
LABEL_7:
  dword_1FFFFCD4 = 0;
  result = sub_4C7C(v7, (int *)&v11, a3);
  if ( v3 )
  {
    if ( v11 != v7 )
      v4 = (int)v11;
    *v3 = v4;
  }
  if ( dword_1FFFFCD4 != 34 )
  {
    dword_1FFFFCD4 = v10;
    if ( v8 )
    {
      if ( result < 0 )
      {
        result = 1;
        dword_1FFFFCD4 = 34;
      }
      result = -result;
    }
  }
  return result;
}
// 1FFFFCD4: using guessed type int dword_1FFFFCD4;

//----- (000058DC) --------------------------------------------------------
signed int __fastcall sub_58DC(int *a1, int a2, int a3, signed int a4)
{
  int v4; // r5
  signed int v5; // r4

  v4 = a1[3];
  v5 = 1;
  if ( v4 << 30 )
  {
    switch ( a3 )
    {
      case 512:
        goto LABEL_11;
      case 1024:
        a4 = 1;
        a2 = (int)(a1 + 9);
        goto LABEL_8;
      case 256:
LABEL_11:
        v5 = 1;
        if ( (unsigned int)(a4 - 1) > 0xFFFFFE )
          return v5;
LABEL_8:
        a1[4] = a2;
        *a1 = a2;
        a1[7] = a4;
        a1[3] = v4 | a3;
        return 0;
    }
  }
  return v5;
}

//----- (00005924) --------------------------------------------------------
unsigned int __fastcall sub_5924(unsigned int result, unsigned int a2)
{
  int v2; // r3
  int v3; // r2
  _DWORD *v4; // r3
  int v5; // r2

  if ( (result | a2) << 30 )
  {
    v2 = 0;
    do
    {
      v3 = *(unsigned __int8 *)(a2 + v2);
      *(_BYTE *)(result + v2++) = v3;
    }
    while ( v3 );
  }
  else
  {
    v4 = (_DWORD *)result;
    while ( 1 )
    {
      v5 = *(_DWORD *)a2;
      if ( (*(_DWORD *)a2 - 16843009) & ~*(_DWORD *)a2 & 0x80808080 )
        break;
      *v4 = v5;
      ++v4;
      a2 += 4;
    }
    while ( 1 )
    {
      *(_BYTE *)v4 = v5;
      v4 = (_DWORD *)((char *)v4 + 1);
      if ( !(_BYTE)v5 )
        break;
      v5 >>= 8;
    }
  }
  return result;
}

//----- (00005968) --------------------------------------------------------
int __fastcall sub_5968(_BYTE *a1)
{
  int v1; // r2
  int v2; // r3
  int v3; // r1

  v1 = (int)(a1 + 1);
  while ( (unsigned __int8)a1 & 3 )
  {
    if ( !*a1 )
      return (int)&a1[-v1 + 1];
    ++a1;
  }
  while ( 1 )
  {
    v2 = *(_DWORD *)a1;
    if ( (*(_DWORD *)a1 - 16843009) & ~*(_DWORD *)a1 & 0x80808080 )
      break;
    a1 += 4;
  }
  v3 = (int)(a1 + 1);
  if ( (_BYTE)v2 )
  {
    v3 = (int)(a1 + 2);
    if ( v2 & 0xFF00 )
      v3 = (int)&a1[((v2 & 0xFF0000u) >= 1) + 3];
  }
  return v3 - v1;
}

//----- (000059C0) --------------------------------------------------------
void __fastcall sub_59C0(int a1, int a2)
{
  int v2; // r2
  int v3; // r2
  int v4; // r2
  int v5; // [sp-1Ch] [bp-24h]

  if ( a1 != -1 )
  {
    v2 = *(_DWORD *)(a2 + 12);
    if ( !(v2 & 0x82000) )
    {
      *(_BYTE *)(a2 + 37) = a1;
      *(_DWORD *)(a2 + 12) = v2 & 0xFFF7EFBF | 0x81000;
      v3 = *(_DWORD *)(a2 + 8);
      *(_DWORD *)(a2 + 8) = 0;
      *(_DWORD *)(a2 + 56) = v3;
      v4 = *(_DWORD *)(a2 + 4);
      *(_DWORD *)(a2 + 4) = 0;
      *(_DWORD *)(a2 + 52) = v4;
    }
  }
  JUMPOUT(__CS__, v5);
}

//----- (000059F8) --------------------------------------------------------
signed int __fastcall sub_59F8(int a1)
{
  int v1; // r3
  int *v2; // r4
  signed int v4; // r3
  signed int v5; // r2
  int v6; // r0
  int v7; // r3
  int v8; // r1
  int v9; // r3
  unsigned __int8 *v10; // r3
  int v11; // r7
  int v12; // r2
  int v13; // r5
  _BYTE *v14; // r6
  unsigned int v15; // r3
  unsigned int v16; // r1
  signed int v17; // r0
  int v18; // r5
  int v19; // r3
  int v20; // r1
  int v21; // r3
  signed int v22; // r0

  v1 = *(_DWORD *)(a1 + 12);
  v2 = (int *)a1;
  if ( v1 & 0x80000 )
  {
    *(_DWORD *)(a1 + 4) = *(_DWORD *)(a1 + 52);
    *(_DWORD *)(a1 + 8) = *(_DWORD *)(a1 + 56);
    *(_DWORD *)(a1 + 12) = v1 & 0xFFF7FFFF;
    return *(unsigned __int8 *)(a1 + 37);
  }
  if ( v1 & 0x20 )
    sub_475C((int *)a1);
  v4 = v2[3];
  if ( (((unsigned int)&dword_60C8 + 1) & v4) != 1 )
  {
    v2[1] = 0;
    if ( v4 & 0x4040 )
    {
      v4 &= 0xFFFFAFBF;
      v5 = 64;
    }
    else
    {
      v5 = 128;
    }
    goto LABEL_9;
  }
  if ( !(v4 & 0x10F00) )
  {
    v6 = sub_4A78(256);
    v7 = v2[3] | 0x800;
    v2[4] = v6;
    *v2 = v6;
    v2[7] = 256;
    v2[3] = v7;
  }
  v8 = v2[1];
  v9 = v2[3];
  if ( (v8 + 1 < 0) ^ __OFADD__(v8, 1) )
  {
    v2[1] = -2 - v8;
    v2[3] = v9 | 0x1000;
    v10 = (unsigned __int8 *)(*v2)++;
    return *v10;
  }
  v11 = v2[5];
  if ( v9 & 0x10 )
  {
    if ( v9 & 0x10000 )
    {
      sub_48E8(v2);
    }
    else
    {
      v20 = v2[6];
      if ( sub_7010() < 0 )
      {
        v4 = 128;
        v5 = v2[3];
        goto LABEL_9;
      }
    }
  }
  v12 = v2[3];
  v2[3] = v12 | 0x1000;
  v13 = v2[7];
  v14 = (_BYTE *)v2[4];
  v15 = *v2;
  if ( !(v12 & 0x10000) )
  {
    v2[6] += v15 - (_DWORD)v14;
    goto LABEL_26;
  }
  v16 = v2[11];
  if ( v15 > v16 )
    v16 = *v2;
  v13 -= v16 - (_DWORD)v14;
  if ( v13 )
  {
    if ( v12 & 0x20010 )
      goto LABEL_25;
    v21 = v2[6];
    v22 = sub_7010();
    v5 = v2[3];
    v4 = 128;
    if ( v22 >= 0 )
    {
      v2[3] = v5 | 0x20000;
      goto LABEL_25;
    }
LABEL_9:
    v2[3] = v4 | v5;
    return -1;
  }
  sub_48E8(v2);
  v13 = v2[7];
LABEL_25:
  v14 = (_BYTE *)(v2[4] + v2[7] - v13);
LABEL_26:
  v2[3] &= 0xFFFFFFEF;
  v17 = sub_6DB8(v11, v14, v13);
  if ( v17 < 0 )
  {
    v2[3] |= 0x4000u;
    v17 = (unsigned int)(2 * v17) >> 1;
  }
  v18 = v13 - v17;
  v2[11] = (int)&v14[v18];
  v2[12] = v2[7];
  v19 = v2[3];
  if ( !v18 )
  {
    v2[1] = 0;
    v2[3] = v19 & 0xFFFFEFFF | 0x40;
    *v2 = (int)v14;
    return -1;
  }
  *v2 = (int)(v14 + 1);
  v2[1] = v18 - 1;
  v2[3] = v19 | 0x20000;
  return (unsigned __int8)*v14;
}
// 60C8: using guessed type int dword_60C8;

//----- (00005B80) --------------------------------------------------------
signed int __fastcall sub_5B80(int a1)
{
  signed int v1; // r6
  unsigned int v2; // r4

  if ( !dword_1FFFFCCC )
    dword_1FFFFCCC = (int)&unk_1FFFFCE8;
  v1 = dword_1FFFFCCC;
  v2 = dword_1FFFFCCC + ((a1 + 3) & 0xFFFFFFFC);
  if ( sub_5DAC(dword_1FFFFCCC + ((a1 + 3) & 0xFFFFFFFC)) )
  {
    v1 = -1;
    dword_1FFFFCD4 = 12;
  }
  else
  {
    dword_1FFFFCCC = v2;
  }
  return v1;
}
// 1FFFFCCC: using guessed type int dword_1FFFFCCC;
// 1FFFFCD4: using guessed type int dword_1FFFFCD4;

//----- (00005BC0) --------------------------------------------------------
int *__fastcall sub_5BC0(int a1, unsigned __int8 *a2, int *a3)
{
  unsigned __int8 *v3; // r5
  int *v4; // r4
  int v5; // r3
  signed int v6; // r3
  signed int v7; // r2
  unsigned __int8 *i; // r1
  int v9; // r0
  int v11; // [sp+4h] [bp-1Ch]

  v3 = a2;
  v11 = a1;
  v4 = a3;
  sub_5D0C(a3);
  v5 = *v3;
  switch ( v5 )
  {
    case 114:
      v6 = 0;
      v7 = 1;
      break;
    case 119:
      v6 = 4;
      v7 = 2;
      break;
    case 97:
      v6 = 8;
      v7 = 32770;
      break;
    default:
      return 0;
  }
  for ( i = v3 + 1; ; ++i )
  {
    v9 = *i;
    if ( v9 == 43 )
    {
      v7 |= 3u;
      v6 |= 2u;
      continue;
    }
    if ( v9 != 98 )
      break;
    v7 |= 4u;
    v6 |= 1u;
  }
  v4[3] = v7;
  v4[5] = v11;
  if ( v6 & 8 )
    sub_4A98(v4, 0, 2);
  return v4;
}

//----- (00005C34) --------------------------------------------------------
int __fastcall sub_5C34(__int64 a1, int *a2)
{
  __int64 v2; // r4
  int result; // r0
  unsigned int v4; // r3
  int v5; // r7
  signed __int64 v6; // r2
  int v7; // r6
  int *v8; // [sp+0h] [bp-20h]

  v8 = a2;
  v2 = a1;
  if ( sub_6414(a1, 0, 0) )
  {
    result = 0;
    *v8 = 0;
  }
  else
  {
    v4 = (unsigned int)(2 * HIDWORD(v2)) >> 21;
    result = v2;
    v5 = v4 - 1022;
    if ( !v4 )
    {
      v6 = v2 & 0xFFFFFFFFFFFFFLL;
      while ( 1 )
      {
        v7 = HIDWORD(v6) & 0x80000;
        HIDWORD(v6) = (v6 >> 31) & 0xFFFFF;
        LODWORD(v6) = 2 * v6;
        if ( v7 )
          break;
        --v5;
      }
      result = v6;
    }
    *v8 = v5;
  }
  return result;
}

//----- (00005CB4) --------------------------------------------------------
signed int __fastcall sub_5CB4(__int64 a1, int a2)
{
  int v2; // r6
  __int64 v3; // r4
  signed int result; // r0
  signed int v5; // r2

  v2 = a2;
  v3 = a1;
  if ( sub_6414(a1, 0, 0) )
    return 0;
  v5 = ((unsigned int)(2 * HIDWORD(v3)) >> 21) + v2;
  result = v3;
  if ( v5 <= 2046 )
  {
    if ( v5 <= 0 )
      return 0;
  }
  else
  {
    dword_1FFFFCD4 = 34;
    result = -1;
  }
  return result;
}
// 1FFFFCD4: using guessed type int dword_1FFFFCD4;

//----- (00005D0C) --------------------------------------------------------
signed int __fastcall sub_5D0C(int *a1)
{
  unsigned int v1; // r4
  unsigned int *v2; // r5
  int v3; // r7
  _DWORD *v4; // r6
  unsigned int v5; // r1
  int v7; // [sp+0h] [bp-38h]

  v1 = a1[3];
  v2 = (unsigned int *)a1;
  if ( !(v1 << 30) )
    return -1;
  if ( !(v1 & 8) )
  {
    v3 = a1[5];
    v4 = (_DWORD *)a1[4];
    sub_5D68(a1);
    sub_6FEE();
    if ( v1 & 0x800 )
      sub_6D22(v4);
    if ( v1 >> 22 << 22 == -1384120320 )
    {
      v5 = v2[8];
      sub_7016();
      sub_6DDC(&v7);
    }
  }
  sub_6D1A(v2, 0, 0x3Cu);
  return 0;
}

//----- (00005D68) --------------------------------------------------------
int __fastcall sub_5D68(int *a1)
{
  signed int v1; // r5
  signed int v3; // r4

  if ( a1 )
    return sub_5DC0(a1);
  v3 = 0;
  v1 = 0;
  while ( v3 < 8 )
  {
    if ( sub_5DC0(&dword_1FFFFAEC[15 * v3]) )
      v1 = -1;
    ++v3;
  }
  return v1;
}

//----- (00005DAC) --------------------------------------------------------
void *__fastcall sub_5DAC(unsigned int a1)
{
  unsigned int v1; // r2
  void *result; // r0

  v1 = a1;
  result = &unk_200000E8;
  if ( &unk_200000E8 )
    result = (void *)(v1 >= (unsigned int)&unk_200000E8);
  return result;
}

//----- (00005DC0) --------------------------------------------------------
int __fastcall sub_5DC0(int *a1)
{
  int v1; // r3
  int *v2; // r4
  int v3; // r6
  int v4; // r5

  v1 = a1[3];
  v2 = a1;
  v3 = a1[3] & 3;
  if ( v1 & 3 )
  {
    if ( v1 & 0x20 )
    {
      v4 = a1[10];
      sub_475C(a1);
    }
    else
    {
      v4 = *a1 + a1[6] - a1[4];
    }
    v2[3] &= 0xFFFFCFFF;
    v3 = sub_48E8(v2);
    sub_4A98(v2, v4, 0);
  }
  return v3;
}

//----- (00005E04) --------------------------------------------------------
unsigned int __fastcall sub_5E04(unsigned int a1, int a2, unsigned int a3, int a4)
{
  unsigned int v4; // r4
  unsigned int v5; // r6
  unsigned int v6; // r0
  unsigned int v7; // r2
  unsigned int v8; // r7
  int v9; // r5
  unsigned __int64 v10; // ST10_8
  unsigned __int64 v11; // r0
  unsigned __int64 v12; // ST20_8
  __int64 v13; // ST10_8
  unsigned __int64 v14; // r0
  unsigned int v15; // r4
  unsigned __int64 v16; // r0
  unsigned __int64 v17; // r6
  unsigned int v18; // r0
  unsigned int v19; // r1
  unsigned int v20; // r6
  unsigned int v21; // r3
  unsigned int result; // r0
  unsigned int v23; // r1
  unsigned int v24; // r3
  int v25; // [sp+18h] [bp-28h]

  v4 = a3;
  v5 = a1;
  v6 = (unsigned int)(2 * a2) >> 21;
  if ( v6 )
  {
    if ( v6 != 2047 )
    {
      v7 = (unsigned int)(2 * a4) >> 21;
      if ( v7 )
      {
        if ( v7 != 2047 )
        {
          v8 = (a4 << 11) | (v4 >> 21) | 0x80000000;
          v9 = a2 & 0xFFFFF | 0x100000;
          v25 = v6 + v7;
          v10 = sub_6F6A(v9, 0, v8, 0);
          v11 = sub_6F6A(v9, 0, v4 << 11, 0);
          v12 = v10 + HIDWORD(v11);
          v13 = (unsigned int)v11;
          v14 = sub_6F6A(v4 << 11, 0, v5, 0);
          v15 = v14;
          v16 = sub_6F6A(v8, 0, v5, 0) + HIDWORD(v14) + v13;
          v17 = HIDWORD(v16) + v12;
          v18 = v16 | (v15 >> 2);
          v19 = v25 - 1023;
          if ( HIDWORD(v17) <= 0xFFFFF )
          {
            v19 = v25 - 1024;
            LODWORD(v17) = (v18 >> 31) | 2 * v17;
            v18 *= 2;
          }
          v20 = v17 + (v18 >> 31);
          v21 = v20;
          if ( v18 == 2147483648 )
            v21 = v20 & 0xFFFFFFFE;
          if ( v19 <= 0x7FD )
            return v21;
          return 0;
        }
      }
    }
  }
  v23 = 2 * a2;
  if ( v23 > 0xFFDFFFFF )
  {
    if ( v23 != -2097152 )
      return 0;
  }
  else if ( (unsigned int)(2 * a4) <= 0xFFDFFFFF )
  {
    return 0;
  }
  v24 = 2 * a4;
  if ( v24 > 0xFFE00000 )
    return 0;
  result = 0;
  if ( v23 >> 21 )
    !(v24 >> 21);
  return result;
}

//----- (00005F88) --------------------------------------------------------
unsigned int __fastcall sub_5F88(__int64 a1, unsigned __int64 a2)
{
  unsigned int v2; // r5
  unsigned int v3; // r4
  int v4; // r7
  unsigned int v5; // r0
  unsigned __int64 v6; // r4
  __int64 v7; // r2
  signed int v8; // r1
  unsigned int v9; // r7
  signed int v10; // r2
  unsigned __int64 v11; // r0
  unsigned int v12; // r3
  int v13; // off
  int v14; // r6
  unsigned int result; // r0
  unsigned int v16; // r0
  unsigned int v17; // r2

  v2 = (unsigned int)(2 * HIDWORD(a1)) >> 21;
  if ( v2 && v2 != 2047 && (v3 = (unsigned int)(2 * HIDWORD(a2)) >> 21) != 0 && v3 != 2047 )
  {
    v4 = v2 - v3;
    LODWORD(v6) = (_DWORD)a1 << 11;
    v5 = (unsigned __int64)(a1 >> 21) | 0x80000000;
    HIDWORD(v6) = v5;
    HIDWORD(a2) = (unsigned __int64)((signed __int64)a2 >> 21) | 0x80000000;
    LODWORD(a2) = (_DWORD)a2 << 11;
    if ( a2 <= __PAIR__(v5, (unsigned int)v6) )
    {
      HIDWORD(v6) = v5 >> 1;
      LODWORD(v6) = (v5 << 31) | ((unsigned int)v6 >> 1);
      v8 = 1022;
    }
    else
    {
      v8 = 1021;
    }
    v9 = v4 + v8;
    LODWORD(v11) = ((unsigned int)v7 >> 1) | (HIDWORD(v7) << 31);
    LODWORD(v7) = 53;
    HIDWORD(v11) = HIDWORD(v7) >> 1;
    v12 = 0;
    do
    {
      while ( 1 )
      {
        v12 *= 2;
        if ( v11 <= v6 )
        {
          v6 -= v11;
          v12 |= 1u;
        }
        v13 = (v6 + (unsigned int)v6) >> 32;
        LODWORD(v6) = 2 * v6;
        HIDWORD(v6) += v13;
        v14 = v10 - 1;
        if ( v10 != 33 )
          break;
        v10 = 32;
      }
      --v10;
    }
    while ( v14 );
    if ( v11 <= v6 )
      ++v12;
    if ( v9 <= 0x7FD )
      return v12;
    result = 0;
  }
  else
  {
    LODWORD(a1) = 2 * HIDWORD(a1);
    if ( (unsigned int)(2 * HIDWORD(a1)) > 0xFFE00000 )
      return 0;
    LODWORD(a2) = 2 * HIDWORD(a2);
    if ( (unsigned int)(2 * HIDWORD(a2)) > 0xFFE00000 )
      return 0;
    v12 = (unsigned int)(2 * (HIDWORD(a2) | HIDWORD(a1))) >> 21 << 21;
    if ( !v12 )
      return v12;
    v12 = v16 >> 21 << 21;
    if ( !v12 )
      return v12;
    v12 = v17 >> 21 << 21;
    if ( !(v17 >> 21 << 21) )
      return v12;
    if ( v17 != -2097152 )
      return 0;
    if ( v16 == -2097152 )
      return 0;
    result = 0;
  }
  return result;
}

//----- (000060D0) --------------------------------------------------------
int __fastcall sub_60D0(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v4; // r4
  unsigned int v5; // r6
  unsigned int v6; // r0
  unsigned int v7; // r7
  unsigned int v8; // r5
  int result; // r0
  unsigned int v10; // r3
  unsigned int v11; // r2
  unsigned int v12; // r7
  unsigned int v13; // r4
  unsigned int v14; // r2
  int v15; // r1
  unsigned int v16; // r3
  int v17; // r1
  unsigned int v18; // ST04_4
  char v19; // r4
  unsigned int v20; // r2
  unsigned int v21; // r4
  unsigned int v22; // r3
  unsigned int v23; // r7
  char v24; // r4

  v4 = a1;
  v5 = a1;
  v6 = a3;
  v7 = a4;
  v8 = a2;
  if ( ((a4 ^ a2) & 0x80000000) != 0 )
    return sub_628C(v4, a2, a3, a4 + 2147483648);
  if ( a4 > a2 || a3 >= v4 && a4 == a2 )
  {
    v10 = (a4 ^ a2) + 2147483648;
    v11 = v5;
    v5 = v6;
    v8 = a2 ^ v10;
    v6 = v11;
    a4 = v10 ^ v7;
  }
  v12 = v8 >> 20;
  v13 = (v8 >> 20) - (a4 >> 20);
  v14 = (v8 >> 20) & 0xFFFFF7FF;
  if ( v14 == 2047 )
  {
    result = 0;
    if ( v8 << 12 )
      return result;
    if ( v8 >> 20 == a4 >> 20 )
      return v13;
    return v5;
  }
  if ( v13 == v14 )
  {
    if ( v8 >> 20 == a4 >> 20 )
      return v13;
    return v5;
  }
  v15 = v8 & 0xFFFFF | 0x100000;
  v16 = a4 & 0xFFFFF | 0x100000;
  if ( v13 > 0x1F )
  {
    v20 = v5;
    if ( v13 <= 0x35 )
    {
      v24 = v13 - 32;
      v20 = v5 - (v16 >> v24);
      v15 -= v5 < v20;
      v16 = (v16 << (32 - v24)) | (v6 >> v24);
      if ( v6 << 24 )
      {
        v16 |= 0xFFu;
      }
      else if ( !v16 )
      {
        goto LABEL_31;
      }
      --v20;
      v16 = -v16;
      v15 -= v20 + 1 <= 0;
    }
LABEL_31:
    if ( v15 & 0x100000 )
    {
LABEL_34:
      if ( (v16 & 0x80000000) != 0 )
      {
        ++v20;
        if ( v16 == 2147483648 )
          v20 &= 0xFFFFFFFE;
      }
      return v20;
    }
    v13 = (v12 - 1) << 21;
    if ( v13 )
    {
      v20 = 2 * v20 | (v16 >> 31);
      v16 *= 2;
      goto LABEL_34;
    }
    return v13;
  }
  v17 = v15 - (v16 >> v13);
  v18 = v6 >> v13;
  v19 = 32 - v13;
  v20 = v5 - (v18 | (v16 << v19));
  v15 = v17 - (v5 < v20);
  v16 = v6 << v19;
  if ( v6 << v19 )
  {
    --v20;
    v16 = -v16;
    v15 -= v20 + 1 <= 0;
  }
  if ( v15 & 0x180000 )
    goto LABEL_31;
  v21 = (v20 >> 31) | 2 * v15;
  v22 = (v16 >> 31) | 2 * v20;
  v20 = v21 | v22;
  v23 = v12 - 2;
  if ( !(v21 | v22) )
    return v20;
  while ( !(v21 >> 13) )
  {
    v21 = (v21 << 8) | (v22 >> 24);
    v22 <<= 8;
    v23 -= 8;
  }
  if ( !(v21 >> 17) )
  {
    v21 = 16 * v21 | (v22 >> 28);
    v22 *= 16;
    v23 -= 4;
  }
  if ( !(v21 >> 19) )
  {
    v21 = 4 * v21 | (v22 >> 30);
    v22 *= 4;
    v23 -= 2;
  }
  if ( !(v21 >> 20) )
  {
    v22 *= 2;
    --v23;
  }
  if ( v23 >> 11 == v8 >> 31 )
    result = v22;
  else
    result = 0;
  return result;
}

//----- (0000628C) --------------------------------------------------------
int __fastcall sub_628C(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v4; // r4
  unsigned int v5; // r5
  unsigned int v6; // r6
  int result; // r0
  unsigned int v8; // r1
  unsigned int v9; // r0
  unsigned int v10; // r3
  int v11; // r4
  unsigned int v12; // r6
  int v13; // r4
  unsigned int v14; // r0
  char v15; // r3
  unsigned int v16; // r6
  unsigned int v17; // r5
  unsigned int v18; // r4
  char v19; // r3

  v4 = a2;
  v5 = a1;
  v6 = a4;
  if ( ((a4 ^ a2) & 0x80000000) != 0 )
    return sub_60D0(a1, a2, a3, a4 + 2147483648);
  if ( a4 > a2 )
  {
    v4 = a4;
    v5 = a3;
    v6 = a2;
    a3 = a1;
  }
  v8 = v4 >> 20;
  v9 = (v4 >> 20) & 0xFFFFF7FF;
  if ( v9 == 2047 )
  {
    result = 0;
    if ( v4 << 12 )
      return result;
    return v5;
  }
  v10 = v8 - (v6 >> 20);
  if ( v10 == v9 )
  {
    if ( v8 == v6 >> 20 )
      return 0;
    return v5;
  }
  v11 = v4 & 0xFFFFF | 0x100000;
  v12 = v6 & 0xFFFFF | 0x100000;
  if ( v10 > 0x1F )
  {
    if ( v10 <= 0x35 )
    {
      v19 = v10 - 32;
      v5 += v12 >> v19;
      v11 -= (__PAIR__(v12 >> v19, v5) - __PAIR__(v12 >> v19, v12 >> v19)) >> 32;
      v12 = (v12 << (32 - v19)) | (a3 >> v19);
      if ( a3 << 24 )
        v12 |= 0xFFu;
    }
  }
  else
  {
    v13 = v11 + (v12 >> v10);
    v14 = a3 >> v10;
    v15 = 32 - v10;
    v16 = (v12 << v15) | v14;
    v5 += v16;
    v11 = v13 + (v5 < v16);
    v12 = a3 << v15;
  }
  if ( !(v11 & 0x200000) )
  {
    if ( (v12 & 0x80000000) != 0 )
    {
      ++v5;
      if ( v12 == 2147483648 )
        v5 &= 0xFFFFFFFE;
    }
    return v5;
  }
  v17 = v5 + 1;
  v18 = v11 + (v17 <= 0);
  if ( !v12 )
    v17 &= 0xFFFFFFFD;
  if ( 2 * ((v8 << 20) + (v18 >> 1)) > 0xFFDFFFFF )
    result = 0;
  else
    result = (v18 << 31) | (v17 >> 1);
  return result;
}

//----- (000063B4) --------------------------------------------------------
signed int __fastcall sub_63B4(unsigned int a1, unsigned int a2)
{
  unsigned int v2; // r3
  signed __int64 v3; // kr00_8
  unsigned int v4; // r0
  unsigned int v5; // r0

  v2 = a1;
  v3 = 2LL * a2;
  v4 = ((unsigned int)v3 >> 1) - 940572672;
  if ( v4 <= 0xFDFFFFF )
  {
    v5 = (8 * v2 >> 31) + ((v2 >> 29) | 8 * (((unsigned int)v3 >> 1) - 939524096));
    if ( 8 * v2 == 2147483648 )
      v5 &= 0xFFFFFFFE;
    return v5 | (HIDWORD(v3) << 31);
  }
  if ( (v4 & 0x80000000) != 0 )
    return HIDWORD(v3) << 31;
  if ( (unsigned int)v3 <= 0xFFE00000 )
  {
    v5 = 2139095040;
    return v5 | (HIDWORD(v3) << 31);
  }
  return 2143289344;
}

//----- (00006414) --------------------------------------------------------
BOOL __fastcall sub_6414(__int64 a1, int a2, int a3)
{
  int v3; // r7
  int v4; // r5
  BOOL result; // r0

  v3 = HIDWORD(a1);
  HIDWORD(a1) *= 2;
  v4 = a1;
  if ( a1 || (result = 1, 2 * a3 | a2) )
  {
    result = 0;
    if ( v3 == a3 && v4 == a2 )
      result = HIDWORD(a1) <= 0xFFE00000;
  }
  return result;
}

//----- (00006444) --------------------------------------------------------
BOOL __fastcall sub_6444(unsigned int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v4; // r6
  unsigned int v5; // r4
  unsigned int v6; // r5
  BOOL v7; // r1
  unsigned int v9; // r3

  v4 = a2;
  v5 = 2 * a2;
  v6 = a4;
  if ( ((a2 | a4) & 0x80000000) != 0 )
  {
    v7 = 0;
    if ( v5 <= 0xFFE00000 )
    {
      v9 = 2 * a4;
      if ( v9 <= 0xFFE00000 )
      {
        v7 = 1;
        if ( v4 >= v6 && (v4 != v6 || a1 > a3) )
        {
          v7 = 0;
          if ( !(a1 | v5) )
            v7 = (v9 | a3) <= 0;
        }
      }
    }
  }
  else
  {
    v7 = 0;
    if ( v5 <= 0xFFE00000 )
    {
      v7 = 1;
      if ( v4 <= a4 )
      {
        v7 = 0;
        if ( v4 == a4 )
          v7 = a1 >= a3;
      }
    }
  }
  return v7;
}

//----- (000064A4) --------------------------------------------------------
int __fastcall sub_64A4(int result, int *a2, unsigned __int8 a3, int a4)
{
  unsigned __int8 *v4; // r6
  int *v5; // r4
  unsigned __int8 v6; // r8
  int v7; // r7
  int i; // r5

  v4 = (unsigned __int8 *)result;
  v5 = a2;
  v6 = a3;
  v7 = a4;
  for ( i = 0; i < v7; ++i )
  {
    if ( (unsigned int)(*v5 + 1) > 0x7F )
    {
      result = sub_580(v4, *v5);
      *v5 = 0;
    }
    v4[(*v5)++] = v6;
  }
  return result;
}

//----- (000064E2) --------------------------------------------------------
int sub_64E2()
{
  return sub_6530();
}

//----- (000064EA) --------------------------------------------------------
int sub_64EA()
{
  unsigned __int8 v1; // [sp+7h] [bp-9h]

  sub_598(&v1);
  return v1;
}

//----- (000064FE) --------------------------------------------------------
BOOL __fastcall sub_64FE(unsigned __int8 *a1)
{
  return sub_520(a1, 1, 0) != 0;
}

//----- (00006512) --------------------------------------------------------
int __fastcall sub_6512(int a1, char a2, int a3, unsigned int a4)
{
  int v5; // [sp+0h] [bp-10h]
  char v6; // [sp+4h] [bp-Ch]

  v5 = a1;
  v6 = a2;
  sub_464((char *(__fastcall *)(unsigned __int8 *, int, int))&v5, a3, a4);
  return 0;
}

//----- (00006530) --------------------------------------------------------
int sub_6530()
{
  sub_4EC();
  return 0;
}

//----- (0000653A) --------------------------------------------------------
int __fastcall sub_653A(unsigned __int8 *a1, int a2)
{
  int v2; // r4

  v2 = a2;
  if ( a2 && a1 && sub_520(a1, a2, 1) )
    v2 = 0;
  return v2;
}

//----- (00006554) --------------------------------------------------------
signed int __fastcall sub_6554(_BYTE *a1, unsigned __int64 *a2, int a3, signed int a4, char a5)
{
  _BYTE *v5; // r8
  unsigned __int64 v6; // r4
  signed int v7; // r6
  char v9; // r2
  int v10; // r1
  signed __int64 v11; // r4
  unsigned __int64 v12; // r4
  signed __int64 v13; // r4
  int v14; // r1
  __int64 v15; // r2
  signed int v16; // [sp+4h] [bp-2Ch]
  unsigned __int64 v17; // [sp+8h] [bp-28h]
  unsigned __int64 v18; // [sp+8h] [bp-28h]

  v16 = a4;
  v5 = a1 + 1;
  *a1 = 0;
  if ( a3 )
  {
    v6 = *a2;
    if ( *a2 )
    {
      v7 = 0;
      while ( v6 )
      {
        LODWORD(v17) = sub_6EC0(v6, v16);
        HIDWORD(v17) = v10;
        v11 = v6 - sub_6F6A(v16, v16 >> 31, v17, v10);
        if ( v11 < 0 )
          v9 = 48 - v11;
        else
          v9 = v11 + 48;
        *v5 = v9;
        ++v7;
        ++v5;
        v6 = v17;
      }
    }
    else
    {
      a1[1] = (*(_BYTE *)a2 | (*a2 >> 32)) + 48;
      v7 = 1;
    }
  }
  else
  {
    v12 = *a2;
    if ( *a2 )
    {
      v7 = 0;
      while ( v12 )
      {
        LODWORD(v18) = sub_6E66(v12, v16);
        HIDWORD(v18) = v14;
        v13 = v12 - sub_6F6A(v16, v16 >> 31, v18, v14);
        if ( HIDWORD(v13) || (unsigned int)v13 > 9 )
        {
          if ( a5 )
            LODWORD(v15) = 65;
          else
            LODWORD(v15) = 97;
          HIDWORD(v15) = 0;
          v13 = v13 + v15 - 10;
        }
        else
        {
          LOBYTE(v13) = v13 + 48;
        }
        *v5 = v13;
        ++v7;
        ++v5;
        v12 = v18;
      }
    }
    else
    {
      a1[1] = (*(_BYTE *)a2 | (*a2 >> 32)) + 48;
      v7 = 1;
    }
  }
  return v7;
}

//----- (00006664) --------------------------------------------------------
BOOL __fastcall sub_6664(int a1, char a2, int a3, char a4)
{
  int v4; // ST00_4
  char v5; // r6
  int v6; // r7
  char v8; // [sp+7h] [bp-31h]
  int v9; // [sp+8h] [bp-30h]
  char v10; // [sp+Ch] [bp-2Ch]
  char v11; // [sp+Dh] [bp-2Bh]
  int v12; // [sp+10h] [bp-28h]
  char v13; // [sp+14h] [bp-24h]
  char *v14; // [sp+18h] [bp-20h]
  int v15; // [sp+1Ch] [bp-1Ch]

  v4 = a1;
  v5 = a2;
  v6 = a3;
  v8 = a4;
  sub_6D1A((unsigned int *)&v9, 0, 0x18u);
  v10 = v5;
  v11 = 0;
  v12 = v6;
  v13 = 1;
  v14 = &v8;
  v15 = 1;
  v9 = 0;
  return sub_3928(v4, (int)&v9) != 0;
}

//----- (000066A4) --------------------------------------------------------
BOOL __fastcall sub_66A4(int a1, char a2, int a3, int a4)
{
  int v4; // r4
  char v5; // r7
  int v6; // r6
  int v7; // r5
  int v9; // [sp+0h] [bp-30h]
  char v10; // [sp+4h] [bp-2Ch]
  char v11; // [sp+5h] [bp-2Bh]
  int v12; // [sp+8h] [bp-28h]
  char v13; // [sp+Ch] [bp-24h]
  int v14; // [sp+10h] [bp-20h]
  int v15; // [sp+14h] [bp-1Ch]

  v4 = a1;
  v5 = a2;
  v6 = a3;
  v7 = a4;
  sub_6D1A((unsigned int *)&v9, 0, 0x18u);
  v10 = v5;
  v11 = 1;
  v12 = 0;
  v13 = 0;
  v14 = v6;
  v15 = v7;
  v9 = 0;
  return sub_3928(v4, (int)&v9) != 0;
}

//----- (000066E2) --------------------------------------------------------
BOOL __fastcall sub_66E2(int a1, char a2, int a3, int a4)
{
  int v4; // r4
  char v5; // r7
  int v6; // r6
  int v7; // r5
  int v9; // [sp+0h] [bp-30h]
  char v10; // [sp+4h] [bp-2Ch]
  char v11; // [sp+5h] [bp-2Bh]
  int v12; // [sp+8h] [bp-28h]
  char v13; // [sp+Ch] [bp-24h]
  int v14; // [sp+10h] [bp-20h]
  int v15; // [sp+14h] [bp-1Ch]

  v4 = a1;
  v5 = a2;
  v6 = a3;
  v7 = a4;
  sub_6D1A((unsigned int *)&v9, 0, 0x18u);
  v10 = v5;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = v6;
  v15 = v7;
  v9 = 0;
  return sub_3928(v4, (int)&v9) != 0;
}

//----- (0000671E) --------------------------------------------------------
int __fastcall sub_671E(int result, int a2, unsigned int a3, int a4)
{
  unsigned int i; // r3
  unsigned int j; // r3
  _BYTE savedregs[24]; // [sp+0h] [bp+0h]

  *(_DWORD *)savedregs = a4;
  for ( i = 0; i < a3; ++i )
    savedregs[*(unsigned __int8 *)(a2 + i)] = *(_BYTE *)(result + i);
  for ( j = 0; j < a3; ++j )
  {
    *(_BYTE *)(result + j) = savedregs[j];
    *(_BYTE *)(a2 + j) = j;
  }
  return result;
}

//----- (00006754) --------------------------------------------------------
int __fastcall sub_6754(char a1)
{
  char v1; // r4

  v1 = a1;
  sub_1934(0, 0);
  sub_1934(1, 0);
  sub_1934(2, 0);
  sub_1934(3, v1);
  sub_1934(4, v1);
  return sub_1934(5, v1);
}

//----- (0000678A) --------------------------------------------------------
int __fastcall sub_678A(char a1)
{
  char v1; // r4

  v1 = a1;
  sub_1934(0, a1);
  sub_1934(1, v1);
  sub_1934(2, v1);
  sub_1934(3, 0);
  sub_1934(4, v1);
  return sub_1934(5, 0);
}

//----- (000067C0) --------------------------------------------------------
int __fastcall sub_67C0(char a1)
{
  char v1; // r4

  v1 = a1;
  sub_1934(0, a1);
  sub_1934(1, v1);
  sub_1934(2, v1);
  sub_1934(3, v1);
  sub_1934(4, 0);
  return sub_1934(5, 0);
}

//----- (000067F6) --------------------------------------------------------
int __fastcall sub_67F6(char a1)
{
  char v1; // r4

  v1 = a1;
  sub_1934(0, a1);
  sub_1934(1, v1);
  sub_1934(2, v1);
  sub_1934(3, 0);
  sub_1934(4, 0);
  return sub_1934(5, 0);
}

//----- (0000682C) --------------------------------------------------------
int __fastcall sub_682C(char a1)
{
  char v1; // r4

  v1 = a1;
  sub_1934(0, a1);
  sub_1934(1, v1);
  sub_1934(2, v1);
  sub_1934(3, v1);
  sub_1934(4, v1);
  return sub_1934(5, v1);
}

//----- (00006862) --------------------------------------------------------
int __fastcall sub_6862(char a1)
{
  char v1; // r4

  v1 = a1;
  sub_1934(0, a1);
  sub_1934(1, v1);
  sub_1934(2, 0);
  sub_1934(3, v1);
  sub_1934(4, v1);
  return sub_1934(5, 0);
}

//----- (00006898) --------------------------------------------------------
int sub_6898()
{
  return sub_305C();
}

//----- (000068A0) --------------------------------------------------------
int __fastcall sub_68A0(int a1, int a2)
{
  if ( !a2 )
    sub_311C(a1);
  return 0;
}

//----- (000068B0) --------------------------------------------------------
signed int __fastcall sub_68B0(int a1)
{
  if ( !a1 )
    return 4;
  *(_BYTE *)(a1 + 76) |= 3u;
  *(_WORD *)(a1 + 96) = 16;
  *(_WORD *)(a1 + 98) = 19;
  *(_DWORD *)(a1 + 84) = 0;
  *(_BYTE *)(a1 + 81) = 8;
  *(_BYTE *)(a1 + 80) = 0;
  *(_WORD *)(a1 + 82) = 256;
  return 0;
}

//----- (000068EA) --------------------------------------------------------
signed int __fastcall sub_68EA(int a1, unsigned int a2, int a3, int a4)
{
  int v4; // r3
  unsigned int v5; // r3

  if ( !a1 )
    return 4;
  v4 = a4 - 1;
  if ( a2 & v4 )
    return 101;
  if ( a3 & v4 )
    return 101;
  v5 = *(_DWORD *)(a1 + 8);
  if ( v5 > a2 )
    return 102;
  if ( a2 + a3 > v5 + *(_DWORD *)(a1 + 12) )
    return 102;
  return 0;
}

//----- (00006920) --------------------------------------------------------
int __fastcall sub_6920(unsigned __int8 *a1)
{
  unsigned __int8 *v1; // r2
  unsigned int v2; // r3
  int result; // r0

  v1 = a1;
  if ( !((_DWORD)a1 << 30) )
    return *(_DWORD *)a1;
  v2 = 0;
  result = 0;
  while ( v2 <= 3 )
    result |= *v1++ << 8 * v2++;
  return result;
}

//----- (00006944) --------------------------------------------------------
int __fastcall sub_6944(int result)
{
  if ( !*(_BYTE *)(result + 1) )
    *(_BYTE *)(result + 4) |= 0x2Bu;
  *(_BYTE *)(result + 4) = (*(_BYTE *)(result + 4) | 4) & 0xEF;
  return result;
}

//----- (0000696C) --------------------------------------------------------
int __fastcall sub_696C(unsigned int a1, unsigned int a2)
{
  int result; // r0

  if ( a2 << 10 >= a1 )
    result = 1024;
  else
    result = sub_6DF4(a1, a2);
  return result;
}

//----- (00006980) --------------------------------------------------------
signed int __fastcall sub_6980(int a1, unsigned int a2, int a3, _BYTE *a4)
{
  signed int i; // r4
  unsigned int v6; // r5

  if ( !a1 )
    return 4;
  for ( i = 0; ; i = 1 )
  {
    if ( i )
      return 102;
    v6 = *(_DWORD *)(a1 + 8);
    if ( v6 <= a2 && a2 + a3 <= v6 + *(_DWORD *)(a1 + 12) )
      break;
  }
  *a4 = *(_BYTE *)(a1 + 1);
  return 0;
}

//----- (000069CC) --------------------------------------------------------
signed int __fastcall sub_69CC(int a1, int a2)
{
  signed int result; // r0

  if ( !a1 )
    return 4;
  if ( *(_BYTE *)(a1 + 1) && *(_BYTE *)(a1 + 4) & 1 )
  {
    *(_DWORD *)(a1 + 48) = a2 - *(_DWORD *)(a1 + 8) + 0x800000;
    result = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 48) = a2;
    result = 0;
  }
  return result;
}

//----- (000069F8) --------------------------------------------------------
signed int __fastcall sub_69F8(int a1)
{
  int v1; // r5
  signed int i; // r6
  signed int v3; // r2
  unsigned int v4; // r0
  int v5; // r0
  signed int j; // r3
  signed int result; // r0

  v1 = a1;
  if ( !a1 )
    return 4;
  for ( i = 0; !i; i = 1 )
  {
    *(_BYTE *)v1 = 0;
    *(_BYTE *)(v1 + 1) = 0;
    sub_6944(v1);
    *(_DWORD *)(v1 + 8) = 0;
    *(_DWORD *)(v1 + 20) = 1;
    *(_DWORD *)(v1 + 16) = 1024;
    if ( *(_BYTE *)(v1 + 4) & 1 && *(_BYTE *)(v1 + 4) & 2 )
      *(_DWORD *)(v1 + 12) = sub_33AC(1, 0x10000, 0xF000000u, 24);
    else
      *(_DWORD *)(v1 + 12) = 0x10000;
    if ( *(_BYTE *)(v1 + 4) & 0x10 )
    {
      *(_DWORD *)(v1 + 24) = *(_DWORD *)(v1 + 8);
      *(_DWORD *)(v1 + 28) = 256 << SLOBYTE(dword_0[0]);
      *(_DWORD *)(v1 + 32) = LOBYTE(dword_0[0]);
    }
    if ( *(_BYTE *)(v1 + 4) & 4 )
    {
      if ( *(_BYTE *)(v1 + 4) & 8 )
      {
        *(_DWORD *)(v1 + 36) = *(_DWORD *)(v1 + 8);
        *(_DWORD *)(v1 + 44) = 32;
        *(_DWORD *)(v1 + 40) = sub_696C(*(_DWORD *)(v1 + 12), 0x20u);
      }
      else
      {
        *(_DWORD *)(v1 + 36) = *(_DWORD *)(v1 + 8);
        *(_DWORD *)(v1 + 44) = 32;
        v3 = 0;
        v4 = 0;
        while ( !v3 )
        {
          v4 += *(_DWORD *)(v1 + 12);
          v3 = 1;
        }
        v5 = sub_696C(v4, 0x20u);
        for ( j = 0; !j; j = 1 )
          *(_DWORD *)(v1 + 40) = v5;
      }
    }
    *(_BYTE *)(v1 + 57) = 4;
    *(_BYTE *)(v1 + 52) = 4;
    *(_BYTE *)(v1 + 53) = 4;
    *(_BYTE *)(v1 + 54) = 4;
    *(_BYTE *)(v1 + 55) = 4;
    *(_BYTE *)(v1 + 56) = 0;
    result = sub_318C((_DWORD *)v1);
    if ( result )
      return result;
  }
  return 0;
}
// 0: using guessed type int dword_0[11];

//----- (00006B64) --------------------------------------------------------
signed int __fastcall sub_6B64(int a1, unsigned int a2, int a3, int a4)
{
  int v4; // r4
  unsigned int v5; // r5
  int v6; // r6
  int v7; // r7
  signed int result; // r0
  unsigned __int8 v9; // [sp+7h] [bp-19h]

  v4 = a1;
  v5 = a2;
  v6 = a3;
  v7 = a4;
  result = sub_6980(a1, a2, a3, &v9);
  if ( !result )
  {
    result = sub_69CC(v4 + 100 * v9, v5);
    if ( !result )
      result = sub_31BC(v4 + 100 * v9, v5, v6, v7);
  }
  return result;
}

//----- (00006BAE) --------------------------------------------------------
signed int __fastcall sub_6BAE(int a1, unsigned int a2, unsigned __int8 *a3, int a4)
{
  int v4; // r4
  unsigned int v5; // r5
  unsigned __int8 *v6; // r7
  int v7; // r6
  signed int result; // r0
  unsigned __int8 v9; // [sp+7h] [bp-19h]

  v4 = a1;
  v5 = a2;
  v6 = a3;
  v7 = a4;
  result = sub_6980(a1, a2, a4, &v9);
  if ( !result )
  {
    result = sub_69CC(v4 + 100 * v9, v5);
    if ( !result )
      result = sub_3230(v4 + 100 * v9, v5, v6, v7);
  }
  return result;
}

//----- (00006BFA) --------------------------------------------------------
signed int __fastcall sub_6BFA(int a1, unsigned int a2, int a3, unsigned __int8 *a4, unsigned __int8 a5, _DWORD *a6, _DWORD *a7)
{
  int v7; // r4
  unsigned int v8; // r5
  int v9; // r6
  signed int result; // r0
  unsigned __int8 *v11; // [sp+14h] [bp-24h]
  unsigned __int8 v12; // [sp+1Fh] [bp-19h]

  v7 = a1;
  v8 = a2;
  v9 = a3;
  v11 = a4;
  result = sub_6980(a1, a2, a3, &v12);
  if ( !result )
  {
    result = sub_69CC(v7 + 100 * v12, v8);
    if ( !result )
      result = sub_32C8(v7 + 100 * v12, v8, v9, v11, a5, a6, a7);
  }
  return result;
}

//----- (00006C60) --------------------------------------------------------
signed int __fastcall sub_6C60(int a1, _DWORD *a2)
{
  return sub_335C(a1, a2);
}

//----- (00006C68) --------------------------------------------------------
int __fastcall sub_6C68(int a1)
{
  int v1; // r3

  v1 = *(unsigned __int8 *)(a1 + 3);
  if ( *(_BYTE *)(a1 + 6) & 0x40 )
    v1 |= 0x4000u;
  if ( *(_BYTE *)(a1 + 6) & 0x10 )
    v1 |= 0x1000u;
  return v1;
}

//----- (00006C88) --------------------------------------------------------
void __fastcall sub_6C88(_DWORD *a1, int a2)
{
  int v2; // [sp-14h] [bp-1Ch]

  *a1 |= (unsigned __int16)(((_WORD)a2 << 8) & 0xC000);
  a1[2] |= a2 & 0xFFFFFF00;
  JUMPOUT(__CS__, v2);
}

//----- (00006CA4) --------------------------------------------------------
int __fastcall sub_6CA4(int a1)
{
  return *(_DWORD *)(a1 + 4);
}

//----- (00006CA8) --------------------------------------------------------
int __fastcall sub_6CA8(int a1)
{
  return (*(unsigned __int8 *)(a1 + 5) << 8) | *(unsigned __int8 *)(a1 + 4);
}

//----- (00006CB2) --------------------------------------------------------
int __fastcall sub_6CB2(int result, _BYTE *a2, int a3)
{
  while ( a3 )
  {
    while ( *(char *)(result + 4) >= 0 )
      ;
    *(_BYTE *)(result + 7) = *a2;
    --a3;
    ++a2;
  }
  return result;
}

//----- (00006CCE) --------------------------------------------------------
signed int sub_6CCE()
{
  return sub_43A8();
}

//----- (00006CD6) --------------------------------------------------------
int sub_6CD6()
{
  sub_4430();
  sub_444C();
  sub_448C();
  sub_44A8();
  sub_44B8();
  return sub_44F4();
}

//----- (00006CF2) --------------------------------------------------------
int sub_6CF2()
{
  return sub_6CD6();
}

//----- (00006CFA) --------------------------------------------------------
signed int sub_6CFA()
{
  return sub_4524();
}

//----- (00006D04) --------------------------------------------------------
void __fastcall __noreturn sub_6D04(unsigned int a1)
{
  unsigned __int64 v1; // r0
  int v2; // r2
  int v3; // r3

  v1 = sub_4BD0(a1);
  sub_27AC(v1, SHIDWORD(v1), v2, v3);
}

//----- (00006D12) --------------------------------------------------------
_DWORD *__fastcall sub_6D12(_DWORD *a1, int *a2, unsigned int a3)
{
  return sub_6F98(a1, a2, a3);
}

//----- (00006D1A) --------------------------------------------------------
unsigned int *__fastcall sub_6D1A(unsigned int *a1, unsigned int a2, unsigned int a3)
{
  return sub_6FC4(a1, a2, a3);
}

//----- (00006D22) --------------------------------------------------------
_DWORD *__fastcall sub_6D22(_DWORD *result)
{
  _DWORD *v1; // r2

  if ( result )
  {
    result -= 3;
    *result = 0x10000000;
    while ( 1 )
    {
      v1 = (_DWORD *)result[2];
      if ( !v1 || *v1 != 0x10000000 )
        break;
      result[1] += 3 + v1[1];
      result[2] = v1[2];
    }
  }
  return result;
}

//----- (00006D4E) --------------------------------------------------------
signed int __fastcall sub_6D4E(_BYTE *a1, int *a2)
{
  int *v2; // r5
  _BYTE *i; // r4
  signed int result; // r0
  int v5; // r3
  _BYTE *v6; // r3

  v2 = a2;
  for ( i = a1; ; ++i )
  {
    result = (unsigned __int8)*i;
    if ( !*i )
      break;
    v5 = v2[2] - 1;
    v2[2] = v5;
    if ( v5 < 0 )
    {
      result = sub_479C(result, v2);
      if ( result == -1 )
        return result;
    }
    else
    {
      v6 = (_BYTE *)(*v2)++;
      *v6 = result;
    }
  }
  return result;
}

//----- (00006D7C) --------------------------------------------------------
signed int sub_6D7C(_BYTE *a1, unsigned __int8 *a2, ...)
{
  unsigned __int8 *v2; // r5
  _BYTE *v3; // r4
  _BYTE *v5; // [sp+4h] [bp-54h]
  int v6; // [sp+8h] [bp-50h]
  int v7; // [sp+10h] [bp-48h]
  _BYTE *v8; // [sp+14h] [bp-44h]
  va_list varg_r2; // [sp+50h] [bp-8h]

  va_start(varg_r2, a2);
  v2 = a2;
  v3 = a1;
  sub_6D1A((unsigned int *)&v5, 0, 0x3Cu);
  v7 = 9;
  v8 = v3;
  v5 = v3;
  v6 = sub_5968(v3);
  return sub_4F0C(&v5, v2, (int)varg_r2);
}

//----- (00006DB8) --------------------------------------------------------
int __fastcall sub_6DB8(int a1, _BYTE *a2, int a3)
{
  int v3; // r4

  v3 = a1;
  if ( a1 || a3 != 1 )
    return sub_7000(a1, (int)a2, a3);
  *a2 = sub_7004();
  return v3;
}

//----- (00006DDC) --------------------------------------------------------
signed int __fastcall sub_6DDC(_BYTE *a1)
{
  sub_5968(a1);
  return sub_700A();
}

//----- (00006DEE) --------------------------------------------------------
int __fastcall sub_6DEE(int a1, int a2)
{
  if ( (a1 | a2) < 0 )
    JUMPOUT(&loc_6E38);
  return sub_6DF4(a1, a2);
}

//----- (00006DF4) --------------------------------------------------------
int __fastcall sub_6DF4(unsigned int a1, unsigned int a2)
{
  unsigned int v2; // r2
  unsigned __int8 v3; // cf
  int v4; // off
  int result; // r0
  int v6; // r0
  int (__fastcall *v7)(int); // r12

  if ( a2 )
  {
    v2 = 2147483648;
    while ( a2 <= a1 >> 4 )
    {
      a2 *= 16;
      v2 >>= 4;
    }
    while ( a2 <= a1 >> 1 )
    {
      a2 *= 2;
      v2 >>= 1;
    }
    while ( 1 )
    {
      v3 = a1 >= a2;
      a1 -= a2;
      if ( !v3 )
        break;
LABEL_10:
      v4 = v3 + v2;
      v3 = __CFADD__(v3, v2) | __CFADD__(v2, v4);
      v2 += v4;
      if ( v3 )
        return v2;
      a2 >>= 1;
    }
    while ( 1 )
    {
      v3 = __CFADD__(v2, v2);
      v2 *= 2;
      if ( v3 )
        break;
      a2 >>= 1;
      v3 = __CFADD__(a1, a2);
      a1 += a2;
      if ( v3 )
        goto LABEL_10;
    }
    result = v2;
  }
  else
  {
    v6 = nullsub_2(0);
    result = v7(v6);
  }
  return result;
}
// 6EF2: using guessed type int __fastcall nullsub_2(_DWORD);

//----- (00006E66) --------------------------------------------------------
int __fastcall sub_6E66(unsigned __int64 a1, unsigned __int64 a2)
{
  signed int v2; // r6
  int v3; // off
  __int64 i; // r4
  int v5; // off

  if ( !a2 )
    return nullsub_2(0);
  v2 = 1;
  while ( a1 >> 1 >= a2 )
  {
    v3 = (a2 + (unsigned int)a2) >> 32;
    LODWORD(a2) = 2 * a2;
    HIDWORD(a2) += v3;
    ++v2;
  }
  for ( i = 0LL; ; HIDWORD(i) += v5 )
  {
    if ( a1 >= a2 )
    {
      a1 -= a2;
      LODWORD(i) = i + 1;
    }
    if ( !--v2 )
      break;
    a2 >>= 1;
    v5 = (i + (unsigned __int64)(unsigned int)i) >> 32;
    LODWORD(i) = 2 * i;
  }
  return i;
}
// 6EF2: using guessed type int __fastcall nullsub_2(_DWORD);

//----- (00006EC0) --------------------------------------------------------
int __fastcall sub_6EC0(unsigned __int64 a1, signed __int64 a2)
{
  int v2; // r5
  bool v3; // cf
  int v4; // r5
  int result; // r0

  v2 = HIDWORD(a2) >> 31;
  if ( a2 < 0 )
  {
    v3 = (unsigned int)a2 <= 0;
    LODWORD(a2) = -(signed int)a2;
    HIDWORD(a2) = -!v3 - HIDWORD(a2);
  }
  v4 = v2 ^ (SHIDWORD(a1) >> 31);
  if ( v4 < 0 )
  {
    v3 = (unsigned int)a1 <= 0;
    LODWORD(a1) = -(signed int)a1;
    HIDWORD(a1) = -!v3 - HIDWORD(a1);
  }
  result = sub_6E66(a1, a2);
  if ( v4 & 1 )
    result = -result;
  return result;
}

//----- (00006EF4) --------------------------------------------------------
__int64 __fastcall sub_6EF4(unsigned int a1, int a2)
{
  __int64 v2; // r2

  if ( !a1 )
    return 0LL;
  if ( a1 >> 16 )
    a2 += 0x1000000;
  else
    a1 <<= 16;
  if ( a1 >> 24 )
    a2 += 0x800000;
  else
    a1 <<= 8;
  if ( a1 >> 28 )
    a2 += 0x400000;
  else
    a1 *= 16;
  if ( a1 >> 30 )
    a2 += 0x200000;
  else
    a1 *= 4;
  if ( (a1 & 0x80000000) != 0 )
    a2 += 0x100000;
  else
    a1 *= 2;
  HIDWORD(v2) = ((signed int)a1 >> 11) + a2;
  LODWORD(v2) = a1 << 21;
  return v2;
}

//----- (00006F52) --------------------------------------------------------
__int64 __fastcall sub_6F52(signed int a1)
{
  return sub_6EF4((a1 + (a1 >> 31)) ^ (unsigned int)(a1 >> 31), ((unsigned int)a1 >> 31 << 31) + 0x40000000);
}

//----- (00006F6A) --------------------------------------------------------
unsigned __int64 __fastcall sub_6F6A(unsigned int a1, int a2, unsigned int a3, int a4)
{
  __int64 v4; // r0
  unsigned int v5; // r4
  __int64 v6; // r2

  HIDWORD(v4) = a2 * a3 + a4 * a1 + (a1 >> 16) * (a3 >> 16);
  v5 = (a1 >> 16) * (unsigned __int16)a3;
  HIDWORD(v6) = (a3 >> 16) * (unsigned __int16)a1;
  LODWORD(v4) = (unsigned __int16)a1 * (unsigned __int16)a3;
  LODWORD(v6) = HIDWORD(v6) << 16;
  HIDWORD(v6) >>= 16;
  return v4 + __PAIR__(v5 >> 16, v5 << 16) + v6;
}

//----- (00006F98) --------------------------------------------------------
_DWORD *__fastcall sub_6F98(_DWORD *a1, int *a2, unsigned int a3)
{
  _DWORD *v3; // r12
  unsigned int v4; // r3
  int v5; // r2
  bool v6; // cf
  int v7; // r2
  int v8; // r1
  int v9; // r0

  v3 = a1;
  if ( !((_DWORD)a1 << 30) && !((_DWORD)a2 << 30) )
  {
    v4 = a3 - 4;
    if ( a3 >= 4 )
    {
      do
      {
        v5 = *a2;
        ++a2;
        *a1 = v5;
        ++a1;
        v6 = v4 >= 4;
        v4 -= 4;
      }
      while ( v6 );
      a3 = v4 + 4;
    }
  }
  v7 = -a3;
  if ( v7 )
  {
    v8 = (int)a2 - v7;
    v9 = (int)a1 - v7;
    do
    {
      *(_BYTE *)(v9 + v7) = *(_BYTE *)(v8 + v7);
      ++v7;
    }
    while ( v7 );
  }
  return v3;
}

//----- (00006FC4) --------------------------------------------------------
unsigned int *__fastcall sub_6FC4(unsigned int *a1, unsigned int a2, unsigned int a3)
{
  unsigned int *v3; // r12
  bool v4; // cf
  unsigned int v5; // r2
  int i; // r2

  v3 = a1;
  v4 = a3 >= 4;
  v5 = a3 - 4;
  if ( v4 && !((_DWORD)a1 << 30) )
  {
    a2 = (a2 << 24) | (a2 << 16) & 0xFFFFFF | (((a2 << 24) | (a2 << 16) & 0xFFFFFF) >> 16);
    do
    {
      v4 = v5 >= 4;
      v5 -= 4;
      *a1 = a2;
      ++a1;
    }
    while ( v4 );
  }
  for ( i = v5 + 4; i; --i )
  {
    *(_BYTE *)a1 = a2;
    a1 = (unsigned int *)((char *)a1 + 1);
  }
  return v3;
}

//----- (00006FEE) --------------------------------------------------------
signed int sub_6FEE()
{
  return -1;
}

//----- (00006FF4) --------------------------------------------------------
signed int sub_6FF4()
{
  return -1;
}

//----- (00006FFA) --------------------------------------------------------
signed int sub_6FFA()
{
  return -1;
}

//----- (00007000) --------------------------------------------------------
int __fastcall sub_7000(int a1, int a2, int a3)
{
  return a3;
}

//----- (00007004) --------------------------------------------------------
signed int sub_7004()
{
  return -1;
}

//----- (0000700A) --------------------------------------------------------
signed int sub_700A()
{
  return -1;
}

//----- (00007010) --------------------------------------------------------
signed int sub_7010()
{
  return -1;
}

//----- (00007016) --------------------------------------------------------
signed int sub_7016()
{
  return -1;
}

//----- (0000701C) --------------------------------------------------------
int __fastcall sub_701C(int a1, int a2, int a3)
{
  return a3;
}

//----- (000078D4) --------------------------------------------------------
_DWORD *__fastcall sub_78D4(_DWORD *result, _DWORD *a2, unsigned int a3)
{
  unsigned int v3; // r3

  v3 = 0;
  while ( v3 < a3 )
  {
    *a2 = *result;
    v3 += 4;
    ++result;
    ++a2;
  }
  return result;
}

//----- (000078EA) --------------------------------------------------------
_DWORD *__fastcall sub_78EA(_DWORD *result, unsigned int a2)
{
  unsigned int v2; // r3

  v2 = 0;
  while ( v2 < a2 )
  {
    *result = 0;
    v2 += 4;
    ++result;
  }
  return result;
}

//----- (0000795E) --------------------------------------------------------
int __fastcall sub_795E(int result, _BYTE *a2)
{
  if ( !result )
  {
    sub_79DA(a2);
    while ( 1 )
      ;
  }
  return result;
}

//----- (00007970) --------------------------------------------------------
int __fastcall sub_7970(char a1, char a2, char a3, int a4)
{
  char v4; // r4
  int v5; // r0
  signed int i; // r2
  int result; // r0

  v4 = a1;
  v5 = MEMORY[0x13380];
  *(_BYTE *)(MEMORY[0x13380] + 1) = v4;
  *(_BYTE *)(v5 + 2) = a2;
  *(_BYTE *)(v5 + 3) = a3;
  for ( i = 0; i <= 15; ++i )
    *(_BYTE *)(v5 + i + 4) = *(_BYTE *)(a4 + i);
  sub_83E6();
  return (char)result;
}

//----- (0000799C) --------------------------------------------------------
void sub_799C()
{
  JUMPOUT(&loc_6B18);
}

//----- (000079D2) --------------------------------------------------------
int __fastcall sub_79D2(int result)
{
  if ( !result )
  {
    while ( 1 )
      ;
  }
  return result;
}

//----- (000079DA) --------------------------------------------------------
int __fastcall sub_79DA(_BYTE *a1)
{
  _BYTE *i; // r4

  for ( i = a1; *i; ++i )
    MEMORY[0xFFFFFF9C]();
  MEMORY[0xFFFFFF9C]((unsigned __int8)*i + 10);
  return MEMORY[0xFFFFFF9C](13);
}

//----- (000079FA) --------------------------------------------------------
int sub_79FA()
{
  int v0; // r0

  MEMORY[0xFFFFFF14](27);
  v0 = MEMORY[0xFFFFFF2E](1);
  MEMORY[0xFFFFFF12](v0);
  return MEMORY[0xFFFFFF38](0, 0, 0);
}

//----- (00007A24) --------------------------------------------------------
signed int __fastcall sub_7A24(unsigned int a1, _BYTE *a2)
{
  unsigned int v2; // r2
  signed int result; // r0
  char v4; // r3
  char v5; // r3
  int v6; // r2
  int v7; // r3
  char v8; // r6

  v2 = a1;
  if ( a1 )
  {
    result = 0;
  }
  else
  {
    *a2 = 48;
    result = 1;
  }
  while ( v2 )
  {
    v5 = v2 & 0xF;
    if ( (signed int)(v2 & 0xF) <= 9 )
      v4 = v5 + 48;
    else
      v4 = v5 + 55;
    a2[result++] = v4;
    v2 >>= 4;
  }
  a2[result] = 0;
  v6 = result - 1;
  v7 = 0;
  while ( v6 > v7 )
  {
    v8 = a2[v7];
    a2[v7] = a2[v6];
    a2[v6] = v8;
    ++v7;
    --v6;
  }
  return result;
}

//----- (00007C4C) --------------------------------------------------------
void sub_7C4C()
{
  signed int v0; // r4
  char v1; // [sp+4h] [bp-Ch]
  char v2; // [sp+5h] [bp-Bh]

  v1 = 82;
  v2 = 79;
  v0 = 0;
  while ( v0 <= 1 )
  {
    if ( (unsigned int)MEMORY[0xFFFFFFB2]() <= 7 )
    {
      MEMORY[0xFFFFFF9C]((unsigned __int8)*(&v1 + v0));
      v0 = (char)(v0 + 1);
    }
  }
}

//----- (00007C7A) --------------------------------------------------------
void sub_7C7A()
{
  signed int v0; // r4
  char v1; // [sp+4h] [bp-Ch]
  char v2; // [sp+5h] [bp-Bh]

  v1 = 82;
  v2 = 67;
  v0 = 0;
  while ( v0 <= 1 )
  {
    if ( (unsigned int)MEMORY[0xFFFFFFB2]() <= 7 )
    {
      MEMORY[0xFFFFFF9C]((unsigned __int8)*(&v1 + v0));
      v0 = (char)(v0 + 1);
    }
  }
}

//----- (00007CA8) --------------------------------------------------------
unsigned int __fastcall sub_7CA8(int a1, int a2)
{
  int i; // r3
  char v3; // r7
  int v4; // r6
  unsigned int result; // r0
  int v6; // r4

  MEMORY[0x133BC] = 66;
  for ( i = 0; i < a1; i = (char)(i + 1) )
  {
    v3 = *(_BYTE *)(a2 + i);
    *(_BYTE *)(2 * i + 0x133BD) = (*(_BYTE *)(a2 + i) >> 4) - 48;
    *(_BYTE *)(2 * (i + 1) + 0x133BC) = (v3 & 0xF) - 48;
  }
  v4 = a1;
  result = 2 * a1 + 1;
  *(_BYTE *)(result + 78780) = 69;
  v6 = 0;
  while ( v6 < 2 * (v4 + 1) )
  {
    result = MEMORY[0xFFFFFFB2]();
    if ( result <= 7 )
    {
      result = MEMORY[0xFFFFFF9C](*(unsigned __int8 *)(v6 + 78780));
      v6 = (char)(v6 + 1);
    }
  }
  return result;
}

//----- (00007D0C) --------------------------------------------------------
void __fastcall sub_7D0C(int a1)
{
  int v1; // r5

  v1 = a1;
  sub_79D2(MEMORY[0x133D8] <= 0u);
  MEMORY[0x133D8] = v1;
  JUMPOUT(&loc_59DE);
}

//----- (00007D7C) --------------------------------------------------------
int __fastcall sub_7D7C(unsigned int a1, _BYTE *a2, int a3)
{
  _BYTE *v3; // r4
  int v4; // r5
  signed int v5; // r0
  int v6; // r1
  int i; // r3

  v3 = a2;
  v4 = a3 / 4;
  v5 = sub_7A24(a1, a2);
  v6 = v4 - v5;
  if ( v4 - v5 < 0 )
    v6 = 0;
  if ( v4 - v5 > 0 )
  {
    while ( v5 >= 0 )
    {
      v3[v5 + v6] = v3[v5];
      --v5;
    }
    for ( i = 0; i < v6; ++i )
      v3[i] = 48;
  }
  return v4;
}

//----- (0000809C) --------------------------------------------------------
void sub_809C()
{
  MEMORY[0xFFFFE7A8](786434);
  MEMORY[0xFFFFE7B4](262146);
  MEMORY[0xFFFFE7C0](524290);
  MEMORY[0xFFFFE778](8, 3);
  MEMORY[0xFFFFE7CC](786434);
  MEMORY[0xFFFFE7D8](524309);
  MEMORY[0xFFFFE808](786435);
  JUMPOUT(&loc_6E8A);
}

//----- (00008198) --------------------------------------------------------
int sub_8198()
{
  unsigned int v0; // r0
  char v2; // [sp+Dh] [bp-Bh]

  sub_93D0();
  sub_809C();
  MEMORY[0xFFFFC2B6](1);
  MEMORY[0xFFFFC35E](0, 0, 3);
  MEMORY[0xFFFFF13C](66225);
  sub_9590(67041, 0, 78716, 77920, 200);
  sub_95AA(78740, 10);
  v2 = -124;
  v0 = MEMORY[0xFFFFEC52]();
  sub_795E(v0 <= 0, (_BYTE *)0x1281C);
  sub_9568();
  return 0;
}

//----- (0000820C) --------------------------------------------------------
signed int sub_820C()
{
  signed int result; // r0

  result = 10023;
  dword_40008858 = 10023;
  return result;
}
// 40008858: using guessed type int dword_40008858;

//----- (00008278) --------------------------------------------------------
signed int sub_8278()
{
  signed int result; // r0

  result = 68369;
  MEMORY[0x17D8C] = 68369;
  return result;
}

//----- (000082D4) --------------------------------------------------------
unsigned int sub_82D4()
{
  unsigned int result; // r0
  bool v1; // cf

  dword_4000344C = 4112;
  result = 20;
  do
  {
    if ( !(dword_4000344C & 0x40000000) )
      break;
    v1 = result-- >= 1;
  }
  while ( v1 );
  return result;
}
// 0: using guessed type int dword_0[11];
// 4000344C: using guessed type int dword_4000344C;

//----- (000082EC) --------------------------------------------------------
int sub_82EC()
{
  unsigned int v0; // r5
  bool v1; // cf
  int result; // r0

  dword_4000344C = 16781328;
  v0 = 20;
  while ( 1 )
  {
    result = 2 * dword_4000344C;
    if ( !(dword_4000344C & 0x40000000) )
      break;
    v1 = v0-- >= 1;
    if ( !v1 )
      sub_82D4();
  }
  return result;
}
// 0: using guessed type int dword_0[11];
// 4000344C: using guessed type int dword_4000344C;

//----- (00008350) --------------------------------------------------------
signed int sub_8350()
{
  signed int result; // r0

  result = 68445;
  MEMORY[0x1767C] = 68445;
  return result;
}

//----- (000083E6) --------------------------------------------------------
void sub_83E6()
{
  JUMPOUT(&loc_1D48);
}

//----- (0000855E) --------------------------------------------------------
signed int sub_855E()
{
  signed int result; // r0

  MEMORY[0xFFFFDACC](123);
  MEMORY[0x16498] = 68981;
  sub_8836();
  MEMORY[0x17604] = 69357;
  MEMORY[0x17600] = 69273;
  MEMORY[0x175F8] = 69237;
  MEMORY[0x1761C] = 69773;
  MEMORY[0x17644] = 70081;
  result = 69913;
  MEMORY[0x1763C] = 69913;
  return result;
}

//----- (000085B0) --------------------------------------------------------
int sub_85B0()
{
  int v0; // r0

  v0 = MEMORY[0x16709];
  if ( !MEMORY[0x16709] )
  {
    v0 = 2;
LABEL_5:
    sub_899C(v0);
    return 0;
  }
  if ( MEMORY[0x16709] == 1 )
    goto LABEL_5;
  return 0;
}

//----- (0000877A) --------------------------------------------------------
int __fastcall sub_877A(int a1, int a2, _WORD *a3)
{
  _WORD *v3; // r6
  int v4; // r4
  int v5; // r7
  int v6; // r5
  int v7; // r4
  signed int v8; // r0

  v3 = a3;
  v4 = a1;
  v5 = (a1 << 6) + 91388;
  v6 = MEMORY[0xFFFFD22A](a1);
  v7 = 66 * v4;
  if ( *(_BYTE *)(v5 + 62) )
    v8 = 797;
  else
    v8 = 746;
  *v3 = MEMORY[0xFFFFCADC](v7 + v8, 1);
  return v6;
}

//----- (00008836) --------------------------------------------------------
signed int sub_8836()
{
  signed int result; // r0

  MEMORY[0xFFFFAEF4](23, 69695);
  result = 69103;
  MEMORY[0x164D8] = 69103;
  return result;
}

//----- (0000899C) --------------------------------------------------------
int __fastcall sub_899C(int a1)
{
  unsigned int v1; // r4
  int v2; // r7

  v1 = 0;
  v2 = a1;
  do
    ++v1;
  while ( (unsigned __int8)MEMORY[0xFFFFCADC](416, 1) && v1 < 0x3E8 );
  return MEMORY[0xFFFFDB50](v2);
}

//----- (00008A40) --------------------------------------------------------
signed int sub_8A40()
{
  signed int result; // r0

  MEMORY[0x17864] = 70219;
  result = 70125;
  MEMORY[0x16D7C] = 70125;
  return result;
}

//----- (00008A68) --------------------------------------------------------
void *sub_8A68()
{
  void *result; // r0

  result = &unk_40008C40;
  while ( dword_40008C6C )
    ;
  return result;
}
// 40008C6C: using guessed type int dword_40008C6C;

//----- (00008A72) --------------------------------------------------------
void *__fastcall sub_8A72(unsigned int a1)
{
  unsigned int v1; // r4
  signed int v2; // r0
  void *result; // r0
  signed int v4; // [sp+0h] [bp-20h]

  v4 = 4;
  v1 = dword_40008C28;
  if ( !MEMORY[0x13462] )
  {
    v1 = dword_40008C28 & 0xFFFFFEFE;
    if ( a1 <= 0x4FB )
    {
      if ( a1 <= 0x497 )
        goto LABEL_14;
      v2 = 2;
    }
    else
    {
      v2 = 0;
    }
    v4 = v2;
    goto LABEL_14;
  }
  if ( a1 < 0x4CE || MEMORY[0x13462] == 2 )
  {
    if ( !(dword_40008C28 << 31) )
    {
      sub_904A();
      sub_9316();
      sub_9316();
      JUMPOUT(&loc_6C98);
    }
  }
  else if ( a1 > 0x4F6 )
  {
    v1 = dword_40008C28 & 0xFFFFFEFE;
  }
LABEL_14:
  result = &unk_40008C00;
  dword_40008C28 = v1 & 0xFFFFFFF9 | v4;
  return result;
}
// 40008C28: using guessed type int dword_40008C28;

//----- (00008B96) --------------------------------------------------------
unsigned int sub_8B96()
{
  int v0; // r6
  unsigned int v1; // r5
  unsigned int v2; // r7
  unsigned int v3; // r4
  unsigned int v4; // r5
  int v5; // r4
  unsigned int v6; // r5
  unsigned int v7; // r4
  unsigned int v9; // [sp+0h] [bp-30h]
  unsigned int v10; // [sp+4h] [bp-2Ch]
  unsigned int v11; // [sp+8h] [bp-28h]
  unsigned int v12; // [sp+Ch] [bp-24h]
  unsigned int v13; // [sp+10h] [bp-20h]
  int v14; // [sp+14h] [bp-1Ch]

  v12 = 0;
  v13 = 0;
  v0 = dword_40008C30;
  v1 = 20;
  v10 = (unsigned int)(dword_40008C30 << 11) >> 25;
  v11 = (unsigned int)(16 * dword_40008C30) >> 25;
  v2 = (unsigned int)(dword_40008C30 << 18) >> 25;
  v9 = dword_40008C30 & 0x7F;
  v3 = 127 - v10;
  if ( v9 < 0x14 )
    v1 = dword_40008C30 & 0x7F;
  if ( v2 < v1 )
    v1 = (unsigned int)(dword_40008C30 << 18) >> 25;
  v14 = (v10 << 14) | (v9 - v1) | (v11 << 21) | ((((unsigned int)(dword_40008C30 << 18) >> 25) - v1) << 7);
  if ( v3 > 127 - ((unsigned int)(16 * dword_40008C30) >> 25) )
    v3 = 127 - ((unsigned int)(16 * dword_40008C30) >> 25);
  if ( v3 <= 0xC )
  {
    v4 = 2;
    goto LABEL_11;
  }
  v3 = 12;
  v4 = 2;
  do
  {
    sub_903C(((v10 + v4) << 14) | v9 | ((v11 + v4) << 21) | (v2 << 7));
    v4 += 2;
LABEL_11:
    ;
  }
  while ( v4 <= v3 );
  MEMORY[0xFFFFABA6](40);
  sub_9060(0);
  v5 = MEMORY[0x13468];
  if ( MEMORY[0x13468] )
  {
    v6 = 1;
  }
  else
  {
    v6 = 24;
    v5 = MEMORY[0x1648C];
  }
  do
  {
    sub_9060(v5);
    if ( dword_40009000 & 0x800 )
    {
      v5 -= 8 * v6;
      if ( v5 < 0 )
        v5 = 0;
      v13 = v6;
    }
    else
    {
      v5 += 8 * v6;
      if ( v5 > 1023 )
        v5 = 1023;
      v12 = v6;
    }
    if ( v6 != 1 )
      v6 >>= 1;
  }
  while ( v12 != 1 || v13 != 1 );
  MEMORY[0x13468] = v5;
  v7 = (unsigned int)(((v5 - MEMORY[0x1648C]) * MEMORY[0x16490] << 8) + 65536000) >> 16;
  sub_903C(v14);
  sub_9060(0);
  dword_40009000 = 0;
  MEMORY[0xFFFFABA6](100);
  sub_8A68();
  sub_903C(v0);
  return v7;
}
// 40008C30: using guessed type int dword_40008C30;
// 40009000: using guessed type int dword_40009000;

//----- (00008CBE) --------------------------------------------------------
signed int sub_8CBE()
{
  unsigned int v0; // r0
  signed int result; // r0

  sub_904A();
  v0 = sub_8B96();
  MEMORY[0x16484] = v0;
  sub_8A72(v0);
  ((void (__fastcall *)(_DWORD))loc_4E00)(MEMORY[0x16484]);
  dword_40008C7C = 766;
  sub_8A68();
  result = 762;
  dword_40008C7C = 762;
  return result;
}
// 38: using guessed type int dword_38[40];
// 40008C7C: using guessed type int dword_40008C7C;

//----- (00008CF8) --------------------------------------------------------
int __fastcall sub_8CF8(int a1)
{
  unsigned int v1; // r5
  int v2; // r6
  int v3; // r7
  int v4; // r0
  __int16 v5; // r0
  int v6; // r0
  int v7; // r0
  char v8; // r0
  unsigned int v9; // r0
  int v11; // [sp+0h] [bp-20h]
  int v12; // [sp+4h] [bp-1Ch]
  unsigned int v13; // [sp+8h] [bp-18h]

  v1 = 0;
  v2 = a1;
  v3 = 0;
  v12 = 0;
  MEMORY[0xFFFFADAC](0);
  __disable_irq();
  sub_9D30(MEMORY[0x13460]);
  if ( !v2 )
  {
    sub_9D82(0);
LABEL_7:
    v5 = 0;
    goto LABEL_8;
  }
  v4 = MEMORY[0x13460];
  if ( MEMORY[0x13460] )
    v4 = 1;
  sub_9D82(v4);
  if ( v2 != 1 )
    goto LABEL_7;
  v5 = MEMORY[0x13461];
LABEL_8:
  sub_9D44(v5);
  v11 = ((int (*)(void))loc_4854)();
  MEMORY[0x1646D] = 0;
  if ( MEMORY[0x13464] )
  {
    v12 = ((int (__fastcall *)(signed int, signed int, _DWORD))loc_6906)(0x10000, 25600, 0);
    v3 = dword_E000E014;
    dword_E000E014 = 0xFFFFFF;
    dword_E000E018 = 0;
  }
  while ( 1 )
  {
    v6 = sub_90A2(v11);
    v1 += MEMORY[0x1646E];
    if ( v6 != 8 )
      break;
    v7 = MEMORY[0xFFFFCD34]();
    if ( MEMORY[0xFFFFCD54](v7) )
    {
      if ( sub_9D90() )
        v8 = 3;
      else
        v8 = 1;
      goto LABEL_23;
    }
    v13 = MEMORY[0x13464];
    if ( MEMORY[0x13464] )
    {
      v9 = MEMORY[0xFFFFB4E4](0xFFFFFF - dword_E000E018, 6357);
      while ( MEMORY[0x1646E] <= v9 )
      {
        v9 -= MEMORY[0x1646E];
        v1 += MEMORY[0x1646E];
      }
      v11 = MEMORY[0xFFFFB4E4]((MEMORY[0x1646E] - v9) * (_DWORD)dword_FFC8, v12);
      dword_E000E018 = 0;
      if ( v1 >= v13 )
      {
        v8 = 2;
LABEL_23:
        MEMORY[0x1646D] = v8;
        break;
      }
    }
  }
  while ( dword_40008C6C & 0x200 )
    ;
  dword_40008C18 |= 0x41u;
  MEMORY[0x17D78](2000);
  dword_40008C18 &= 0x3F80u;
  MEMORY[0xFFFFCD44]();
  dword_40008C1C = (signed int)&unk_40008C00 >> 21;
  if ( MEMORY[0x13464] )
  {
    dword_E000E014 = v3;
    dword_E000E018 = 0;
  }
  __enable_irq();
  return MEMORY[0xFFFFADAC](1);
}
// 0: using guessed type int dword_0[11];
// FFC8: using guessed type int dword_FFC8[14];
// 17D78: using guessed type int (__fastcall *)(_DWORD);
// 40008C18: using guessed type int dword_40008C18;
// 40008C1C: using guessed type int dword_40008C1C;
// 40008C6C: using guessed type int dword_40008C6C;
// E000E014: using guessed type int dword_E000E014;
// E000E018: using guessed type int dword_E000E018;

//----- (00008F1A) --------------------------------------------------------
void sub_8F1A()
{
  MEMORY[0x175C4] = 71237;
  MEMORY[0x175CC] = 71241;
  MEMORY[0x175C8] = 71467;
  sub_908E();
}

//----- (00008FD2) --------------------------------------------------------
signed int __fastcall sub_8FD2(unsigned int a1)
{
  int v1; // r1

  v1 = 0;
  if ( a1 > 0x36EE80 )
    return 217091;
  MEMORY[0x13464] = a1;
  return v1;
}

//----- (00009018) --------------------------------------------------------
unsigned int __fastcall sub_9018(int a1)
{
  return sub_9DA8(a1);
}

//----- (00009020) --------------------------------------------------------
int __fastcall sub_9020(_WORD *a1)
{
  return sub_9E68(a1);
}

//----- (00009028) --------------------------------------------------------
int sub_9028()
{
  int result; // r0

  result = MEMORY[0x17CE0];
  if ( MEMORY[0x17CE0] )
    result = MEMORY[0xFFFF9E42](MEMORY[0x175D8]);
  return result;
}

//----- (0000903C) --------------------------------------------------------
void *__fastcall sub_903C(int a1)
{
  dword_40008C34 = a1;
  return sub_8A68();
}
// 40008C34: using guessed type int dword_40008C34;

//----- (0000904A) --------------------------------------------------------
void *sub_904A()
{
  dword_40008C28 = (dword_40008C28 & 0xFFFFFFF9) + 4;
  return sub_8A68();
}
// 40008C28: using guessed type int dword_40008C28;

//----- (00009060) --------------------------------------------------------
void *__fastcall sub_9060(int a1)
{
  dword_40009000 = 2 * a1 + 1;
  MEMORY[0xFFFFABA6](100);
  return sub_8A68();
}
// 40009000: using guessed type int dword_40009000;

//----- (00009076) --------------------------------------------------------
int __fastcall sub_9076(int a1, int a2, int a3, int a4)
{
  int result; // r0
  int v5; // [sp+0h] [bp-8h]

  v5 = a4;
  result = MEMORY[0x17CE0];
  if ( MEMORY[0x17CE0] )
    result = MEMORY[0xFFFF9CB2](MEMORY[0x175D8], 0, &v5);
  return result;
}

//----- (0000908E) --------------------------------------------------------
void sub_908E()
{
  MEMORY[0x1648C] = ((int (*)(void))loc_6C84)();
  JUMPOUT(&loc_6C8E);
}

//----- (000090A2) --------------------------------------------------------
int __fastcall sub_90A2(int a1)
{
  int v1; // r7
  int i; // r2
  int v3; // r7

  v1 = a1;
  dword_40008C10 |= 1u;
  sub_8A68();
  dword_40008C94 |= 1u;
  dword_40008C50 = v1 | 0x10000;
  sub_8A68();
  if ( dword_40008C5C << 29 )
  {
    for ( i = 0; ; i = MEMORY[0x1346C] + 1 )
    {
      MEMORY[0x1346C] = i;
      if ( i >= 10 )
        break;
    }
  }
  while ( !(dword_40008C5C << 28) )
    ;
  MEMORY[0xFFFFABA6](25);
  v3 = dword_40008C5C & 0xF;
  dword_40008C60 = 63;
  dword_40008C04 = 259792711;
  MEMORY[0xFFFFABA6](15);
  dword_40008C94 = 2 * ((unsigned int)dword_40008C94 >> 1);
  return v3;
}
// 0: using guessed type int dword_0[11];
// 40008C04: using guessed type int dword_40008C04;
// 40008C10: using guessed type int dword_40008C10;
// 40008C50: using guessed type int dword_40008C50;
// 40008C5C: using guessed type int dword_40008C5C;
// 40008C60: using guessed type int dword_40008C60;
// 40008C94: using guessed type int dword_40008C94;

//----- (00009164) --------------------------------------------------------
void sub_9164()
{
  int v0; // r0

  v0 = MEMORY[0xFFFFAF76]();
  (*(void (__fastcall **)(int))((char *)&dword_DB4 + 2))(v0);
  JUMPOUT(&loc_6298);
}
// DB4: using guessed type int dword_DB4;

//----- (00009198) --------------------------------------------------------
int __fastcall sub_9198(int result)
{
  MEMORY[0x17218] = result;
  return result;
}

//----- (000091A0) --------------------------------------------------------
signed int sub_91A0()
{
  int v0; // r0
  int v1; // r0

  v0 = (*(int (__fastcall **)(signed int))"rs/fsl_tpm.c:187 : numOfChnls")(1);
  if ( v0 )
  {
    v1 = *(unsigned __int8 *)(v0 + 1);
    JUMPOUT(&loc_4F02);
  }
  return 15;
}

//----- (00009306) --------------------------------------------------------
signed int sub_9306()
{
  signed int result; // r0

  MEMORY[0x178BC] = 72251;
  result = 72229;
  MEMORY[0x178C0] = 72229;
  return result;
}

//----- (00009316) --------------------------------------------------------
int sub_9316()
{
  int v0; // r4

  v0 = MEMORY[0x1753C] << 18 >> 25;
  if ( MEMORY[0x17520] << 16 >> 24 == 1 )
    JUMPOUT(&loc_6C98);
  return (unsigned __int8)v0;
}

//----- (00009338) --------------------------------------------------------
int sub_9338()
{
  unsigned int v0; // r4

  v0 = (unsigned int)(16 * MEMORY[0x1753C]) >> 25;
  if ( MEMORY[0x17520] << 16 >> 24 == 1 )
    v0 = (((int (*)(void))loc_6CAC)() + v0) >> 1;
  return (unsigned __int8)v0;
}

//----- (000093D0) --------------------------------------------------------
void sub_93D0()
{
  dword_40001800 = 1;
  JUMPOUT(&loc_6A90);
}
// 40001800: using guessed type int dword_40001800;

//----- (0000943E) --------------------------------------------------------
int __fastcall sub_943E(int a1)
{
  int v1; // r5
  signed int v2; // r0
  signed int v3; // r0

  v1 = a1;
  v2 = sub_9F28();
  MEMORY[0xFFFFAAB0](v2);
  sub_8278();
  v3 = sub_9B56();
  MEMORY[0xFFFF970A](v3);
  MEMORY[0xFFFFBF38](79004, 448);
  MEMORY[0xFFFFBF66](0, 9, 75872, 256, MEMORY[0x1347C], 79452, 20);
  MEMORY[0xFFFFBF66](1, 10, 76896, 256, MEMORY[0x13480], 79532, 10);
  if ( MEMORY[0x13474] )
    MEMORY[0xFFFFA436](MEMORY[0x13474], MEMORY[0x13484], MEMORY[0x13488], 11, 0);
  MEMORY[0x13494] = MEMORY[0xFFFFA2CC](MEMORY[0x13470]);
  if ( MEMORY[0x13478] )
    MEMORY[0x13498] = MEMORY[0xFFFFA004]();
  MEMORY[0xFFFFBF84](0, 68477, 72635, v1);
  return MEMORY[0xFFFFBF78](0, 71571);
}

//----- (00009568) --------------------------------------------------------
int sub_9568()
{
  int v0; // r0

  sub_943E(0);
  MEMORY[0xFFFFBF78](0, 32941);
  v0 = MEMORY[0xFFFFBF78](0, 71643);
  return MEMORY[0xFFFF9802](v0);
}

//----- (00009590) --------------------------------------------------------
signed int __fastcall sub_9590(int a1, int a2, int a3, int a4, int a5)
{
  signed int result; // r0

  MEMORY[0x13474] = a1;
  MEMORY[0x13484] = a2;
  MEMORY[0x13488] = a3;
  MEMORY[0x1348C] = a4;
  result = 78992;
  MEMORY[0x13490] = a5;
  return result;
}

//----- (000095AA) --------------------------------------------------------
signed int __fastcall sub_95AA(int a1, __int16 a2)
{
  signed int result; // r0

  MEMORY[0x13478] = a1;
  result = 78962;
  MEMORY[0x13472] = a2;
  return result;
}

//----- (000095C4) --------------------------------------------------------
int __fastcall sub_95C4(int a1)
{
  return MEMORY[0xFFFFA14A](MEMORY[0x13498], a1);
}

//----- (000095D2) --------------------------------------------------------
int __fastcall sub_95D2(int a1)
{
  return MEMORY[0xFFFF9FB4](MEMORY[0x13498], a1);
}

//----- (00009702) --------------------------------------------------------
signed int sub_9702()
{
  MEMORY[0x1770C] = 73349;
  MEMORY[0x17714] = 73325;
  return sub_9C16(73253);
}

//----- (00009718) --------------------------------------------------------
int __fastcall sub_9718(int a1, int a2)
{
  int v2; // r4
  int result; // r0

  v2 = a2;
  result = ((int (*)(void))loc_9F7C)();
  if ( result )
    result = nullsub_3(*(unsigned __int8 *)(result + 4), v2);
  return result;
}
// 7944: using guessed type int __fastcall nullsub_3(_DWORD, _DWORD);

//----- (0000972E) --------------------------------------------------------
unsigned int __fastcall sub_972E(int a1)
{
  int v1; // r2
  unsigned int result; // r0

  v1 = a1;
  result = 1;
  if ( !v1 )
  {
    result = (unsigned int)(dword_4000A000 << 27) >> 29;
    if ( result )
      JUMPOUT(&loc_59DE);
  }
  return result;
}
// 4000A000: using guessed type int dword_4000A000;

//----- (00009778) --------------------------------------------------------
int *sub_9778()
{
  int *result; // r0
  int *v1; // r5
  int v2; // r0
  int v3; // r6
  int v4; // r2
  unsigned int v5; // r0
  int v6; // r4
  unsigned int v7; // r3
  int v8; // [sp+0h] [bp-48h]
  unsigned int v9; // [sp+4h] [bp-44h]
  unsigned __int8 v10; // [sp+8h] [bp-40h]
  unsigned __int8 v11; // [sp+Ch] [bp-3Ch]
  unsigned int v12; // [sp+14h] [bp-34h]
  int v13; // [sp+28h] [bp-20h]
  int v14; // [sp+2Ch] [bp-1Ch]
  int v15; // [sp+30h] [bp-18h]

  v13 = 0;
  result = (int *)(*(int (**)(void))((char *)&off_4BCC + 2))();
  v1 = result;
  while ( v1 )
  {
    do
    {
      while ( 1 )
      {
        v2 = (*(int (__fastcall **)(int, unsigned __int8 *))((char *)&off_4BCC + 2))((int)v1 + v10 - 1, &v11);
        v3 = v2;
        if ( (int *)((char *)v1 + v10) != (int *)v2 )
          break;
        v10 += v11;
      }
    }
    while ( v2 == 255 );
    v12 = v10;
    v4 = (unsigned __int8)v1;
    if ( MEMORY[0x12858] == 0xFFFF )
    {
      v8 = v13;
      v7 = v12;
      goto LABEL_17;
    }
    v5 = 0;
    v6 = (unsigned __int8)v1;
    v14 = (unsigned __int8)v1;
    v15 = 0;
    while ( 1 )
    {
      v9 = v5;
      if ( v5 >= v12 )
        break;
      if ( *(unsigned __int8 *)(MEMORY[0x12854] + ((unsigned __int64)(unsigned int)v6 >> 3)) & (1 << (v6 & 7))
        && (unsigned int)MEMORY[0x1285C] + v6 <= (unsigned int)v1 + v10 )
      {
        if ( v15 )
          ((void (__fastcall *)(signed int, _DWORD, _DWORD, _DWORD, int))loc_B338)(
            14,
            0,
            (unsigned __int8)v14,
            (unsigned __int8)v15,
            v13);
        v15 = 0;
        v14 = MEMORY[0x1285C] + v6;
        v8 = v13 | 2;
        ((void (__fastcall *)(signed int, _DWORD, _DWORD))loc_B338)(14, 0, (unsigned __int8)v6);
        v6 = MEMORY[0x1285C] + v6 - 1;
        v9 = MEMORY[0x1285C] + v9 - 1;
      }
      else
      {
        ++v15;
      }
      ++v6;
      v5 = v9 + 1;
    }
    if ( v15 )
    {
      v8 = v13;
      v7 = (unsigned __int8)v15;
      v4 = (unsigned __int8)v14;
LABEL_17:
      ((void (__fastcall *)(signed int, _DWORD, int, unsigned int, int))loc_B338)(14, 0, v4, v7, v8);
    }
    result = &v8;
    v1 = (int *)v3;
    v10 = v11;
  }
  return result;
}
// 4BCC: using guessed type int *off_4BCC;

//----- (0000988E) --------------------------------------------------------
void __fastcall sub_988E(char a1)
{
  sub_9C32(a1);
  JUMPOUT(&loc_3582);
}

//----- (0000997A) --------------------------------------------------------
signed int sub_997A()
{
  signed int result; // r0

  MEMORY[0x1774C] = 74069;
  MEMORY[0x17744] = 73629;
  MEMORY[0x1777C] = 73907;
  MEMORY[0x17780] = 74019;
  result = 73923;
  MEMORY[0x1776C] = 73923;
  return result;
}

//----- (000099A4) --------------------------------------------------------
void sub_99A4()
{
  JUMPOUT(&loc_4F02);
}

//----- (000099D8) --------------------------------------------------------
int __fastcall sub_99D8(int a1, _WORD *a2, _WORD *a3)
{
  _WORD *v3; // r5
  int v4; // r4
  _WORD *v5; // r6
  int v6; // r0

  v3 = a2;
  v4 = 36875;
  v5 = a3;
  v6 = ((int (*)(void))loc_B2E0)();
  *v3 = 0;
  *v5 = 0;
  if ( v6 )
    v4 = sub_877A(*(_DWORD *)(v6 + 12), (int)v3, v5);
  return v4;
}

//----- (00009A02) --------------------------------------------------------
signed int __fastcall sub_9A02(int a1, _BYTE *a2)
{
  _BYTE *v2; // r5
  signed int v3; // r4
  int v4; // r0

  v2 = a2;
  v3 = 0;
  v4 = ((int (*)(void))loc_B2E0)();
  if ( v4 )
  {
    if ( !*(_BYTE *)(v4 + 18) )
      v3 = 1;
    *v2 = *(_BYTE *)(v4 + 25);
  }
  return v3;
}

//----- (00009A24) --------------------------------------------------------
int __fastcall sub_9A24(int a1, int a2)
{
  int v2; // r4
  int result; // r0

  v2 = a2;
  result = ((int (*)(void))loc_B30C)();
  if ( result )
    result = sub_9718(*(unsigned __int8 *)(result + 17), v2);
  return result;
}

//----- (00009B56) --------------------------------------------------------
signed int sub_9B56()
{
  signed int result; // r0

  result = 74409;
  MEMORY[0x175A4] = 74409;
  return result;
}

//----- (00009C16) --------------------------------------------------------
signed int __fastcall sub_9C16(int a1)
{
  MEMORY[0x17718] = 74655;
  MEMORY[0x16C90] = a1;
  MEMORY[0x16D84] = 74723;
  return sub_997A();
}

//----- (00009C32) --------------------------------------------------------
int __fastcall sub_9C32(char a1)
{
  unsigned int v1; // r1
  signed int v2; // r2
  int result; // r0

  v1 = 0;
  v2 = 1 << a1;
  do
  {
    result = 20 * v1++ + 93348;
    *(_DWORD *)(result + 4) &= ~v2;
  }
  while ( v1 < 8 );
  return result;
}

//----- (00009C50) --------------------------------------------------------
void sub_9C50()
{
  JUMPOUT(&loc_6470);
}

//----- (00009C96) --------------------------------------------------------
void sub_9C96()
{
  JUMPOUT(&locret_3502);
}

//----- (00009CAC) --------------------------------------------------------
int __fastcall sub_9CAC(int a1, int a2)
{
  int v2; // r5
  int v3; // r4
  int result; // r0
  int v5; // r0

  v2 = a2;
  v3 = 20 * a1 + 93348;
  if ( *(unsigned __int8 *)(20 * a1 + 0x16CB4) != 255 )
  {
    MEMORY[0xFFFFDD66]();
    *(_BYTE *)(v3 + 16) = -1;
  }
  if ( !(*(_DWORD *)(v3 + 4) & (1 << v2))
    || (result = MEMORY[0x16C9C](*(unsigned __int8 *)(v3 + 2), v2, sub_9018), *(_DWORD *)(v3 + 4) &= ~(1 << v2), !result) )
  {
    v5 = *(unsigned __int8 *)(v3 + 2);
    JUMPOUT(&loc_3544);
  }
  if ( *(unsigned __int8 *)(v3 + 3) == v2 )
    *(_BYTE *)(v3 + 3) = 18;
  return result;
}
// 16C9C: using guessed type int (__fastcall *)(_DWORD, _DWORD, _DWORD);

//----- (00009D30) --------------------------------------------------------
int __fastcall sub_9D30(__int16 a1)
{
  return MEMORY[0xFFFFCABE]((unsigned __int16)(298 * a1), 1785, 1);
}

//----- (00009D44) --------------------------------------------------------
int __fastcall sub_9D44(__int16 a1)
{
  return MEMORY[0xFFFFCABE]((unsigned __int16)(298 * a1), 1786, 1);
}

//----- (00009D5A) --------------------------------------------------------
int __fastcall sub_9D5A(int a1)
{
  unsigned int v1; // r4
  int v2; // r5
  int result; // r0

  v1 = 0;
  v2 = a1;
  do
  {
    result = MEMORY[0xFFFFCABE](
               (*(unsigned __int8 *)(2 * v1 + v2 + 1) << 8) | *(unsigned __int8 *)(2 * v1 + v2),
               v1 + 1787,
               1);
    v1 = (unsigned __int8)(v1 + 1);
  }
  while ( v1 < 8 );
  return result;
}

//----- (00009D82) --------------------------------------------------------
int __fastcall sub_9D82(int a1)
{
  return MEMORY[0xFFFFCABE](a1, 1795, 1);
}

//----- (00009D90) --------------------------------------------------------
BOOL sub_9D90()
{
  return MEMORY[0xFFFFCADC](1795, 1) == 8;
}

//----- (00009DA8) --------------------------------------------------------
unsigned int __fastcall sub_9DA8(int a1)
{
  unsigned int v1; // r4
  int v2; // r5
  unsigned int v3; // r0
  unsigned int result; // r0
  int v5; // r1

  v1 = 0;
  v2 = a1;
  do
  {
    v3 = MEMORY[0xFFFFCADC](v1 + 1796, 1);
    *(_BYTE *)(v2 + 2 * v1) = v3;
    result = v3 >> 8;
    v5 = 2 * v1 + v2;
    v1 = (unsigned __int8)(v1 + 1);
    *(_BYTE *)(v5 + 1) = result;
  }
  while ( v1 < 8 );
  return result;
}

//----- (00009DCE) --------------------------------------------------------
int __fastcall sub_9DCE(unsigned int a1)
{
  unsigned __int64 v1; // r0
  __int16 v3; // r0
  int v4; // [sp+4h] [bp-1Ch]
  int v5; // [sp+8h] [bp-18h]

  v1 = (unsigned __int64)a1 << 24;
  v4 = HIDWORD(v1) << 27 >> 29;
  v5 = HIDWORD(v1) << 30 >> 31;
  if ( (unsigned int)v1 >> 23 )
  {
    if ( (BYTE4(v1) & 1) == 1 )
      ((void (*)(void))loc_6C7A)();
    if ( v5 == 1 )
      ((void (*)(void))loc_6C70)();
    if ( v4 != 1 )
    {
      if ( v4 != 2 )
      {
        if ( v4 != 3 )
        {
          if ( v4 == 4 )
            v3 = sub_6C68(4) + 80;
          JUMPOUT(&loc_6C42);
        }
        JUMPOUT(&loc_6C5E);
      }
      JUMPOUT(&loc_6C54);
    }
    JUMPOUT(&loc_6C4A);
  }
  return 0;
}

//----- (00009E68) --------------------------------------------------------
int __fastcall sub_9E68(_WORD *a1)
{
  _WORD *v1; // r4
  unsigned int v2; // r0
  int result; // r0

  v1 = a1;
  v2 = MEMORY[0xFFFFCADC](1804, 1);
  result = sub_9DCE(v2);
  *v1 = result;
  return result;
}

//----- (00009E84) --------------------------------------------------------
signed int sub_9E84()
{
  signed int result; // r0

  result = 96148;
  MEMORY[0x17798] = 1392;
  MEMORY[0x177A0] = 1504;
  MEMORY[0x177A8] = 1520;
  MEMORY[0x177B0] = 1472;
  MEMORY[0x177B8] = 1568;
  MEMORY[0x177C0] = 1600;
  MEMORY[0x177C8] = 1760;
  return result;
}

//----- (00009F28) --------------------------------------------------------
signed int sub_9F28()
{
  signed int result; // r0

  result = 75509;
  MEMORY[0x1764C] = 75509;
  return result;
}

//----- (00009F46) --------------------------------------------------------
void sub_9F46()
{
  JUMPOUT(loc_9F7C);
}

//----- (0000A52E) --------------------------------------------------------
void __fastcall sub_A52E(int a1)
{
  sub_A630();
}

//----- (0000A630) --------------------------------------------------------
void sub_A630()
{
  JUMPOUT(loc_A7AE);
}

//----- (0000D1B0) --------------------------------------------------------
int *__fastcall sub_D1B0(int *result, int a2, char a3, int a4)
{
  if ( a2 )
    *result = a2 & (a4 << a3) | *result & ~a2;
  __isb(0xFu);
  __dsb(0xFu);
  return result;
}

#error "There were 1 decompilation failure(s) on 309 function(s)"
